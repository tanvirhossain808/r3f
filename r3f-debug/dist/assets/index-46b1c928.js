function PL(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function Kc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var JE={exports:{}},_g={},QE={exports:{}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d=Symbol.for("react.element"),RL=Symbol.for("react.portal"),LL=Symbol.for("react.fragment"),IL=Symbol.for("react.strict_mode"),DL=Symbol.for("react.profiler"),kL=Symbol.for("react.provider"),OL=Symbol.for("react.context"),NL=Symbol.for("react.forward_ref"),zL=Symbol.for("react.suspense"),FL=Symbol.for("react.memo"),BL=Symbol.for("react.lazy"),RS=Symbol.iterator;function UL(n){return n===null||typeof n!="object"?null:(n=RS&&n[RS]||n["@@iterator"],typeof n=="function"?n:null)}var eC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tC=Object.assign,nC={};function Jc(n,e,t){this.props=n,this.context=e,this.refs=nC,this.updater=t||eC}Jc.prototype.isReactComponent={};Jc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Jc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function iC(){}iC.prototype=Jc.prototype;function Gx(n,e,t){this.props=n,this.context=e,this.refs=nC,this.updater=t||eC}var jx=Gx.prototype=new iC;jx.constructor=Gx;tC(jx,Jc.prototype);jx.isPureReactComponent=!0;var LS=Array.isArray,rC=Object.prototype.hasOwnProperty,Xx={current:null},sC={key:!0,ref:!0,__self:!0,__source:!0};function oC(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)rC.call(e,i)&&!sC.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),f=0;f<a;f++)l[f]=arguments[f+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:_d,type:n,key:s,ref:o,props:r,_owner:Xx.current}}function HL(n,e){return{$$typeof:_d,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Yx(n){return typeof n=="object"&&n!==null&&n.$$typeof===_d}function VL(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var IS=/\/+/g;function d1(n,e){return typeof n=="object"&&n!==null&&n.key!=null?VL(""+n.key):e.toString(36)}function am(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case _d:case RL:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+d1(o,0):i,LS(r)?(t="",n!=null&&(t=n.replace(IS,"$&/")+"/"),am(r,e,t,"",function(f){return f})):r!=null&&(Yx(r)&&(r=HL(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(IS,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",LS(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+d1(s,a);o+=am(s,e,t,l,r)}else if(l=UL(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+d1(s,a++),o+=am(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yh(n,e,t){if(n==null)return n;var i=[],r=0;return am(n,i,"","",function(s){return e.call(t,s,r++)}),i}function WL(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ai={current:null},lm={transition:null},$L={ReactCurrentDispatcher:Ai,ReactCurrentBatchConfig:lm,ReactCurrentOwner:Xx};At.Children={map:Yh,forEach:function(n,e,t){Yh(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Yh(n,function(){e++}),e},toArray:function(n){return Yh(n,function(e){return e})||[]},only:function(n){if(!Yx(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};At.Component=Jc;At.Fragment=LL;At.Profiler=DL;At.PureComponent=Gx;At.StrictMode=IL;At.Suspense=zL;At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$L;At.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=tC({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Xx.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)rC.call(e,l)&&!sC.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var f=0;f<l;f++)a[f]=arguments[f+2];i.children=a}return{$$typeof:_d,type:n.type,key:r,ref:s,props:i,_owner:o}};At.createContext=function(n){return n={$$typeof:OL,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:kL,_context:n},n.Consumer=n};At.createElement=oC;At.createFactory=function(n){var e=oC.bind(null,n);return e.type=n,e};At.createRef=function(){return{current:null}};At.forwardRef=function(n){return{$$typeof:NL,render:n}};At.isValidElement=Yx;At.lazy=function(n){return{$$typeof:BL,_payload:{_status:-1,_result:n},_init:WL}};At.memo=function(n,e){return{$$typeof:FL,type:n,compare:e===void 0?null:e}};At.startTransition=function(n){var e=lm.transition;lm.transition={};try{n()}finally{lm.transition=e}};At.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};At.useCallback=function(n,e){return Ai.current.useCallback(n,e)};At.useContext=function(n){return Ai.current.useContext(n)};At.useDebugValue=function(){};At.useDeferredValue=function(n){return Ai.current.useDeferredValue(n)};At.useEffect=function(n,e){return Ai.current.useEffect(n,e)};At.useId=function(){return Ai.current.useId()};At.useImperativeHandle=function(n,e,t){return Ai.current.useImperativeHandle(n,e,t)};At.useInsertionEffect=function(n,e){return Ai.current.useInsertionEffect(n,e)};At.useLayoutEffect=function(n,e){return Ai.current.useLayoutEffect(n,e)};At.useMemo=function(n,e){return Ai.current.useMemo(n,e)};At.useReducer=function(n,e,t){return Ai.current.useReducer(n,e,t)};At.useRef=function(n){return Ai.current.useRef(n)};At.useState=function(n){return Ai.current.useState(n)};At.useSyncExternalStore=function(n,e,t){return Ai.current.useSyncExternalStore(n,e,t)};At.useTransition=function(){return Ai.current.useTransition()};At.version="18.2.0";QE.exports=At;var R=QE.exports;const V=Kc(R),GL=PL({__proto__:null,default:V},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jL=R,XL=Symbol.for("react.element"),YL=Symbol.for("react.fragment"),ZL=Object.prototype.hasOwnProperty,qL=jL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KL={key:!0,ref:!0,__self:!0,__source:!0};function aC(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)ZL.call(e,i)&&!KL.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:XL,type:n,key:s,ref:o,props:r,_owner:qL.current}}_g.Fragment=YL;_g.jsx=aC;_g.jsxs=aC;JE.exports=_g;var Zx=JE.exports;const ys=Zx.Fragment,fe=Zx.jsx,$e=Zx.jsxs;var Fv={},lC={exports:{}},sr={},cC={exports:{}},uC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,Y){var G=N.length;N.push(Y);e:for(;0<G;){var X=G-1>>>1,J=N[X];if(0<r(J,Y))N[X]=Y,N[G]=J,G=X;else break e}}function t(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var Y=N[0],G=N.pop();if(G!==Y){N[0]=G;e:for(var X=0,J=N.length,pe=J>>>1;X<pe;){var ye=2*(X+1)-1,be=N[ye],oe=ye+1,Ue=N[oe];if(0>r(be,G))oe<J&&0>r(Ue,be)?(N[X]=Ue,N[oe]=G,X=oe):(N[X]=be,N[ye]=G,X=ye);else if(oe<J&&0>r(Ue,G))N[X]=Ue,N[oe]=G,X=oe;else break e}}return Y}function r(N,Y){var G=N.sortIndex-Y.sortIndex;return G!==0?G:N.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],f=[],d=1,h=null,p=3,m=!1,v=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(N){for(var Y=t(f);Y!==null;){if(Y.callback===null)i(f);else if(Y.startTime<=N)i(f),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=t(f)}}function M(N){if(y=!1,b(N),!v)if(t(l)!==null)v=!0,te(T);else{var Y=t(f);Y!==null&&se(M,Y.startTime-N)}}function T(N,Y){v=!1,y&&(y=!1,x(C),C=-1),m=!0;var G=p;try{for(b(Y),h=t(l);h!==null&&(!(h.expirationTime>Y)||N&&!O());){var X=h.callback;if(typeof X=="function"){h.callback=null,p=h.priorityLevel;var J=X(h.expirationTime<=Y);Y=n.unstable_now(),typeof J=="function"?h.callback=J:h===t(l)&&i(l),b(Y)}else i(l);h=t(l)}if(h!==null)var pe=!0;else{var ye=t(f);ye!==null&&se(M,ye.startTime-Y),pe=!1}return pe}finally{h=null,p=G,m=!1}}var A=!1,L=null,C=-1,k=5,D=-1;function O(){return!(n.unstable_now()-D<k)}function $(){if(L!==null){var N=n.unstable_now();D=N;var Y=!0;try{Y=L(!0,N)}finally{Y?W():(A=!1,L=null)}}else A=!1}var W;if(typeof w=="function")W=function(){w($)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,q=H.port2;H.port1.onmessage=$,W=function(){q.postMessage(null)}}else W=function(){_($,0)};function te(N){L=N,A||(A=!0,W())}function se(N,Y){C=_(function(){N(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,te(T))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var G=p;p=Y;try{return N()}finally{p=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,Y){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var G=p;p=N;try{return Y()}finally{p=G}},n.unstable_scheduleCallback=function(N,Y,G){var X=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?X+G:X):G=X,N){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=G+J,N={id:d++,callback:Y,priorityLevel:N,startTime:G,expirationTime:J,sortIndex:-1},G>X?(N.sortIndex=G,e(f,N),t(l)===null&&N===t(f)&&(y?(x(C),C=-1):y=!0,se(M,G-X))):(N.sortIndex=J,e(l,N),v||m||(v=!0,te(T))),N},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(N){var Y=p;return function(){var G=p;p=Y;try{return N.apply(this,arguments)}finally{p=G}}}})(uC);cC.exports=uC;var JL=cC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fC=R,rr=JL;function Me(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dC=new Set,kf={};function hl(n,e){Oc(n,e),Oc(n+"Capture",e)}function Oc(n,e){for(kf[n]=e,n=0;n<e.length;n++)dC.add(e[n])}var to=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bv=Object.prototype.hasOwnProperty,QL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DS={},kS={};function e9(n){return Bv.call(kS,n)?!0:Bv.call(DS,n)?!1:QL.test(n)?kS[n]=!0:(DS[n]=!0,!1)}function t9(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function n9(n,e,t,i){if(e===null||typeof e>"u"||t9(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pi(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Qn[n]=new Pi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Qn[e]=new Pi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Qn[n]=new Pi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Qn[n]=new Pi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Qn[n]=new Pi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Qn[n]=new Pi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Qn[n]=new Pi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Qn[n]=new Pi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Qn[n]=new Pi(n,5,!1,n.toLowerCase(),null,!1,!1)});var qx=/[\-:]([a-z])/g;function Kx(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(qx,Kx);Qn[e]=new Pi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(qx,Kx);Qn[e]=new Pi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(qx,Kx);Qn[e]=new Pi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Qn[n]=new Pi(n,1,!1,n.toLowerCase(),null,!1,!1)});Qn.xlinkHref=new Pi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Qn[n]=new Pi(n,1,!1,n.toLowerCase(),null,!0,!0)});function Jx(n,e,t,i){var r=Qn.hasOwnProperty(e)?Qn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(n9(e,t,r,i)&&(t=null),i||r===null?e9(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var fo=fC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zh=Symbol.for("react.element"),ac=Symbol.for("react.portal"),lc=Symbol.for("react.fragment"),Qx=Symbol.for("react.strict_mode"),Uv=Symbol.for("react.profiler"),hC=Symbol.for("react.provider"),pC=Symbol.for("react.context"),e_=Symbol.for("react.forward_ref"),Hv=Symbol.for("react.suspense"),Vv=Symbol.for("react.suspense_list"),t_=Symbol.for("react.memo"),Lo=Symbol.for("react.lazy"),mC=Symbol.for("react.offscreen"),OS=Symbol.iterator;function Fu(n){return n===null||typeof n!="object"?null:(n=OS&&n[OS]||n["@@iterator"],typeof n=="function"?n:null)}var dn=Object.assign,h1;function uf(n){if(h1===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);h1=e&&e[1]||""}return`
`+h1+n}var p1=!1;function m1(n,e){if(!n||p1)return"";p1=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(n,[],e)}else{try{e.call()}catch(f){i=f}n.call(e.prototype)}else{try{throw Error()}catch(f){i=f}n()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{p1=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?uf(n):""}function i9(n){switch(n.tag){case 5:return uf(n.type);case 16:return uf("Lazy");case 13:return uf("Suspense");case 19:return uf("SuspenseList");case 0:case 2:case 15:return n=m1(n.type,!1),n;case 11:return n=m1(n.type.render,!1),n;case 1:return n=m1(n.type,!0),n;default:return""}}function Wv(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case lc:return"Fragment";case ac:return"Portal";case Uv:return"Profiler";case Qx:return"StrictMode";case Hv:return"Suspense";case Vv:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case pC:return(n.displayName||"Context")+".Consumer";case hC:return(n._context.displayName||"Context")+".Provider";case e_:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case t_:return e=n.displayName||null,e!==null?e:Wv(n.type)||"Memo";case Lo:e=n._payload,n=n._init;try{return Wv(n(e))}catch{}}return null}function r9(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wv(e);case 8:return e===Qx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function gC(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function s9(n){var e=gC(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function qh(n){n._valueTracker||(n._valueTracker=s9(n))}function vC(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=gC(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Rm(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function $v(n,e){var t=e.checked;return dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function NS(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Xo(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yC(n,e){e=e.checked,e!=null&&Jx(n,"checked",e,!1)}function Gv(n,e){yC(n,e);var t=Xo(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?jv(n,e.type,t):e.hasOwnProperty("defaultValue")&&jv(n,e.type,Xo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function zS(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function jv(n,e,t){(e!=="number"||Rm(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var ff=Array.isArray;function Cc(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Xo(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function Xv(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Me(91));return dn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function FS(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Me(92));if(ff(t)){if(1<t.length)throw Error(Me(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Xo(t)}}function xC(n,e){var t=Xo(e.value),i=Xo(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function BS(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function _C(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yv(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?_C(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Kh,wC=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Kh=Kh||document.createElement("div"),Kh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kh.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Of(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var vf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o9=["Webkit","ms","Moz","O"];Object.keys(vf).forEach(function(n){o9.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),vf[e]=vf[n]})});function SC(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||vf.hasOwnProperty(n)&&vf[n]?(""+e).trim():e+"px"}function bC(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=SC(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var a9=dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zv(n,e){if(e){if(a9[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Me(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Me(62))}}function qv(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kv=null;function n_(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Jv=null,Tc=null,Ac=null;function US(n){if(n=bd(n)){if(typeof Jv!="function")throw Error(Me(280));var e=n.stateNode;e&&(e=Eg(e),Jv(n.stateNode,n.type,e))}}function MC(n){Tc?Ac?Ac.push(n):Ac=[n]:Tc=n}function EC(){if(Tc){var n=Tc,e=Ac;if(Ac=Tc=null,US(n),e)for(n=0;n<e.length;n++)US(e[n])}}function CC(n,e){return n(e)}function TC(){}var g1=!1;function AC(n,e,t){if(g1)return n(e,t);g1=!0;try{return CC(n,e,t)}finally{g1=!1,(Tc!==null||Ac!==null)&&(TC(),EC())}}function Nf(n,e){var t=n.stateNode;if(t===null)return null;var i=Eg(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Me(231,e,typeof t));return t}var Qv=!1;if(to)try{var Bu={};Object.defineProperty(Bu,"passive",{get:function(){Qv=!0}}),window.addEventListener("test",Bu,Bu),window.removeEventListener("test",Bu,Bu)}catch{Qv=!1}function l9(n,e,t,i,r,s,o,a,l){var f=Array.prototype.slice.call(arguments,3);try{e.apply(t,f)}catch(d){this.onError(d)}}var yf=!1,Lm=null,Im=!1,ey=null,c9={onError:function(n){yf=!0,Lm=n}};function u9(n,e,t,i,r,s,o,a,l){yf=!1,Lm=null,l9.apply(c9,arguments)}function f9(n,e,t,i,r,s,o,a,l){if(u9.apply(this,arguments),yf){if(yf){var f=Lm;yf=!1,Lm=null}else throw Error(Me(198));Im||(Im=!0,ey=f)}}function pl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function PC(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function HS(n){if(pl(n)!==n)throw Error(Me(188))}function d9(n){var e=n.alternate;if(!e){if(e=pl(n),e===null)throw Error(Me(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return HS(r),n;if(s===i)return HS(r),e;s=s.sibling}throw Error(Me(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Me(189))}}if(t.alternate!==i)throw Error(Me(190))}if(t.tag!==3)throw Error(Me(188));return t.stateNode.current===t?n:e}function RC(n){return n=d9(n),n!==null?LC(n):null}function LC(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=LC(n);if(e!==null)return e;n=n.sibling}return null}var IC=rr.unstable_scheduleCallback,VS=rr.unstable_cancelCallback,h9=rr.unstable_shouldYield,p9=rr.unstable_requestPaint,Mn=rr.unstable_now,m9=rr.unstable_getCurrentPriorityLevel,i_=rr.unstable_ImmediatePriority,DC=rr.unstable_UserBlockingPriority,Dm=rr.unstable_NormalPriority,g9=rr.unstable_LowPriority,kC=rr.unstable_IdlePriority,wg=null,ms=null;function v9(n){if(ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(wg,n,void 0,(n.current.flags&128)===128)}catch{}}var Yr=Math.clz32?Math.clz32:_9,y9=Math.log,x9=Math.LN2;function _9(n){return n>>>=0,n===0?32:31-(y9(n)/x9|0)|0}var Jh=64,Qh=4194304;function df(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function km(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=df(a):(s&=o,s!==0&&(i=df(s)))}else o=t&~r,o!==0?i=df(o):s!==0&&(i=df(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Yr(e),r=1<<t,i|=n[t],e&=~r;return i}function w9(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S9(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Yr(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=w9(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function ty(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function OC(){var n=Jh;return Jh<<=1,!(Jh&4194240)&&(Jh=64),n}function v1(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function wd(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Yr(e),n[e]=t}function b9(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Yr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function r_(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Yr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Ut=0;function NC(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var zC,s_,FC,BC,UC,ny=!1,ep=[],Fo=null,Bo=null,Uo=null,zf=new Map,Ff=new Map,Do=[],M9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WS(n,e){switch(n){case"focusin":case"focusout":Fo=null;break;case"dragenter":case"dragleave":Bo=null;break;case"mouseover":case"mouseout":Uo=null;break;case"pointerover":case"pointerout":zf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ff.delete(e.pointerId)}}function Uu(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=bd(e),e!==null&&s_(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function E9(n,e,t,i,r){switch(e){case"focusin":return Fo=Uu(Fo,n,e,t,i,r),!0;case"dragenter":return Bo=Uu(Bo,n,e,t,i,r),!0;case"mouseover":return Uo=Uu(Uo,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return zf.set(s,Uu(zf.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Ff.set(s,Uu(Ff.get(s)||null,n,e,t,i,r)),!0}return!1}function HC(n){var e=za(n.target);if(e!==null){var t=pl(e);if(t!==null){if(e=t.tag,e===13){if(e=PC(t),e!==null){n.blockedOn=e,UC(n.priority,function(){FC(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function cm(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=iy(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);Kv=i,t.target.dispatchEvent(i),Kv=null}else return e=bd(t),e!==null&&s_(e),n.blockedOn=t,!1;e.shift()}return!0}function $S(n,e,t){cm(n)&&t.delete(e)}function C9(){ny=!1,Fo!==null&&cm(Fo)&&(Fo=null),Bo!==null&&cm(Bo)&&(Bo=null),Uo!==null&&cm(Uo)&&(Uo=null),zf.forEach($S),Ff.forEach($S)}function Hu(n,e){n.blockedOn===e&&(n.blockedOn=null,ny||(ny=!0,rr.unstable_scheduleCallback(rr.unstable_NormalPriority,C9)))}function Bf(n){function e(r){return Hu(r,n)}if(0<ep.length){Hu(ep[0],n);for(var t=1;t<ep.length;t++){var i=ep[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Fo!==null&&Hu(Fo,n),Bo!==null&&Hu(Bo,n),Uo!==null&&Hu(Uo,n),zf.forEach(e),Ff.forEach(e),t=0;t<Do.length;t++)i=Do[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Do.length&&(t=Do[0],t.blockedOn===null);)HC(t),t.blockedOn===null&&Do.shift()}var Pc=fo.ReactCurrentBatchConfig,Om=!0;function T9(n,e,t,i){var r=Ut,s=Pc.transition;Pc.transition=null;try{Ut=1,o_(n,e,t,i)}finally{Ut=r,Pc.transition=s}}function A9(n,e,t,i){var r=Ut,s=Pc.transition;Pc.transition=null;try{Ut=4,o_(n,e,t,i)}finally{Ut=r,Pc.transition=s}}function o_(n,e,t,i){if(Om){var r=iy(n,e,t,i);if(r===null)T1(n,e,i,Nm,t),WS(n,i);else if(E9(r,n,e,t,i))i.stopPropagation();else if(WS(n,i),e&4&&-1<M9.indexOf(n)){for(;r!==null;){var s=bd(r);if(s!==null&&zC(s),s=iy(n,e,t,i),s===null&&T1(n,e,i,Nm,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else T1(n,e,i,null,t)}}var Nm=null;function iy(n,e,t,i){if(Nm=null,n=n_(i),n=za(n),n!==null)if(e=pl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=PC(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Nm=n,null}function VC(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m9()){case i_:return 1;case DC:return 4;case Dm:case g9:return 16;case kC:return 536870912;default:return 16}default:return 16}}var Oo=null,a_=null,um=null;function WC(){if(um)return um;var n,e=a_,t=e.length,i,r="value"in Oo?Oo.value:Oo.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return um=r.slice(n,1<i?1-i:void 0)}function fm(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function tp(){return!0}function GS(){return!1}function or(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?tp:GS,this.isPropagationStopped=GS,this}return dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=tp)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=tp)},persist:function(){},isPersistent:tp}),e}var Qc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},l_=or(Qc),Sd=dn({},Qc,{view:0,detail:0}),P9=or(Sd),y1,x1,Vu,Sg=dn({},Sd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c_,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Vu&&(Vu&&n.type==="mousemove"?(y1=n.screenX-Vu.screenX,x1=n.screenY-Vu.screenY):x1=y1=0,Vu=n),y1)},movementY:function(n){return"movementY"in n?n.movementY:x1}}),jS=or(Sg),R9=dn({},Sg,{dataTransfer:0}),L9=or(R9),I9=dn({},Sd,{relatedTarget:0}),_1=or(I9),D9=dn({},Qc,{animationName:0,elapsedTime:0,pseudoElement:0}),k9=or(D9),O9=dn({},Qc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),N9=or(O9),z9=dn({},Qc,{data:0}),XS=or(z9),F9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H9(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=U9[n])?!!e[n]:!1}function c_(){return H9}var V9=dn({},Sd,{key:function(n){if(n.key){var e=F9[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=fm(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?B9[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c_,charCode:function(n){return n.type==="keypress"?fm(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?fm(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),W9=or(V9),$9=dn({},Sg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YS=or($9),G9=dn({},Sd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c_}),j9=or(G9),X9=dn({},Qc,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y9=or(X9),Z9=dn({},Sg,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),q9=or(Z9),K9=[9,13,27,32],u_=to&&"CompositionEvent"in window,xf=null;to&&"documentMode"in document&&(xf=document.documentMode);var J9=to&&"TextEvent"in window&&!xf,$C=to&&(!u_||xf&&8<xf&&11>=xf),ZS=String.fromCharCode(32),qS=!1;function GC(n,e){switch(n){case"keyup":return K9.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jC(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var cc=!1;function Q9(n,e){switch(n){case"compositionend":return jC(e);case"keypress":return e.which!==32?null:(qS=!0,ZS);case"textInput":return n=e.data,n===ZS&&qS?null:n;default:return null}}function eI(n,e){if(cc)return n==="compositionend"||!u_&&GC(n,e)?(n=WC(),um=a_=Oo=null,cc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $C&&e.locale!=="ko"?null:e.data;default:return null}}var tI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KS(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!tI[n.type]:e==="textarea"}function XC(n,e,t,i){MC(i),e=zm(e,"onChange"),0<e.length&&(t=new l_("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var _f=null,Uf=null;function nI(n){rT(n,0)}function bg(n){var e=dc(n);if(vC(e))return n}function iI(n,e){if(n==="change")return e}var YC=!1;if(to){var w1;if(to){var S1="oninput"in document;if(!S1){var JS=document.createElement("div");JS.setAttribute("oninput","return;"),S1=typeof JS.oninput=="function"}w1=S1}else w1=!1;YC=w1&&(!document.documentMode||9<document.documentMode)}function QS(){_f&&(_f.detachEvent("onpropertychange",ZC),Uf=_f=null)}function ZC(n){if(n.propertyName==="value"&&bg(Uf)){var e=[];XC(e,Uf,n,n_(n)),AC(nI,e)}}function rI(n,e,t){n==="focusin"?(QS(),_f=e,Uf=t,_f.attachEvent("onpropertychange",ZC)):n==="focusout"&&QS()}function sI(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return bg(Uf)}function oI(n,e){if(n==="click")return bg(e)}function aI(n,e){if(n==="input"||n==="change")return bg(e)}function lI(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Kr=typeof Object.is=="function"?Object.is:lI;function Hf(n,e){if(Kr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!Bv.call(e,r)||!Kr(n[r],e[r]))return!1}return!0}function eb(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function tb(n,e){var t=eb(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=eb(t)}}function qC(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?qC(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function KC(){for(var n=window,e=Rm();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Rm(n.document)}return e}function f_(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function cI(n){var e=KC(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&qC(t.ownerDocument.documentElement,t)){if(i!==null&&f_(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=tb(t,s);var o=tb(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var uI=to&&"documentMode"in document&&11>=document.documentMode,uc=null,ry=null,wf=null,sy=!1;function nb(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;sy||uc==null||uc!==Rm(i)||(i=uc,"selectionStart"in i&&f_(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),wf&&Hf(wf,i)||(wf=i,i=zm(ry,"onSelect"),0<i.length&&(e=new l_("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=uc)))}function np(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var fc={animationend:np("Animation","AnimationEnd"),animationiteration:np("Animation","AnimationIteration"),animationstart:np("Animation","AnimationStart"),transitionend:np("Transition","TransitionEnd")},b1={},JC={};to&&(JC=document.createElement("div").style,"AnimationEvent"in window||(delete fc.animationend.animation,delete fc.animationiteration.animation,delete fc.animationstart.animation),"TransitionEvent"in window||delete fc.transitionend.transition);function Mg(n){if(b1[n])return b1[n];if(!fc[n])return n;var e=fc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in JC)return b1[n]=e[t];return n}var QC=Mg("animationend"),eT=Mg("animationiteration"),tT=Mg("animationstart"),nT=Mg("transitionend"),iT=new Map,ib="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sa(n,e){iT.set(n,e),hl(e,[n])}for(var M1=0;M1<ib.length;M1++){var E1=ib[M1],fI=E1.toLowerCase(),dI=E1[0].toUpperCase()+E1.slice(1);sa(fI,"on"+dI)}sa(QC,"onAnimationEnd");sa(eT,"onAnimationIteration");sa(tT,"onAnimationStart");sa("dblclick","onDoubleClick");sa("focusin","onFocus");sa("focusout","onBlur");sa(nT,"onTransitionEnd");Oc("onMouseEnter",["mouseout","mouseover"]);Oc("onMouseLeave",["mouseout","mouseover"]);Oc("onPointerEnter",["pointerout","pointerover"]);Oc("onPointerLeave",["pointerout","pointerover"]);hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hl("onBeforeInput",["compositionend","keypress","textInput","paste"]);hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hI=new Set("cancel close invalid load scroll toggle".split(" ").concat(hf));function rb(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,f9(i,e,void 0,n),n.currentTarget=null}function rT(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,f=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;rb(r,a,f),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,f=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;rb(r,a,f),s=l}}}if(Im)throw n=ey,Im=!1,ey=null,n}function qt(n,e){var t=e[uy];t===void 0&&(t=e[uy]=new Set);var i=n+"__bubble";t.has(i)||(sT(e,n,2,!1),t.add(i))}function C1(n,e,t){var i=0;e&&(i|=4),sT(t,n,i,e)}var ip="_reactListening"+Math.random().toString(36).slice(2);function Vf(n){if(!n[ip]){n[ip]=!0,dC.forEach(function(t){t!=="selectionchange"&&(hI.has(t)||C1(t,!1,n),C1(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[ip]||(e[ip]=!0,C1("selectionchange",!1,e))}}function sT(n,e,t,i){switch(VC(e)){case 1:var r=T9;break;case 4:r=A9;break;default:r=o_}t=r.bind(null,e,t,n),r=void 0,!Qv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function T1(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=za(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}AC(function(){var f=s,d=n_(t),h=[];e:{var p=iT.get(n);if(p!==void 0){var m=l_,v=n;switch(n){case"keypress":if(fm(t)===0)break e;case"keydown":case"keyup":m=W9;break;case"focusin":v="focus",m=_1;break;case"focusout":v="blur",m=_1;break;case"beforeblur":case"afterblur":m=_1;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=jS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=L9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=j9;break;case QC:case eT:case tT:m=k9;break;case nT:m=Y9;break;case"scroll":m=P9;break;case"wheel":m=q9;break;case"copy":case"cut":case"paste":m=N9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=YS}var y=(e&4)!==0,_=!y&&n==="scroll",x=y?p!==null?p+"Capture":null:p;y=[];for(var w=f,b;w!==null;){b=w;var M=b.stateNode;if(b.tag===5&&M!==null&&(b=M,x!==null&&(M=Nf(w,x),M!=null&&y.push(Wf(w,M,b)))),_)break;w=w.return}0<y.length&&(p=new m(p,v,null,t,d),h.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==Kv&&(v=t.relatedTarget||t.fromElement)&&(za(v)||v[no]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=f,v=v?za(v):null,v!==null&&(_=pl(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=f),m!==v)){if(y=jS,M="onMouseLeave",x="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(y=YS,M="onPointerLeave",x="onPointerEnter",w="pointer"),_=m==null?p:dc(m),b=v==null?p:dc(v),p=new y(M,w+"leave",m,t,d),p.target=_,p.relatedTarget=b,M=null,za(d)===f&&(y=new y(x,w+"enter",v,t,d),y.target=b,y.relatedTarget=_,M=y),_=M,m&&v)t:{for(y=m,x=v,w=0,b=y;b;b=Ol(b))w++;for(b=0,M=x;M;M=Ol(M))b++;for(;0<w-b;)y=Ol(y),w--;for(;0<b-w;)x=Ol(x),b--;for(;w--;){if(y===x||x!==null&&y===x.alternate)break t;y=Ol(y),x=Ol(x)}y=null}else y=null;m!==null&&sb(h,p,m,y,!1),v!==null&&_!==null&&sb(h,_,v,y,!0)}}e:{if(p=f?dc(f):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=iI;else if(KS(p))if(YC)T=aI;else{T=sI;var A=rI}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=oI);if(T&&(T=T(n,f))){XC(h,T,t,d);break e}A&&A(n,p,f),n==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&jv(p,"number",p.value)}switch(A=f?dc(f):window,n){case"focusin":(KS(A)||A.contentEditable==="true")&&(uc=A,ry=f,wf=null);break;case"focusout":wf=ry=uc=null;break;case"mousedown":sy=!0;break;case"contextmenu":case"mouseup":case"dragend":sy=!1,nb(h,t,d);break;case"selectionchange":if(uI)break;case"keydown":case"keyup":nb(h,t,d)}var L;if(u_)e:{switch(n){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else cc?GC(n,t)&&(C="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(C="onCompositionStart");C&&($C&&t.locale!=="ko"&&(cc||C!=="onCompositionStart"?C==="onCompositionEnd"&&cc&&(L=WC()):(Oo=d,a_="value"in Oo?Oo.value:Oo.textContent,cc=!0)),A=zm(f,C),0<A.length&&(C=new XS(C,n,null,t,d),h.push({event:C,listeners:A}),L?C.data=L:(L=jC(t),L!==null&&(C.data=L)))),(L=J9?Q9(n,t):eI(n,t))&&(f=zm(f,"onBeforeInput"),0<f.length&&(d=new XS("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:f}),d.data=L))}rT(h,e)})}function Wf(n,e,t){return{instance:n,listener:e,currentTarget:t}}function zm(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Nf(n,t),s!=null&&i.unshift(Wf(n,s,r)),s=Nf(n,e),s!=null&&i.push(Wf(n,s,r))),n=n.return}return i}function Ol(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function sb(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,f=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&f!==null&&(a=f,r?(l=Nf(t,s),l!=null&&o.unshift(Wf(t,l,a))):r||(l=Nf(t,s),l!=null&&o.push(Wf(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var pI=/\r\n?/g,mI=/\u0000|\uFFFD/g;function ob(n){return(typeof n=="string"?n:""+n).replace(pI,`
`).replace(mI,"")}function rp(n,e,t){if(e=ob(e),ob(n)!==e&&t)throw Error(Me(425))}function Fm(){}var oy=null,ay=null;function ly(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cy=typeof setTimeout=="function"?setTimeout:void 0,gI=typeof clearTimeout=="function"?clearTimeout:void 0,ab=typeof Promise=="function"?Promise:void 0,vI=typeof queueMicrotask=="function"?queueMicrotask:typeof ab<"u"?function(n){return ab.resolve(null).then(n).catch(yI)}:cy;function yI(n){setTimeout(function(){throw n})}function A1(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Bf(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Bf(e)}function Ho(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function lb(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var eu=Math.random().toString(36).slice(2),ds="__reactFiber$"+eu,$f="__reactProps$"+eu,no="__reactContainer$"+eu,uy="__reactEvents$"+eu,xI="__reactListeners$"+eu,_I="__reactHandles$"+eu;function za(n){var e=n[ds];if(e)return e;for(var t=n.parentNode;t;){if(e=t[no]||t[ds]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=lb(n);n!==null;){if(t=n[ds])return t;n=lb(n)}return e}n=t,t=n.parentNode}return null}function bd(n){return n=n[ds]||n[no],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function dc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Me(33))}function Eg(n){return n[$f]||null}var fy=[],hc=-1;function oa(n){return{current:n}}function Kt(n){0>hc||(n.current=fy[hc],fy[hc]=null,hc--)}function Zt(n,e){hc++,fy[hc]=n.current,n.current=e}var Yo={},mi=oa(Yo),Hi=oa(!1),nl=Yo;function Nc(n,e){var t=n.type.contextTypes;if(!t)return Yo;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Vi(n){return n=n.childContextTypes,n!=null}function Bm(){Kt(Hi),Kt(mi)}function cb(n,e,t){if(mi.current!==Yo)throw Error(Me(168));Zt(mi,e),Zt(Hi,t)}function oT(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Me(108,r9(n)||"Unknown",r));return dn({},t,i)}function Um(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Yo,nl=mi.current,Zt(mi,n),Zt(Hi,Hi.current),!0}function ub(n,e,t){var i=n.stateNode;if(!i)throw Error(Me(169));t?(n=oT(n,e,nl),i.__reactInternalMemoizedMergedChildContext=n,Kt(Hi),Kt(mi),Zt(mi,n)):Kt(Hi),Zt(Hi,t)}var Vs=null,Cg=!1,P1=!1;function aT(n){Vs===null?Vs=[n]:Vs.push(n)}function wI(n){Cg=!0,aT(n)}function aa(){if(!P1&&Vs!==null){P1=!0;var n=0,e=Ut;try{var t=Vs;for(Ut=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Vs=null,Cg=!1}catch(r){throw Vs!==null&&(Vs=Vs.slice(n+1)),IC(i_,aa),r}finally{Ut=e,P1=!1}}return null}var pc=[],mc=0,Hm=null,Vm=0,Sr=[],br=0,il=null,Xs=1,Ys="";function Ra(n,e){pc[mc++]=Vm,pc[mc++]=Hm,Hm=n,Vm=e}function lT(n,e,t){Sr[br++]=Xs,Sr[br++]=Ys,Sr[br++]=il,il=n;var i=Xs;n=Ys;var r=32-Yr(i)-1;i&=~(1<<r),t+=1;var s=32-Yr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Xs=1<<32-Yr(e)+r|t<<r|i,Ys=s+n}else Xs=1<<s|t<<r|i,Ys=n}function d_(n){n.return!==null&&(Ra(n,1),lT(n,1,0))}function h_(n){for(;n===Hm;)Hm=pc[--mc],pc[mc]=null,Vm=pc[--mc],pc[mc]=null;for(;n===il;)il=Sr[--br],Sr[br]=null,Ys=Sr[--br],Sr[br]=null,Xs=Sr[--br],Sr[br]=null}var er=null,Qi=null,nn=!1,jr=null;function cT(n,e){var t=Cr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function fb(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,er=n,Qi=Ho(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,er=n,Qi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=il!==null?{id:Xs,overflow:Ys}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Cr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,er=n,Qi=null,!0):!1;default:return!1}}function dy(n){return(n.mode&1)!==0&&(n.flags&128)===0}function hy(n){if(nn){var e=Qi;if(e){var t=e;if(!fb(n,e)){if(dy(n))throw Error(Me(418));e=Ho(t.nextSibling);var i=er;e&&fb(n,e)?cT(i,t):(n.flags=n.flags&-4097|2,nn=!1,er=n)}}else{if(dy(n))throw Error(Me(418));n.flags=n.flags&-4097|2,nn=!1,er=n}}}function db(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;er=n}function sp(n){if(n!==er)return!1;if(!nn)return db(n),nn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!ly(n.type,n.memoizedProps)),e&&(e=Qi)){if(dy(n))throw uT(),Error(Me(418));for(;e;)cT(n,e),e=Ho(e.nextSibling)}if(db(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Me(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Qi=Ho(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Qi=null}}else Qi=er?Ho(n.stateNode.nextSibling):null;return!0}function uT(){for(var n=Qi;n;)n=Ho(n.nextSibling)}function zc(){Qi=er=null,nn=!1}function p_(n){jr===null?jr=[n]:jr.push(n)}var SI=fo.ReactCurrentBatchConfig;function Wr(n,e){if(n&&n.defaultProps){e=dn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Wm=oa(null),$m=null,gc=null,m_=null;function g_(){m_=gc=$m=null}function v_(n){var e=Wm.current;Kt(Wm),n._currentValue=e}function py(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Rc(n,e){$m=n,m_=gc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Bi=!0),n.firstContext=null)}function Rr(n){var e=n._currentValue;if(m_!==n)if(n={context:n,memoizedValue:e,next:null},gc===null){if($m===null)throw Error(Me(308));gc=n,$m.dependencies={lanes:0,firstContext:n}}else gc=gc.next=n;return e}var Fa=null;function y_(n){Fa===null?Fa=[n]:Fa.push(n)}function fT(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,y_(e)):(t.next=r.next,r.next=t),e.interleaved=t,io(n,i)}function io(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Io=!1;function x_(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dT(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Js(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Vo(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Dt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,io(n,t)}return r=i.interleaved,r===null?(e.next=e,y_(i)):(e.next=r.next,r.next=e),i.interleaved=e,io(n,t)}function dm(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,r_(n,t)}}function hb(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Gm(n,e,t,i){var r=n.updateQueue;Io=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,f=l.next;l.next=null,o===null?s=f:o.next=f,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=f:a.next=f,d.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,d=f=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,y=a;switch(p=e,m=t,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(m,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(m,h,p):v,p==null)break e;h=dn({},h,p);break e;case 2:Io=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(f=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(d===null&&(l=h),r.baseState=l,r.firstBaseUpdate=f,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);sl|=o,n.lanes=o,n.memoizedState=h}}function pb(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Me(191,r));r.call(i)}}}var hT=new fC.Component().refs;function my(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:dn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Tg={isMounted:function(n){return(n=n._reactInternals)?pl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Ti(),r=$o(n),s=Js(i,r);s.payload=e,t!=null&&(s.callback=t),e=Vo(n,s,r),e!==null&&(Zr(e,n,r,i),dm(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Ti(),r=$o(n),s=Js(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Vo(n,s,r),e!==null&&(Zr(e,n,r,i),dm(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Ti(),i=$o(n),r=Js(t,i);r.tag=2,e!=null&&(r.callback=e),e=Vo(n,r,i),e!==null&&(Zr(e,n,i,t),dm(e,n,i))}};function mb(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Hf(t,i)||!Hf(r,s):!0}function pT(n,e,t){var i=!1,r=Yo,s=e.contextType;return typeof s=="object"&&s!==null?s=Rr(s):(r=Vi(e)?nl:mi.current,i=e.contextTypes,s=(i=i!=null)?Nc(n,r):Yo),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Tg,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function gb(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Tg.enqueueReplaceState(e,e.state,null)}function gy(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=hT,x_(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Rr(s):(s=Vi(e)?nl:mi.current,r.context=Nc(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(my(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Tg.enqueueReplaceState(r,r.state,null),Gm(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Wu(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Me(309));var i=t.stateNode}if(!i)throw Error(Me(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===hT&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Me(284));if(!t._owner)throw Error(Me(290,n))}return n}function op(n,e){throw n=Object.prototype.toString.call(e),Error(Me(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function vb(n){var e=n._init;return e(n._payload)}function mT(n){function e(x,w){if(n){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function t(x,w){if(!n)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function i(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function r(x,w){return x=Go(x,w),x.index=0,x.sibling=null,x}function s(x,w,b){return x.index=b,n?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return n&&x.alternate===null&&(x.flags|=2),x}function a(x,w,b,M){return w===null||w.tag!==6?(w=N1(b,x.mode,M),w.return=x,w):(w=r(w,b),w.return=x,w)}function l(x,w,b,M){var T=b.type;return T===lc?d(x,w,b.props.children,M,b.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Lo&&vb(T)===w.type)?(M=r(w,b.props),M.ref=Wu(x,w,b),M.return=x,M):(M=ym(b.type,b.key,b.props,null,x.mode,M),M.ref=Wu(x,w,b),M.return=x,M)}function f(x,w,b,M){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=z1(b,x.mode,M),w.return=x,w):(w=r(w,b.children||[]),w.return=x,w)}function d(x,w,b,M,T){return w===null||w.tag!==7?(w=Xa(b,x.mode,M,T),w.return=x,w):(w=r(w,b),w.return=x,w)}function h(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=N1(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zh:return b=ym(w.type,w.key,w.props,null,x.mode,b),b.ref=Wu(x,null,w),b.return=x,b;case ac:return w=z1(w,x.mode,b),w.return=x,w;case Lo:var M=w._init;return h(x,M(w._payload),b)}if(ff(w)||Fu(w))return w=Xa(w,x.mode,b,null),w.return=x,w;op(x,w)}return null}function p(x,w,b,M){var T=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return T!==null?null:a(x,w,""+b,M);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zh:return b.key===T?l(x,w,b,M):null;case ac:return b.key===T?f(x,w,b,M):null;case Lo:return T=b._init,p(x,w,T(b._payload),M)}if(ff(b)||Fu(b))return T!==null?null:d(x,w,b,M,null);op(x,b)}return null}function m(x,w,b,M,T){if(typeof M=="string"&&M!==""||typeof M=="number")return x=x.get(b)||null,a(w,x,""+M,T);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Zh:return x=x.get(M.key===null?b:M.key)||null,l(w,x,M,T);case ac:return x=x.get(M.key===null?b:M.key)||null,f(w,x,M,T);case Lo:var A=M._init;return m(x,w,b,A(M._payload),T)}if(ff(M)||Fu(M))return x=x.get(b)||null,d(w,x,M,T,null);op(w,M)}return null}function v(x,w,b,M){for(var T=null,A=null,L=w,C=w=0,k=null;L!==null&&C<b.length;C++){L.index>C?(k=L,L=null):k=L.sibling;var D=p(x,L,b[C],M);if(D===null){L===null&&(L=k);break}n&&L&&D.alternate===null&&e(x,L),w=s(D,w,C),A===null?T=D:A.sibling=D,A=D,L=k}if(C===b.length)return t(x,L),nn&&Ra(x,C),T;if(L===null){for(;C<b.length;C++)L=h(x,b[C],M),L!==null&&(w=s(L,w,C),A===null?T=L:A.sibling=L,A=L);return nn&&Ra(x,C),T}for(L=i(x,L);C<b.length;C++)k=m(L,x,C,b[C],M),k!==null&&(n&&k.alternate!==null&&L.delete(k.key===null?C:k.key),w=s(k,w,C),A===null?T=k:A.sibling=k,A=k);return n&&L.forEach(function(O){return e(x,O)}),nn&&Ra(x,C),T}function y(x,w,b,M){var T=Fu(b);if(typeof T!="function")throw Error(Me(150));if(b=T.call(b),b==null)throw Error(Me(151));for(var A=T=null,L=w,C=w=0,k=null,D=b.next();L!==null&&!D.done;C++,D=b.next()){L.index>C?(k=L,L=null):k=L.sibling;var O=p(x,L,D.value,M);if(O===null){L===null&&(L=k);break}n&&L&&O.alternate===null&&e(x,L),w=s(O,w,C),A===null?T=O:A.sibling=O,A=O,L=k}if(D.done)return t(x,L),nn&&Ra(x,C),T;if(L===null){for(;!D.done;C++,D=b.next())D=h(x,D.value,M),D!==null&&(w=s(D,w,C),A===null?T=D:A.sibling=D,A=D);return nn&&Ra(x,C),T}for(L=i(x,L);!D.done;C++,D=b.next())D=m(L,x,C,D.value,M),D!==null&&(n&&D.alternate!==null&&L.delete(D.key===null?C:D.key),w=s(D,w,C),A===null?T=D:A.sibling=D,A=D);return n&&L.forEach(function($){return e(x,$)}),nn&&Ra(x,C),T}function _(x,w,b,M){if(typeof b=="object"&&b!==null&&b.type===lc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Zh:e:{for(var T=b.key,A=w;A!==null;){if(A.key===T){if(T=b.type,T===lc){if(A.tag===7){t(x,A.sibling),w=r(A,b.props.children),w.return=x,x=w;break e}}else if(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Lo&&vb(T)===A.type){t(x,A.sibling),w=r(A,b.props),w.ref=Wu(x,A,b),w.return=x,x=w;break e}t(x,A);break}else e(x,A);A=A.sibling}b.type===lc?(w=Xa(b.props.children,x.mode,M,b.key),w.return=x,x=w):(M=ym(b.type,b.key,b.props,null,x.mode,M),M.ref=Wu(x,w,b),M.return=x,x=M)}return o(x);case ac:e:{for(A=b.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){t(x,w.sibling),w=r(w,b.children||[]),w.return=x,x=w;break e}else{t(x,w);break}else e(x,w);w=w.sibling}w=z1(b,x.mode,M),w.return=x,x=w}return o(x);case Lo:return A=b._init,_(x,w,A(b._payload),M)}if(ff(b))return v(x,w,b,M);if(Fu(b))return y(x,w,b,M);op(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(t(x,w.sibling),w=r(w,b),w.return=x,x=w):(t(x,w),w=N1(b,x.mode,M),w.return=x,x=w),o(x)):t(x,w)}return _}var Fc=mT(!0),gT=mT(!1),Md={},gs=oa(Md),Gf=oa(Md),jf=oa(Md);function Ba(n){if(n===Md)throw Error(Me(174));return n}function __(n,e){switch(Zt(jf,e),Zt(Gf,n),Zt(gs,Md),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yv(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Yv(e,n)}Kt(gs),Zt(gs,e)}function Bc(){Kt(gs),Kt(Gf),Kt(jf)}function vT(n){Ba(jf.current);var e=Ba(gs.current),t=Yv(e,n.type);e!==t&&(Zt(Gf,n),Zt(gs,t))}function w_(n){Gf.current===n&&(Kt(gs),Kt(Gf))}var an=oa(0);function jm(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var R1=[];function S_(){for(var n=0;n<R1.length;n++)R1[n]._workInProgressVersionPrimary=null;R1.length=0}var hm=fo.ReactCurrentDispatcher,L1=fo.ReactCurrentBatchConfig,rl=0,un=null,On=null,jn=null,Xm=!1,Sf=!1,Xf=0,bI=0;function oi(){throw Error(Me(321))}function b_(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Kr(n[t],e[t]))return!1;return!0}function M_(n,e,t,i,r,s){if(rl=s,un=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hm.current=n===null||n.memoizedState===null?TI:AI,n=t(i,r),Sf){s=0;do{if(Sf=!1,Xf=0,25<=s)throw Error(Me(301));s+=1,jn=On=null,e.updateQueue=null,hm.current=PI,n=t(i,r)}while(Sf)}if(hm.current=Ym,e=On!==null&&On.next!==null,rl=0,jn=On=un=null,Xm=!1,e)throw Error(Me(300));return n}function E_(){var n=Xf!==0;return Xf=0,n}function fs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?un.memoizedState=jn=n:jn=jn.next=n,jn}function Lr(){if(On===null){var n=un.alternate;n=n!==null?n.memoizedState:null}else n=On.next;var e=jn===null?un.memoizedState:jn.next;if(e!==null)jn=e,On=n;else{if(n===null)throw Error(Me(310));On=n,n={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},jn===null?un.memoizedState=jn=n:jn=jn.next=n}return jn}function Yf(n,e){return typeof e=="function"?e(n):e}function I1(n){var e=Lr(),t=e.queue;if(t===null)throw Error(Me(311));t.lastRenderedReducer=n;var i=On,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,f=s;do{var d=f.lane;if((rl&d)===d)l!==null&&(l=l.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:n(i,f.action);else{var h={lane:d,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,un.lanes|=d,sl|=d}f=f.next}while(f!==null&&f!==s);l===null?o=i:l.next=a,Kr(i,e.memoizedState)||(Bi=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,un.lanes|=s,sl|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function D1(n){var e=Lr(),t=e.queue;if(t===null)throw Error(Me(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Kr(s,e.memoizedState)||(Bi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function yT(){}function xT(n,e){var t=un,i=Lr(),r=e(),s=!Kr(i.memoizedState,r);if(s&&(i.memoizedState=r,Bi=!0),i=i.queue,C_(ST.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||jn!==null&&jn.memoizedState.tag&1){if(t.flags|=2048,Zf(9,wT.bind(null,t,i,r,e),void 0,null),Zn===null)throw Error(Me(349));rl&30||_T(t,e,r)}return r}function _T(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=un.updateQueue,e===null?(e={lastEffect:null,stores:null},un.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function wT(n,e,t,i){e.value=t,e.getSnapshot=i,bT(e)&&MT(n)}function ST(n,e,t){return t(function(){bT(e)&&MT(n)})}function bT(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Kr(n,t)}catch{return!0}}function MT(n){var e=io(n,1);e!==null&&Zr(e,n,1,-1)}function yb(n){var e=fs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yf,lastRenderedState:n},e.queue=n,n=n.dispatch=CI.bind(null,un,n),[e.memoizedState,n]}function Zf(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=un.updateQueue,e===null?(e={lastEffect:null,stores:null},un.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function ET(){return Lr().memoizedState}function pm(n,e,t,i){var r=fs();un.flags|=n,r.memoizedState=Zf(1|e,t,void 0,i===void 0?null:i)}function Ag(n,e,t,i){var r=Lr();i=i===void 0?null:i;var s=void 0;if(On!==null){var o=On.memoizedState;if(s=o.destroy,i!==null&&b_(i,o.deps)){r.memoizedState=Zf(e,t,s,i);return}}un.flags|=n,r.memoizedState=Zf(1|e,t,s,i)}function xb(n,e){return pm(8390656,8,n,e)}function C_(n,e){return Ag(2048,8,n,e)}function CT(n,e){return Ag(4,2,n,e)}function TT(n,e){return Ag(4,4,n,e)}function AT(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function PT(n,e,t){return t=t!=null?t.concat([n]):null,Ag(4,4,AT.bind(null,e,n),t)}function T_(){}function RT(n,e){var t=Lr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&b_(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function LT(n,e){var t=Lr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&b_(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function IT(n,e,t){return rl&21?(Kr(t,e)||(t=OC(),un.lanes|=t,sl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Bi=!0),n.memoizedState=t)}function MI(n,e){var t=Ut;Ut=t!==0&&4>t?t:4,n(!0);var i=L1.transition;L1.transition={};try{n(!1),e()}finally{Ut=t,L1.transition=i}}function DT(){return Lr().memoizedState}function EI(n,e,t){var i=$o(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},kT(n))OT(e,t);else if(t=fT(n,e,t,i),t!==null){var r=Ti();Zr(t,n,i,r),NT(t,e,i)}}function CI(n,e,t){var i=$o(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(kT(n))OT(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Kr(a,o)){var l=e.interleaved;l===null?(r.next=r,y_(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=fT(n,e,r,i),t!==null&&(r=Ti(),Zr(t,n,i,r),NT(t,e,i))}}function kT(n){var e=n.alternate;return n===un||e!==null&&e===un}function OT(n,e){Sf=Xm=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function NT(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,r_(n,t)}}var Ym={readContext:Rr,useCallback:oi,useContext:oi,useEffect:oi,useImperativeHandle:oi,useInsertionEffect:oi,useLayoutEffect:oi,useMemo:oi,useReducer:oi,useRef:oi,useState:oi,useDebugValue:oi,useDeferredValue:oi,useTransition:oi,useMutableSource:oi,useSyncExternalStore:oi,useId:oi,unstable_isNewReconciler:!1},TI={readContext:Rr,useCallback:function(n,e){return fs().memoizedState=[n,e===void 0?null:e],n},useContext:Rr,useEffect:xb,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,pm(4194308,4,AT.bind(null,e,n),t)},useLayoutEffect:function(n,e){return pm(4194308,4,n,e)},useInsertionEffect:function(n,e){return pm(4,2,n,e)},useMemo:function(n,e){var t=fs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=fs();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=EI.bind(null,un,n),[i.memoizedState,n]},useRef:function(n){var e=fs();return n={current:n},e.memoizedState=n},useState:yb,useDebugValue:T_,useDeferredValue:function(n){return fs().memoizedState=n},useTransition:function(){var n=yb(!1),e=n[0];return n=MI.bind(null,n[1]),fs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=un,r=fs();if(nn){if(t===void 0)throw Error(Me(407));t=t()}else{if(t=e(),Zn===null)throw Error(Me(349));rl&30||_T(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,xb(ST.bind(null,i,s,n),[n]),i.flags|=2048,Zf(9,wT.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=fs(),e=Zn.identifierPrefix;if(nn){var t=Ys,i=Xs;t=(i&~(1<<32-Yr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Xf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=bI++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},AI={readContext:Rr,useCallback:RT,useContext:Rr,useEffect:C_,useImperativeHandle:PT,useInsertionEffect:CT,useLayoutEffect:TT,useMemo:LT,useReducer:I1,useRef:ET,useState:function(){return I1(Yf)},useDebugValue:T_,useDeferredValue:function(n){var e=Lr();return IT(e,On.memoizedState,n)},useTransition:function(){var n=I1(Yf)[0],e=Lr().memoizedState;return[n,e]},useMutableSource:yT,useSyncExternalStore:xT,useId:DT,unstable_isNewReconciler:!1},PI={readContext:Rr,useCallback:RT,useContext:Rr,useEffect:C_,useImperativeHandle:PT,useInsertionEffect:CT,useLayoutEffect:TT,useMemo:LT,useReducer:D1,useRef:ET,useState:function(){return D1(Yf)},useDebugValue:T_,useDeferredValue:function(n){var e=Lr();return On===null?e.memoizedState=n:IT(e,On.memoizedState,n)},useTransition:function(){var n=D1(Yf)[0],e=Lr().memoizedState;return[n,e]},useMutableSource:yT,useSyncExternalStore:xT,useId:DT,unstable_isNewReconciler:!1};function Uc(n,e){try{var t="",i=e;do t+=i9(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function k1(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function vy(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var RI=typeof WeakMap=="function"?WeakMap:Map;function zT(n,e,t){t=Js(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){qm||(qm=!0,Ty=i),vy(n,e)},t}function FT(n,e,t){t=Js(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){vy(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){vy(n,e),typeof i!="function"&&(Wo===null?Wo=new Set([this]):Wo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function _b(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new RI;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=$I.bind(null,n,e,t),e.then(n,n))}function wb(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Sb(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Js(-1,1),e.tag=2,Vo(t,e,1))),t.lanes|=1),n)}var LI=fo.ReactCurrentOwner,Bi=!1;function bi(n,e,t,i){e.child=n===null?gT(e,null,t,i):Fc(e,n.child,t,i)}function bb(n,e,t,i,r){t=t.render;var s=e.ref;return Rc(e,r),i=M_(n,e,t,i,s,r),t=E_(),n!==null&&!Bi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,ro(n,e,r)):(nn&&t&&d_(e),e.flags|=1,bi(n,e,i,r),e.child)}function Mb(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!O_(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,BT(n,e,s,i,r)):(n=ym(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Hf,t(o,i)&&n.ref===e.ref)return ro(n,e,r)}return e.flags|=1,n=Go(s,i),n.ref=e.ref,n.return=e,e.child=n}function BT(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Hf(s,i)&&n.ref===e.ref)if(Bi=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Bi=!0);else return e.lanes=n.lanes,ro(n,e,r)}return yy(n,e,t,i,r)}function UT(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(yc,Ki),Ki|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Zt(yc,Ki),Ki|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Zt(yc,Ki),Ki|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Zt(yc,Ki),Ki|=i;return bi(n,e,r,t),e.child}function HT(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function yy(n,e,t,i,r){var s=Vi(t)?nl:mi.current;return s=Nc(e,s),Rc(e,r),t=M_(n,e,t,i,s,r),i=E_(),n!==null&&!Bi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,ro(n,e,r)):(nn&&i&&d_(e),e.flags|=1,bi(n,e,t,r),e.child)}function Eb(n,e,t,i,r){if(Vi(t)){var s=!0;Um(e)}else s=!1;if(Rc(e,r),e.stateNode===null)mm(n,e),pT(e,t,i),gy(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,f=t.contextType;typeof f=="object"&&f!==null?f=Rr(f):(f=Vi(t)?nl:mi.current,f=Nc(e,f));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==f)&&gb(e,o,i,f),Io=!1;var p=e.memoizedState;o.state=p,Gm(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Hi.current||Io?(typeof d=="function"&&(my(e,t,d,i),l=e.memoizedState),(a=Io||mb(e,t,a,i,p,l,f))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=f,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,dT(n,e),a=e.memoizedProps,f=e.type===e.elementType?a:Wr(e.type,a),o.props=f,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Rr(l):(l=Vi(t)?nl:mi.current,l=Nc(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&gb(e,o,i,l),Io=!1,p=e.memoizedState,o.state=p,Gm(e,i,o,r);var v=e.memoizedState;a!==h||p!==v||Hi.current||Io?(typeof m=="function"&&(my(e,t,m,i),v=e.memoizedState),(f=Io||mb(e,t,f,i,p,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=f):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return xy(n,e,t,i,s,r)}function xy(n,e,t,i,r,s){HT(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&ub(e,t,!1),ro(n,e,s);i=e.stateNode,LI.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Fc(e,n.child,null,s),e.child=Fc(e,null,a,s)):bi(n,e,a,s),e.memoizedState=i.state,r&&ub(e,t,!0),e.child}function VT(n){var e=n.stateNode;e.pendingContext?cb(n,e.pendingContext,e.pendingContext!==e.context):e.context&&cb(n,e.context,!1),__(n,e.containerInfo)}function Cb(n,e,t,i,r){return zc(),p_(r),e.flags|=256,bi(n,e,t,i),e.child}var _y={dehydrated:null,treeContext:null,retryLane:0};function wy(n){return{baseLanes:n,cachePool:null,transitions:null}}function WT(n,e,t){var i=e.pendingProps,r=an.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Zt(an,r&1),n===null)return hy(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Lg(o,i,0,null),n=Xa(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=wy(t),e.memoizedState=_y,n):A_(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return II(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Go(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Go(a,s):(s=Xa(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?wy(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=_y,i}return s=n.child,n=s.sibling,i=Go(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function A_(n,e){return e=Lg({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function ap(n,e,t,i){return i!==null&&p_(i),Fc(e,n.child,null,t),n=A_(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function II(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=k1(Error(Me(422))),ap(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Lg({mode:"visible",children:i.children},r,0,null),s=Xa(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Fc(e,n.child,null,o),e.child.memoizedState=wy(o),e.memoizedState=_y,s);if(!(e.mode&1))return ap(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Me(419)),i=k1(s,i,void 0),ap(n,e,o,i)}if(a=(o&n.childLanes)!==0,Bi||a){if(i=Zn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,io(n,r),Zr(i,n,r,-1))}return k_(),i=k1(Error(Me(421))),ap(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=GI.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Qi=Ho(r.nextSibling),er=e,nn=!0,jr=null,n!==null&&(Sr[br++]=Xs,Sr[br++]=Ys,Sr[br++]=il,Xs=n.id,Ys=n.overflow,il=e),e=A_(e,i.children),e.flags|=4096,e)}function Tb(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),py(n.return,e,t)}function O1(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function $T(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(bi(n,e,i.children,t),i=an.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Tb(n,t,e);else if(n.tag===19)Tb(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Zt(an,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&jm(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),O1(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&jm(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}O1(e,!0,t,null,s);break;case"together":O1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mm(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ro(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),sl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Me(153));if(e.child!==null){for(n=e.child,t=Go(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Go(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function DI(n,e,t){switch(e.tag){case 3:VT(e),zc();break;case 5:vT(e);break;case 1:Vi(e.type)&&Um(e);break;case 4:__(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Zt(Wm,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Zt(an,an.current&1),e.flags|=128,null):t&e.child.childLanes?WT(n,e,t):(Zt(an,an.current&1),n=ro(n,e,t),n!==null?n.sibling:null);Zt(an,an.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return $T(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Zt(an,an.current),i)break;return null;case 22:case 23:return e.lanes=0,UT(n,e,t)}return ro(n,e,t)}var GT,Sy,jT,XT;GT=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Sy=function(){};jT=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Ba(gs.current);var s=null;switch(t){case"input":r=$v(n,r),i=$v(n,i),s=[];break;case"select":r=dn({},r,{value:void 0}),i=dn({},i,{value:void 0}),s=[];break;case"textarea":r=Xv(n,r),i=Xv(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Fm)}Zv(t,i);var o;t=null;for(f in r)if(!i.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var a=r[f];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(kf.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in i){var l=i[f];if(a=r!=null?r[f]:void 0,i.hasOwnProperty(f)&&l!==a&&(l!=null||a!=null))if(f==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(f,t)),t=l;else f==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(f,l)):f==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(f,""+l):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(kf.hasOwnProperty(f)?(l!=null&&f==="onScroll"&&qt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(f,l))}t&&(s=s||[]).push("style",t);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};XT=function(n,e,t,i){t!==i&&(e.flags|=4)};function $u(n,e){if(!nn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function ai(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function kI(n,e,t){var i=e.pendingProps;switch(h_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ai(e),null;case 1:return Vi(e.type)&&Bm(),ai(e),null;case 3:return i=e.stateNode,Bc(),Kt(Hi),Kt(mi),S_(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(sp(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jr!==null&&(Ry(jr),jr=null))),Sy(n,e),ai(e),null;case 5:w_(e);var r=Ba(jf.current);if(t=e.type,n!==null&&e.stateNode!=null)jT(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Me(166));return ai(e),null}if(n=Ba(gs.current),sp(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[ds]=e,i[$f]=s,n=(e.mode&1)!==0,t){case"dialog":qt("cancel",i),qt("close",i);break;case"iframe":case"object":case"embed":qt("load",i);break;case"video":case"audio":for(r=0;r<hf.length;r++)qt(hf[r],i);break;case"source":qt("error",i);break;case"img":case"image":case"link":qt("error",i),qt("load",i);break;case"details":qt("toggle",i);break;case"input":NS(i,s),qt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},qt("invalid",i);break;case"textarea":FS(i,s),qt("invalid",i)}Zv(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&rp(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&rp(i.textContent,a,n),r=["children",""+a]):kf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&qt("scroll",i)}switch(t){case"input":qh(i),zS(i,s,!0);break;case"textarea":qh(i),BS(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Fm)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=_C(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[ds]=e,n[$f]=i,GT(n,e,!1,!1),e.stateNode=n;e:{switch(o=qv(t,i),t){case"dialog":qt("cancel",n),qt("close",n),r=i;break;case"iframe":case"object":case"embed":qt("load",n),r=i;break;case"video":case"audio":for(r=0;r<hf.length;r++)qt(hf[r],n);r=i;break;case"source":qt("error",n),r=i;break;case"img":case"image":case"link":qt("error",n),qt("load",n),r=i;break;case"details":qt("toggle",n),r=i;break;case"input":NS(n,i),r=$v(n,i),qt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=dn({},i,{value:void 0}),qt("invalid",n);break;case"textarea":FS(n,i),r=Xv(n,i),qt("invalid",n);break;default:r=i}Zv(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?bC(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wC(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Of(n,l):typeof l=="number"&&Of(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(kf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&qt("scroll",n):l!=null&&Jx(n,s,l,o))}switch(t){case"input":qh(n),zS(n,i,!1);break;case"textarea":qh(n),BS(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Xo(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Cc(n,!!i.multiple,s,!1):i.defaultValue!=null&&Cc(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Fm)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ai(e),null;case 6:if(n&&e.stateNode!=null)XT(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Me(166));if(t=Ba(jf.current),Ba(gs.current),sp(e)){if(i=e.stateNode,t=e.memoizedProps,i[ds]=e,(s=i.nodeValue!==t)&&(n=er,n!==null))switch(n.tag){case 3:rp(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&rp(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[ds]=e,e.stateNode=i}return ai(e),null;case 13:if(Kt(an),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(nn&&Qi!==null&&e.mode&1&&!(e.flags&128))uT(),zc(),e.flags|=98560,s=!1;else if(s=sp(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Me(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Me(317));s[ds]=e}else zc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ai(e),s=!1}else jr!==null&&(Ry(jr),jr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||an.current&1?Nn===0&&(Nn=3):k_())),e.updateQueue!==null&&(e.flags|=4),ai(e),null);case 4:return Bc(),Sy(n,e),n===null&&Vf(e.stateNode.containerInfo),ai(e),null;case 10:return v_(e.type._context),ai(e),null;case 17:return Vi(e.type)&&Bm(),ai(e),null;case 19:if(Kt(an),s=e.memoizedState,s===null)return ai(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)$u(s,!1);else{if(Nn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=jm(n),o!==null){for(e.flags|=128,$u(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Zt(an,an.current&1|2),e.child}n=n.sibling}s.tail!==null&&Mn()>Hc&&(e.flags|=128,i=!0,$u(s,!1),e.lanes=4194304)}else{if(!i)if(n=jm(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),$u(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!nn)return ai(e),null}else 2*Mn()-s.renderingStartTime>Hc&&t!==1073741824&&(e.flags|=128,i=!0,$u(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Mn(),e.sibling=null,t=an.current,Zt(an,i?t&1|2:t&1),e):(ai(e),null);case 22:case 23:return D_(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ki&1073741824&&(ai(e),e.subtreeFlags&6&&(e.flags|=8192)):ai(e),null;case 24:return null;case 25:return null}throw Error(Me(156,e.tag))}function OI(n,e){switch(h_(e),e.tag){case 1:return Vi(e.type)&&Bm(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Bc(),Kt(Hi),Kt(mi),S_(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return w_(e),null;case 13:if(Kt(an),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Me(340));zc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Kt(an),null;case 4:return Bc(),null;case 10:return v_(e.type._context),null;case 22:case 23:return D_(),null;case 24:return null;default:return null}}var lp=!1,ui=!1,NI=typeof WeakSet=="function"?WeakSet:Set,He=null;function vc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){yn(n,e,i)}else t.current=null}function by(n,e,t){try{t()}catch(i){yn(n,e,i)}}var Ab=!1;function zI(n,e){if(oy=Om,n=KC(),f_(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,f=0,d=0,h=n,p=null;t:for(;;){for(var m;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++f===r&&(a=o),p===s&&++d===i&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(ay={focusedElem:n,selectionRange:t},Om=!1,He=e;He!==null;)if(e=He,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,He=n;else for(;He!==null;){e=He;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,_=v.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:Wr(e.type,y),_);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(M){yn(e,e.return,M)}if(n=e.sibling,n!==null){n.return=e.return,He=n;break}He=e.return}return v=Ab,Ab=!1,v}function bf(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&by(e,t,s)}r=r.next}while(r!==i)}}function Pg(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function My(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function YT(n){var e=n.alternate;e!==null&&(n.alternate=null,YT(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ds],delete e[$f],delete e[uy],delete e[xI],delete e[_I])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function ZT(n){return n.tag===5||n.tag===3||n.tag===4}function Pb(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ZT(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ey(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Fm));else if(i!==4&&(n=n.child,n!==null))for(Ey(n,e,t),n=n.sibling;n!==null;)Ey(n,e,t),n=n.sibling}function Cy(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Cy(n,e,t),n=n.sibling;n!==null;)Cy(n,e,t),n=n.sibling}var Kn=null,$r=!1;function Mo(n,e,t){for(t=t.child;t!==null;)qT(n,e,t),t=t.sibling}function qT(n,e,t){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(wg,t)}catch{}switch(t.tag){case 5:ui||vc(t,e);case 6:var i=Kn,r=$r;Kn=null,Mo(n,e,t),Kn=i,$r=r,Kn!==null&&($r?(n=Kn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Kn.removeChild(t.stateNode));break;case 18:Kn!==null&&($r?(n=Kn,t=t.stateNode,n.nodeType===8?A1(n.parentNode,t):n.nodeType===1&&A1(n,t),Bf(n)):A1(Kn,t.stateNode));break;case 4:i=Kn,r=$r,Kn=t.stateNode.containerInfo,$r=!0,Mo(n,e,t),Kn=i,$r=r;break;case 0:case 11:case 14:case 15:if(!ui&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&by(t,e,o),r=r.next}while(r!==i)}Mo(n,e,t);break;case 1:if(!ui&&(vc(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){yn(t,e,a)}Mo(n,e,t);break;case 21:Mo(n,e,t);break;case 22:t.mode&1?(ui=(i=ui)||t.memoizedState!==null,Mo(n,e,t),ui=i):Mo(n,e,t);break;default:Mo(n,e,t)}}function Rb(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new NI),e.forEach(function(i){var r=jI.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Br(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Kn=a.stateNode,$r=!1;break e;case 3:Kn=a.stateNode.containerInfo,$r=!0;break e;case 4:Kn=a.stateNode.containerInfo,$r=!0;break e}a=a.return}if(Kn===null)throw Error(Me(160));qT(s,o,r),Kn=null,$r=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(f){yn(r,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)KT(e,n),e=e.sibling}function KT(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Br(e,n),cs(n),i&4){try{bf(3,n,n.return),Pg(3,n)}catch(y){yn(n,n.return,y)}try{bf(5,n,n.return)}catch(y){yn(n,n.return,y)}}break;case 1:Br(e,n),cs(n),i&512&&t!==null&&vc(t,t.return);break;case 5:if(Br(e,n),cs(n),i&512&&t!==null&&vc(t,t.return),n.flags&32){var r=n.stateNode;try{Of(r,"")}catch(y){yn(n,n.return,y)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&yC(r,s),qv(a,o);var f=qv(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?bC(r,h):d==="dangerouslySetInnerHTML"?wC(r,h):d==="children"?Of(r,h):Jx(r,d,h,f)}switch(a){case"input":Gv(r,s);break;case"textarea":xC(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Cc(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Cc(r,!!s.multiple,s.defaultValue,!0):Cc(r,!!s.multiple,s.multiple?[]:"",!1))}r[$f]=s}catch(y){yn(n,n.return,y)}}break;case 6:if(Br(e,n),cs(n),i&4){if(n.stateNode===null)throw Error(Me(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(y){yn(n,n.return,y)}}break;case 3:if(Br(e,n),cs(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Bf(e.containerInfo)}catch(y){yn(n,n.return,y)}break;case 4:Br(e,n),cs(n);break;case 13:Br(e,n),cs(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(L_=Mn())),i&4&&Rb(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(ui=(f=ui)||d,Br(e,n),ui=f):Br(e,n),cs(n),i&8192){if(f=n.memoizedState!==null,(n.stateNode.isHidden=f)&&!d&&n.mode&1)for(He=n,d=n.child;d!==null;){for(h=He=d;He!==null;){switch(p=He,m=p.child,p.tag){case 0:case 11:case 14:case 15:bf(4,p,p.return);break;case 1:vc(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){yn(i,t,y)}}break;case 5:vc(p,p.return);break;case 22:if(p.memoizedState!==null){Ib(h);continue}}m!==null?(m.return=p,He=m):Ib(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,f?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=SC("display",o))}catch(y){yn(n,n.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=f?"":h.memoizedProps}catch(y){yn(n,n.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Br(e,n),cs(n),i&4&&Rb(n);break;case 21:break;default:Br(e,n),cs(n)}}function cs(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(ZT(t)){var i=t;break e}t=t.return}throw Error(Me(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Of(r,""),i.flags&=-33);var s=Pb(n);Cy(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Pb(n);Ey(n,a,o);break;default:throw Error(Me(161))}}catch(l){yn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function FI(n,e,t){He=n,JT(n)}function JT(n,e,t){for(var i=(n.mode&1)!==0;He!==null;){var r=He,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||lp;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||ui;a=lp;var f=ui;if(lp=o,(ui=l)&&!f)for(He=r;He!==null;)o=He,l=o.child,o.tag===22&&o.memoizedState!==null?Db(r):l!==null?(l.return=o,He=l):Db(r);for(;s!==null;)He=s,JT(s),s=s.sibling;He=r,lp=a,ui=f}Lb(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,He=s):Lb(n)}}function Lb(n){for(;He!==null;){var e=He;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ui||Pg(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ui)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Wr(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&pb(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}pb(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var d=f.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Bf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}ui||e.flags&512&&My(e)}catch(p){yn(e,e.return,p)}}if(e===n){He=null;break}if(t=e.sibling,t!==null){t.return=e.return,He=t;break}He=e.return}}function Ib(n){for(;He!==null;){var e=He;if(e===n){He=null;break}var t=e.sibling;if(t!==null){t.return=e.return,He=t;break}He=e.return}}function Db(n){for(;He!==null;){var e=He;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Pg(4,e)}catch(l){yn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){yn(e,r,l)}}var s=e.return;try{My(e)}catch(l){yn(e,s,l)}break;case 5:var o=e.return;try{My(e)}catch(l){yn(e,o,l)}}}catch(l){yn(e,e.return,l)}if(e===n){He=null;break}var a=e.sibling;if(a!==null){a.return=e.return,He=a;break}He=e.return}}var BI=Math.ceil,Zm=fo.ReactCurrentDispatcher,P_=fo.ReactCurrentOwner,Ar=fo.ReactCurrentBatchConfig,Dt=0,Zn=null,Ln=null,Jn=0,Ki=0,yc=oa(0),Nn=0,qf=null,sl=0,Rg=0,R_=0,Mf=null,Ni=null,L_=0,Hc=1/0,Hs=null,qm=!1,Ty=null,Wo=null,cp=!1,No=null,Km=0,Ef=0,Ay=null,gm=-1,vm=0;function Ti(){return Dt&6?Mn():gm!==-1?gm:gm=Mn()}function $o(n){return n.mode&1?Dt&2&&Jn!==0?Jn&-Jn:SI.transition!==null?(vm===0&&(vm=OC()),vm):(n=Ut,n!==0||(n=window.event,n=n===void 0?16:VC(n.type)),n):1}function Zr(n,e,t,i){if(50<Ef)throw Ef=0,Ay=null,Error(Me(185));wd(n,t,i),(!(Dt&2)||n!==Zn)&&(n===Zn&&(!(Dt&2)&&(Rg|=t),Nn===4&&ko(n,Jn)),Wi(n,i),t===1&&Dt===0&&!(e.mode&1)&&(Hc=Mn()+500,Cg&&aa()))}function Wi(n,e){var t=n.callbackNode;S9(n,e);var i=km(n,n===Zn?Jn:0);if(i===0)t!==null&&VS(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&VS(t),e===1)n.tag===0?wI(kb.bind(null,n)):aT(kb.bind(null,n)),vI(function(){!(Dt&6)&&aa()}),t=null;else{switch(NC(i)){case 1:t=i_;break;case 4:t=DC;break;case 16:t=Dm;break;case 536870912:t=kC;break;default:t=Dm}t=o5(t,QT.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function QT(n,e){if(gm=-1,vm=0,Dt&6)throw Error(Me(327));var t=n.callbackNode;if(Lc()&&n.callbackNode!==t)return null;var i=km(n,n===Zn?Jn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Jm(n,i);else{e=i;var r=Dt;Dt|=2;var s=t5();(Zn!==n||Jn!==e)&&(Hs=null,Hc=Mn()+500,ja(n,e));do try{VI();break}catch(a){e5(n,a)}while(1);g_(),Zm.current=s,Dt=r,Ln!==null?e=0:(Zn=null,Jn=0,e=Nn)}if(e!==0){if(e===2&&(r=ty(n),r!==0&&(i=r,e=Py(n,r))),e===1)throw t=qf,ja(n,0),ko(n,i),Wi(n,Mn()),t;if(e===6)ko(n,i);else{if(r=n.current.alternate,!(i&30)&&!UI(r)&&(e=Jm(n,i),e===2&&(s=ty(n),s!==0&&(i=s,e=Py(n,s))),e===1))throw t=qf,ja(n,0),ko(n,i),Wi(n,Mn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Me(345));case 2:La(n,Ni,Hs);break;case 3:if(ko(n,i),(i&130023424)===i&&(e=L_+500-Mn(),10<e)){if(km(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Ti(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=cy(La.bind(null,n,Ni,Hs),e);break}La(n,Ni,Hs);break;case 4:if(ko(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Yr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Mn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*BI(i/1960))-i,10<i){n.timeoutHandle=cy(La.bind(null,n,Ni,Hs),i);break}La(n,Ni,Hs);break;case 5:La(n,Ni,Hs);break;default:throw Error(Me(329))}}}return Wi(n,Mn()),n.callbackNode===t?QT.bind(null,n):null}function Py(n,e){var t=Mf;return n.current.memoizedState.isDehydrated&&(ja(n,e).flags|=256),n=Jm(n,e),n!==2&&(e=Ni,Ni=t,e!==null&&Ry(e)),n}function Ry(n){Ni===null?Ni=n:Ni.push.apply(Ni,n)}function UI(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Kr(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ko(n,e){for(e&=~R_,e&=~Rg,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Yr(e),i=1<<t;n[t]=-1,e&=~i}}function kb(n){if(Dt&6)throw Error(Me(327));Lc();var e=km(n,0);if(!(e&1))return Wi(n,Mn()),null;var t=Jm(n,e);if(n.tag!==0&&t===2){var i=ty(n);i!==0&&(e=i,t=Py(n,i))}if(t===1)throw t=qf,ja(n,0),ko(n,e),Wi(n,Mn()),t;if(t===6)throw Error(Me(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,La(n,Ni,Hs),Wi(n,Mn()),null}function I_(n,e){var t=Dt;Dt|=1;try{return n(e)}finally{Dt=t,Dt===0&&(Hc=Mn()+500,Cg&&aa())}}function ol(n){No!==null&&No.tag===0&&!(Dt&6)&&Lc();var e=Dt;Dt|=1;var t=Ar.transition,i=Ut;try{if(Ar.transition=null,Ut=1,n)return n()}finally{Ut=i,Ar.transition=t,Dt=e,!(Dt&6)&&aa()}}function D_(){Ki=yc.current,Kt(yc)}function ja(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,gI(t)),Ln!==null)for(t=Ln.return;t!==null;){var i=t;switch(h_(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Bm();break;case 3:Bc(),Kt(Hi),Kt(mi),S_();break;case 5:w_(i);break;case 4:Bc();break;case 13:Kt(an);break;case 19:Kt(an);break;case 10:v_(i.type._context);break;case 22:case 23:D_()}t=t.return}if(Zn=n,Ln=n=Go(n.current,null),Jn=Ki=e,Nn=0,qf=null,R_=Rg=sl=0,Ni=Mf=null,Fa!==null){for(e=0;e<Fa.length;e++)if(t=Fa[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Fa=null}return n}function e5(n,e){do{var t=Ln;try{if(g_(),hm.current=Ym,Xm){for(var i=un.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Xm=!1}if(rl=0,jn=On=un=null,Sf=!1,Xf=0,P_.current=null,t===null||t.return===null){Nn=1,qf=e,Ln=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Jn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var f=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=wb(o);if(m!==null){m.flags&=-257,Sb(m,o,a,s,e),m.mode&1&&_b(s,f,e),e=m,l=f;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){_b(s,f,e),k_();break e}l=Error(Me(426))}}else if(nn&&a.mode&1){var _=wb(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Sb(_,o,a,s,e),p_(Uc(l,a));break e}}s=l=Uc(l,a),Nn!==4&&(Nn=2),Mf===null?Mf=[s]:Mf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=zT(s,l,e);hb(s,x);break e;case 1:a=l;var w=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Wo===null||!Wo.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=FT(s,a,e);hb(s,M);break e}}s=s.return}while(s!==null)}i5(t)}catch(T){e=T,Ln===t&&t!==null&&(Ln=t=t.return);continue}break}while(1)}function t5(){var n=Zm.current;return Zm.current=Ym,n===null?Ym:n}function k_(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),Zn===null||!(sl&268435455)&&!(Rg&268435455)||ko(Zn,Jn)}function Jm(n,e){var t=Dt;Dt|=2;var i=t5();(Zn!==n||Jn!==e)&&(Hs=null,ja(n,e));do try{HI();break}catch(r){e5(n,r)}while(1);if(g_(),Dt=t,Zm.current=i,Ln!==null)throw Error(Me(261));return Zn=null,Jn=0,Nn}function HI(){for(;Ln!==null;)n5(Ln)}function VI(){for(;Ln!==null&&!h9();)n5(Ln)}function n5(n){var e=s5(n.alternate,n,Ki);n.memoizedProps=n.pendingProps,e===null?i5(n):Ln=e,P_.current=null}function i5(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=OI(t,e),t!==null){t.flags&=32767,Ln=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Nn=6,Ln=null;return}}else if(t=kI(t,e,Ki),t!==null){Ln=t;return}if(e=e.sibling,e!==null){Ln=e;return}Ln=e=n}while(e!==null);Nn===0&&(Nn=5)}function La(n,e,t){var i=Ut,r=Ar.transition;try{Ar.transition=null,Ut=1,WI(n,e,t,i)}finally{Ar.transition=r,Ut=i}return null}function WI(n,e,t,i){do Lc();while(No!==null);if(Dt&6)throw Error(Me(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Me(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(b9(n,s),n===Zn&&(Ln=Zn=null,Jn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||cp||(cp=!0,o5(Dm,function(){return Lc(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Ar.transition,Ar.transition=null;var o=Ut;Ut=1;var a=Dt;Dt|=4,P_.current=null,zI(n,t),KT(t,n),cI(ay),Om=!!oy,ay=oy=null,n.current=t,FI(t),p9(),Dt=a,Ut=o,Ar.transition=s}else n.current=t;if(cp&&(cp=!1,No=n,Km=r),s=n.pendingLanes,s===0&&(Wo=null),v9(t.stateNode),Wi(n,Mn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(qm)throw qm=!1,n=Ty,Ty=null,n;return Km&1&&n.tag!==0&&Lc(),s=n.pendingLanes,s&1?n===Ay?Ef++:(Ef=0,Ay=n):Ef=0,aa(),null}function Lc(){if(No!==null){var n=NC(Km),e=Ar.transition,t=Ut;try{if(Ar.transition=null,Ut=16>n?16:n,No===null)var i=!1;else{if(n=No,No=null,Km=0,Dt&6)throw Error(Me(331));var r=Dt;for(Dt|=4,He=n.current;He!==null;){var s=He,o=s.child;if(He.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var f=a[l];for(He=f;He!==null;){var d=He;switch(d.tag){case 0:case 11:case 15:bf(8,d,s)}var h=d.child;if(h!==null)h.return=d,He=h;else for(;He!==null;){d=He;var p=d.sibling,m=d.return;if(YT(d),d===f){He=null;break}if(p!==null){p.return=m,He=p;break}He=m}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}He=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,He=o;else e:for(;He!==null;){if(s=He,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bf(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,He=x;break e}He=s.return}}var w=n.current;for(He=w;He!==null;){o=He;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,He=b;else e:for(o=w;He!==null;){if(a=He,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Pg(9,a)}}catch(T){yn(a,a.return,T)}if(a===o){He=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,He=M;break e}He=a.return}}if(Dt=r,aa(),ms&&typeof ms.onPostCommitFiberRoot=="function")try{ms.onPostCommitFiberRoot(wg,n)}catch{}i=!0}return i}finally{Ut=t,Ar.transition=e}}return!1}function Ob(n,e,t){e=Uc(t,e),e=zT(n,e,1),n=Vo(n,e,1),e=Ti(),n!==null&&(wd(n,1,e),Wi(n,e))}function yn(n,e,t){if(n.tag===3)Ob(n,n,t);else for(;e!==null;){if(e.tag===3){Ob(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Wo===null||!Wo.has(i))){n=Uc(t,n),n=FT(e,n,1),e=Vo(e,n,1),n=Ti(),e!==null&&(wd(e,1,n),Wi(e,n));break}}e=e.return}}function $I(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Ti(),n.pingedLanes|=n.suspendedLanes&t,Zn===n&&(Jn&t)===t&&(Nn===4||Nn===3&&(Jn&130023424)===Jn&&500>Mn()-L_?ja(n,0):R_|=t),Wi(n,e)}function r5(n,e){e===0&&(n.mode&1?(e=Qh,Qh<<=1,!(Qh&130023424)&&(Qh=4194304)):e=1);var t=Ti();n=io(n,e),n!==null&&(wd(n,e,t),Wi(n,t))}function GI(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),r5(n,t)}function jI(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Me(314))}i!==null&&i.delete(e),r5(n,t)}var s5;s5=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Hi.current)Bi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Bi=!1,DI(n,e,t);Bi=!!(n.flags&131072)}else Bi=!1,nn&&e.flags&1048576&&lT(e,Vm,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;mm(n,e),n=e.pendingProps;var r=Nc(e,mi.current);Rc(e,t),r=M_(null,e,i,n,r,t);var s=E_();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vi(i)?(s=!0,Um(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,x_(e),r.updater=Tg,e.stateNode=r,r._reactInternals=e,gy(e,i,n,t),e=xy(null,e,i,!0,s,t)):(e.tag=0,nn&&s&&d_(e),bi(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(mm(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=YI(i),n=Wr(i,n),r){case 0:e=yy(null,e,i,n,t);break e;case 1:e=Eb(null,e,i,n,t);break e;case 11:e=bb(null,e,i,n,t);break e;case 14:e=Mb(null,e,i,Wr(i.type,n),t);break e}throw Error(Me(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Wr(i,r),yy(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Wr(i,r),Eb(n,e,i,r,t);case 3:e:{if(VT(e),n===null)throw Error(Me(387));i=e.pendingProps,s=e.memoizedState,r=s.element,dT(n,e),Gm(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Uc(Error(Me(423)),e),e=Cb(n,e,i,t,r);break e}else if(i!==r){r=Uc(Error(Me(424)),e),e=Cb(n,e,i,t,r);break e}else for(Qi=Ho(e.stateNode.containerInfo.firstChild),er=e,nn=!0,jr=null,t=gT(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(zc(),i===r){e=ro(n,e,t);break e}bi(n,e,i,t)}e=e.child}return e;case 5:return vT(e),n===null&&hy(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,ly(i,r)?o=null:s!==null&&ly(i,s)&&(e.flags|=32),HT(n,e),bi(n,e,o,t),e.child;case 6:return n===null&&hy(e),null;case 13:return WT(n,e,t);case 4:return __(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Fc(e,null,i,t):bi(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Wr(i,r),bb(n,e,i,r,t);case 7:return bi(n,e,e.pendingProps,t),e.child;case 8:return bi(n,e,e.pendingProps.children,t),e.child;case 12:return bi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Zt(Wm,i._currentValue),i._currentValue=o,s!==null)if(Kr(s.value,o)){if(s.children===r.children&&!Hi.current){e=ro(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Js(-1,t&-t),l.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var d=f.pending;d===null?l.next=l:(l.next=d.next,d.next=l),f.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),py(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Me(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),py(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}bi(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Rc(e,t),r=Rr(r),i=i(r),e.flags|=1,bi(n,e,i,t),e.child;case 14:return i=e.type,r=Wr(i,e.pendingProps),r=Wr(i.type,r),Mb(n,e,i,r,t);case 15:return BT(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Wr(i,r),mm(n,e),e.tag=1,Vi(i)?(n=!0,Um(e)):n=!1,Rc(e,t),pT(e,i,r),gy(e,i,r,t),xy(null,e,i,!0,n,t);case 19:return $T(n,e,t);case 22:return UT(n,e,t)}throw Error(Me(156,e.tag))};function o5(n,e){return IC(n,e)}function XI(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(n,e,t,i){return new XI(n,e,t,i)}function O_(n){return n=n.prototype,!(!n||!n.isReactComponent)}function YI(n){if(typeof n=="function")return O_(n)?1:0;if(n!=null){if(n=n.$$typeof,n===e_)return 11;if(n===t_)return 14}return 2}function Go(n,e){var t=n.alternate;return t===null?(t=Cr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function ym(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")O_(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case lc:return Xa(t.children,r,s,e);case Qx:o=8,r|=8;break;case Uv:return n=Cr(12,t,e,r|2),n.elementType=Uv,n.lanes=s,n;case Hv:return n=Cr(13,t,e,r),n.elementType=Hv,n.lanes=s,n;case Vv:return n=Cr(19,t,e,r),n.elementType=Vv,n.lanes=s,n;case mC:return Lg(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case hC:o=10;break e;case pC:o=9;break e;case e_:o=11;break e;case t_:o=14;break e;case Lo:o=16,i=null;break e}throw Error(Me(130,n==null?n:typeof n,""))}return e=Cr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Xa(n,e,t,i){return n=Cr(7,n,i,e),n.lanes=t,n}function Lg(n,e,t,i){return n=Cr(22,n,i,e),n.elementType=mC,n.lanes=t,n.stateNode={isHidden:!1},n}function N1(n,e,t){return n=Cr(6,n,null,e),n.lanes=t,n}function z1(n,e,t){return e=Cr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function ZI(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=v1(0),this.expirationTimes=v1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=v1(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function N_(n,e,t,i,r,s,o,a,l){return n=new ZI(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Cr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},x_(s),n}function qI(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ac,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function a5(n){if(!n)return Yo;n=n._reactInternals;e:{if(pl(n)!==n||n.tag!==1)throw Error(Me(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Me(171))}if(n.tag===1){var t=n.type;if(Vi(t))return oT(n,t,e)}return e}function l5(n,e,t,i,r,s,o,a,l){return n=N_(t,i,!0,n,r,s,o,a,l),n.context=a5(null),t=n.current,i=Ti(),r=$o(t),s=Js(i,r),s.callback=e??null,Vo(t,s,r),n.current.lanes=r,wd(n,r,i),Wi(n,i),n}function Ig(n,e,t,i){var r=e.current,s=Ti(),o=$o(r);return t=a5(t),e.context===null?e.context=t:e.pendingContext=t,e=Js(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Vo(r,e,o),n!==null&&(Zr(n,r,o,s),dm(n,r,o)),o}function Qm(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Nb(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function z_(n,e){Nb(n,e),(n=n.alternate)&&Nb(n,e)}function KI(){return null}var c5=typeof reportError=="function"?reportError:function(n){console.error(n)};function F_(n){this._internalRoot=n}Dg.prototype.render=F_.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Me(409));Ig(n,e,null,null)};Dg.prototype.unmount=F_.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ol(function(){Ig(null,n,null,null)}),e[no]=null}};function Dg(n){this._internalRoot=n}Dg.prototype.unstable_scheduleHydration=function(n){if(n){var e=BC();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Do.length&&e!==0&&e<Do[t].priority;t++);Do.splice(t,0,n),t===0&&HC(n)}};function B_(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function kg(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function zb(){}function JI(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var f=Qm(o);s.call(f)}}var o=l5(e,i,n,0,null,!1,!1,"",zb);return n._reactRootContainer=o,n[no]=o.current,Vf(n.nodeType===8?n.parentNode:n),ol(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var f=Qm(l);a.call(f)}}var l=N_(n,0,!1,null,null,!1,!1,"",zb);return n._reactRootContainer=l,n[no]=l.current,Vf(n.nodeType===8?n.parentNode:n),ol(function(){Ig(e,l,t,i)}),l}function Og(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Qm(o);a.call(l)}}Ig(e,o,n,r)}else o=JI(t,e,n,r,i);return Qm(o)}zC=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=df(e.pendingLanes);t!==0&&(r_(e,t|1),Wi(e,Mn()),!(Dt&6)&&(Hc=Mn()+500,aa()))}break;case 13:ol(function(){var i=io(n,1);if(i!==null){var r=Ti();Zr(i,n,1,r)}}),z_(n,1)}};s_=function(n){if(n.tag===13){var e=io(n,134217728);if(e!==null){var t=Ti();Zr(e,n,134217728,t)}z_(n,134217728)}};FC=function(n){if(n.tag===13){var e=$o(n),t=io(n,e);if(t!==null){var i=Ti();Zr(t,n,e,i)}z_(n,e)}};BC=function(){return Ut};UC=function(n,e){var t=Ut;try{return Ut=n,e()}finally{Ut=t}};Jv=function(n,e,t){switch(e){case"input":if(Gv(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=Eg(i);if(!r)throw Error(Me(90));vC(i),Gv(i,r)}}}break;case"textarea":xC(n,t);break;case"select":e=t.value,e!=null&&Cc(n,!!t.multiple,e,!1)}};CC=I_;TC=ol;var QI={usingClientEntryPoint:!1,Events:[bd,dc,Eg,MC,EC,I_]},Gu={findFiberByHostInstance:za,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},eD={bundleType:Gu.bundleType,version:Gu.version,rendererPackageName:Gu.rendererPackageName,rendererConfig:Gu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=RC(n),n===null?null:n.stateNode},findFiberByHostInstance:Gu.findFiberByHostInstance||KI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var up=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!up.isDisabled&&up.supportsFiber)try{wg=up.inject(eD),ms=up}catch{}}sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QI;sr.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!B_(e))throw Error(Me(200));return qI(n,e,null,t)};sr.createRoot=function(n,e){if(!B_(n))throw Error(Me(299));var t=!1,i="",r=c5;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=N_(n,1,!1,null,null,t,!1,i,r),n[no]=e.current,Vf(n.nodeType===8?n.parentNode:n),new F_(e)};sr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Me(188)):(n=Object.keys(n).join(","),Error(Me(268,n)));return n=RC(e),n=n===null?null:n.stateNode,n};sr.flushSync=function(n){return ol(n)};sr.hydrate=function(n,e,t){if(!kg(e))throw Error(Me(200));return Og(null,n,e,!0,t)};sr.hydrateRoot=function(n,e,t){if(!B_(n))throw Error(Me(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=c5;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=l5(e,null,n,1,t??null,r,!1,s,o),n[no]=e.current,Vf(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Dg(e)};sr.render=function(n,e,t){if(!kg(e))throw Error(Me(200));return Og(null,n,e,!1,t)};sr.unmountComponentAtNode=function(n){if(!kg(n))throw Error(Me(40));return n._reactRootContainer?(ol(function(){Og(null,null,n,!1,function(){n._reactRootContainer=null,n[no]=null})}),!0):!1};sr.unstable_batchedUpdates=I_;sr.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!kg(t))throw Error(Me(200));if(n==null||n._reactInternals===void 0)throw Error(Me(38));return Og(n,e,t,!1,i)};sr.version="18.2.0-next-9e3b772b8-20220608";function u5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u5)}catch(n){console.error(n)}}u5(),lC.exports=sr;var Ed=lC.exports;const f5=Kc(Ed);var d5,Fb=Ed;d5=Fv.createRoot=Fb.createRoot,Fv.hydrateRoot=Fb.hydrateRoot;/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Ng="148",Ia={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Da={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},h5=0,Ly=1,p5=2,tD=3,m5=0,zg=1,Cf=2,Ua=3,Zo=0,tr=1,Fg=2,pf=3,Qs=0,Ya=1,Iy=2,Dy=3,ky=4,g5=5,Oa=100,v5=101,y5=102,Oy=103,Ny=104,x5=200,_5=201,w5=202,S5=203,U_=204,H_=205,b5=206,M5=207,E5=208,C5=209,T5=210,A5=0,P5=1,R5=2,eg=3,L5=4,I5=5,D5=6,k5=7,Cd=0,O5=1,N5=2,qr=0,z5=1,F5=2,B5=3,V_=4,U5=5,Bg=300,qo=301,Ko=302,Kf=303,Jf=304,tu=306,Qf=1e3,di=1001,ed=1002,bn=1003,tg=1004,nD=1004,Tf=1005,iD=1005,En=1006,W_=1007,rD=1007,Jo=1008,sD=1008,so=1009,H5=1010,V5=1011,$_=1012,W5=1013,zo=1014,Zs=1015,Vc=1016,$5=1017,G5=1018,Za=1020,j5=1021,X5=1022,Fi=1023,Y5=1024,Z5=1025,jo=1026,al=1027,q5=1028,K5=1029,J5=1030,Q5=1031,eA=1033,xm=33776,_m=33777,wm=33778,Sm=33779,zy=35840,Fy=35841,By=35842,Uy=35843,tA=36196,Hy=37492,Vy=37496,Wy=37808,$y=37809,Gy=37810,jy=37811,Xy=37812,Yy=37813,Zy=37814,qy=37815,Ky=37816,Jy=37817,Qy=37818,ex=37819,tx=37820,nx=37821,ix=36492,nA=2200,iA=2201,rA=2202,td=2300,nd=2301,bm=2302,Ha=2400,Va=2401,id=2402,Ug=2500,G_=2501,oD=0,aD=1,lD=2,Qo=3e3,Yt=3001,sA=3200,oA=3201,la=0,aA=1,cD="",Gr="srgb",Wc="srgb-linear",uD=0,Mm=7680,fD=7681,dD=7682,hD=7683,pD=34055,mD=34056,gD=5386,vD=512,yD=513,xD=514,_D=515,wD=516,SD=517,bD=518,lA=519,rd=35044,MD=35048,ED=35040,CD=35045,TD=35049,AD=35041,PD=35046,RD=35050,LD=35042,ID="100",rx="300 es",ng=1035;class Ss{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const li=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Bb=1234567;const qa=Math.PI/180,sd=180/Math.PI;function nr(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(li[n&255]+li[n>>8&255]+li[n>>16&255]+li[n>>24&255]+"-"+li[e&255]+li[e>>8&255]+"-"+li[e>>16&15|64]+li[e>>24&255]+"-"+li[t&63|128]+li[t>>8&255]+"-"+li[t>>16&255]+li[t>>24&255]+li[i&255]+li[i>>8&255]+li[i>>16&255]+li[i>>24&255]).toLowerCase()}function Cn(n,e,t){return Math.max(e,Math.min(t,n))}function j_(n,e){return(n%e+e)%e}function DD(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function kD(n,e,t){return n!==e?(t-n)/(e-n):0}function Af(n,e,t){return(1-t)*n+t*e}function OD(n,e,t,i){return Af(n,e,1-Math.exp(-t*i))}function ND(n,e=1){return e-Math.abs(j_(n,e*2)-e)}function zD(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function FD(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function BD(n,e){return n+Math.floor(Math.random()*(e-n+1))}function UD(n,e){return n+Math.random()*(e-n)}function HD(n){return n*(.5-Math.random())}function VD(n){n!==void 0&&(Bb=n);let e=Bb+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function WD(n){return n*qa}function $D(n){return n*sd}function sx(n){return(n&n-1)===0&&n!==0}function cA(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function ig(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function GD(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),f=s((e+i)/2),d=o((e+i)/2),h=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),v=o((i-e)/2);switch(r){case"XYX":n.set(a*d,l*h,l*p,a*f);break;case"YZY":n.set(l*p,a*d,l*h,a*f);break;case"ZXZ":n.set(l*h,l*p,a*d,a*f);break;case"XZX":n.set(a*d,l*v,l*m,a*f);break;case"YXY":n.set(l*m,a*d,l*v,a*f);break;case"ZYZ":n.set(l*v,l*m,a*d,a*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function qs(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Gt(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var uA=Object.freeze({__proto__:null,DEG2RAD:qa,RAD2DEG:sd,generateUUID:nr,clamp:Cn,euclideanModulo:j_,mapLinear:DD,inverseLerp:kD,lerp:Af,damp:OD,pingpong:ND,smoothstep:zD,smootherstep:FD,randInt:BD,randFloat:UD,randFloatSpread:HD,seededRandom:VD,degToRad:WD,radToDeg:$D,isPowerOfTwo:sx,ceilPowerOfTwo:cA,floorPowerOfTwo:ig,setQuaternionFromProperEuler:GD,normalize:Gt,denormalize:qs});class ve{constructor(e=0,t=0){ve.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ei{constructor(){Ei.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,s,o,a,l,f){const d=this.elements;return d[0]=e,d[1]=r,d[2]=a,d[3]=t,d[4]=s,d[5]=l,d[6]=i,d[7]=o,d[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],f=i[1],d=i[4],h=i[7],p=i[2],m=i[5],v=i[8],y=r[0],_=r[3],x=r[6],w=r[1],b=r[4],M=r[7],T=r[2],A=r[5],L=r[8];return s[0]=o*y+a*w+l*T,s[3]=o*_+a*b+l*A,s[6]=o*x+a*M+l*L,s[1]=f*y+d*w+h*T,s[4]=f*_+d*b+h*A,s[7]=f*x+d*M+h*L,s[2]=p*y+m*w+v*T,s[5]=p*_+m*b+v*A,s[8]=p*x+m*M+v*L,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],f=e[7],d=e[8];return t*o*d-t*a*f-i*s*d+i*a*l+r*s*f-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],f=e[7],d=e[8],h=d*o-a*f,p=a*l-d*s,m=f*s-o*l,v=t*h+i*p+r*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/v;return e[0]=h*y,e[1]=(r*f-d*i)*y,e[2]=(a*i-r*o)*y,e[3]=p*y,e[4]=(d*t-r*l)*y,e[5]=(r*s-a*t)*y,e[6]=m*y,e[7]=(i*l-f*t)*y,e[8]=(o*t-i*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),f=Math.sin(s);return this.set(i*l,i*f,-i*(l*o+f*a)+o+e,-r*f,r*l,-r*(-f*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(F1.makeScale(e,t)),this}rotate(e){return this.premultiply(F1.makeRotation(-e)),this}translate(e,t){return this.premultiply(F1.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const F1=new Ei;function fA(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const jD={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function xc(n,e){return new jD[n](e)}function od(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Ka(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Em(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const B1={[Gr]:{[Wc]:Ka},[Wc]:{[Gr]:Em}},ci={legacyMode:!0,get workingColorSpace(){return Wc},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(B1[e]&&B1[e][t]!==void 0){const i=B1[e][t];return n.r=i(n.r),n.g=i(n.g),n.b=i(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},dA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},kn={r:0,g:0,b:0},Ur={h:0,s:0,l:0},fp={h:0,s:0,l:0};function U1(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function dp(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}let Be=class{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Gr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ci.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=ci.workingColorSpace){return this.r=e,this.g=t,this.b=i,ci.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=ci.workingColorSpace){if(e=j_(e,1),t=Cn(t,0,1),i=Cn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=U1(o,s,e+1/3),this.g=U1(o,s,e),this.b=U1(o,s,e-1/3)}return ci.toWorkingColorSpace(this,r),this}setStyle(e,t=Gr){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,ci.toWorkingColorSpace(this,t),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,ci.toWorkingColorSpace(this,t),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,f=parseFloat(s[2])/100,d=parseFloat(s[3])/100;return i(s[4]),this.setHSL(l,f,d,t)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,ci.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,ci.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Gr){const i=dA[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ka(e.r),this.g=Ka(e.g),this.b=Ka(e.b),this}copyLinearToSRGB(e){return this.r=Em(e.r),this.g=Em(e.g),this.b=Em(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Gr){return ci.fromWorkingColorSpace(dp(this,kn),e),Cn(kn.r*255,0,255)<<16^Cn(kn.g*255,0,255)<<8^Cn(kn.b*255,0,255)<<0}getHexString(e=Gr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ci.workingColorSpace){ci.fromWorkingColorSpace(dp(this,kn),t);const i=kn.r,r=kn.g,s=kn.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,f;const d=(a+o)/2;if(a===o)l=0,f=0;else{const h=o-a;switch(f=d<=.5?h/(o+a):h/(2-o-a),o){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4;break}l/=6}return e.h=l,e.s=f,e.l=d,e}getRGB(e,t=ci.workingColorSpace){return ci.fromWorkingColorSpace(dp(this,kn),t),e.r=kn.r,e.g=kn.g,e.b=kn.b,e}getStyle(e=Gr){return ci.fromWorkingColorSpace(dp(this,kn),e),e!==Gr?`color(${e} ${kn.r} ${kn.g} ${kn.b})`:`rgb(${kn.r*255|0},${kn.g*255|0},${kn.b*255|0})`}offsetHSL(e,t,i){return this.getHSL(Ur),Ur.h+=e,Ur.s+=t,Ur.l+=i,this.setHSL(Ur.h,Ur.s,Ur.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Ur),e.getHSL(fp);const i=Af(Ur.h,fp.h,t),r=Af(Ur.s,fp.s,t),s=Af(Ur.l,fp.l,t);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};Be.NAMES=dA;let Nl;class X_{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Nl===void 0&&(Nl=od("canvas")),Nl.width=e.width,Nl.height=e.height;const i=Nl.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Nl}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=od("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Ka(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Ka(t[i]/255)*255):t[i]=Ka(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Wa{constructor(e=null){this.isSource=!0,this.uuid=nr(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(H1(r[o].image)):s.push(H1(r[o]))}else s=H1(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function H1(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?X_.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let XD=0;class fn extends Ss{constructor(e=fn.DEFAULT_IMAGE,t=fn.DEFAULT_MAPPING,i=di,r=di,s=En,o=Jo,a=Fi,l=so,f=fn.DEFAULT_ANISOTROPY,d=Qo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:XD++}),this.uuid=nr(),this.name="",this.source=new Wa(e),this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=f,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ve(0,0),this.repeat=new ve(1,1),this.center=new ve(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ei,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Bg)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Qf:e.x=e.x-Math.floor(e.x);break;case di:e.x=e.x<0?0:1;break;case ed:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Qf:e.y=e.y-Math.floor(e.y);break;case di:e.y=e.y<0?0:1;break;case ed:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}fn.DEFAULT_IMAGE=null;fn.DEFAULT_MAPPING=Bg;fn.DEFAULT_ANISOTROPY=1;class Bt{constructor(e=0,t=0,i=0,r=1){Bt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,f=l[0],d=l[4],h=l[8],p=l[1],m=l[5],v=l[9],y=l[2],_=l[6],x=l[10];if(Math.abs(d-p)<.01&&Math.abs(h-y)<.01&&Math.abs(v-_)<.01){if(Math.abs(d+p)<.1&&Math.abs(h+y)<.1&&Math.abs(v+_)<.1&&Math.abs(f+m+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(f+1)/2,M=(m+1)/2,T=(x+1)/2,A=(d+p)/4,L=(h+y)/4,C=(v+_)/4;return b>M&&b>T?b<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(b),r=A/i,s=L/i):M>T?M<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(M),i=A/r,s=C/r):T<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(T),i=L/s,r=C/s),this.set(i,r,s,t),this}let w=Math.sqrt((_-v)*(_-v)+(h-y)*(h-y)+(p-d)*(p-d));return Math.abs(w)<.001&&(w=1),this.x=(_-v)/w,this.y=(h-y)/w,this.z=(p-d)/w,this.w=Math.acos((f+m+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ir extends Ss{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Bt(0,0,e,t),this.scissorTest=!1,this.viewport=new Bt(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new fn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:En,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Wa(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Td extends fn{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=bn,this.minFilter=bn,this.wrapR=di,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class YD extends Ir{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Td(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Hg extends fn{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=bn,this.minFilter=bn,this.wrapR=di,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ZD extends Ir{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new Hg(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class qD extends Ir{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class pi{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],f=i[r+1],d=i[r+2],h=i[r+3];const p=s[o+0],m=s[o+1],v=s[o+2],y=s[o+3];if(a===0){e[t+0]=l,e[t+1]=f,e[t+2]=d,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=y;return}if(h!==y||l!==p||f!==m||d!==v){let _=1-a;const x=l*p+f*m+d*v+h*y,w=x>=0?1:-1,b=1-x*x;if(b>Number.EPSILON){const T=Math.sqrt(b),A=Math.atan2(T,x*w);_=Math.sin(_*A)/T,a=Math.sin(a*A)/T}const M=a*w;if(l=l*_+p*M,f=f*_+m*M,d=d*_+v*M,h=h*_+y*M,_===1-a){const T=1/Math.sqrt(l*l+f*f+d*d+h*h);l*=T,f*=T,d*=T,h*=T}}e[t]=l,e[t+1]=f,e[t+2]=d,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],f=i[r+2],d=i[r+3],h=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+d*h+l*m-f*p,e[t+1]=l*v+d*p+f*h-a*m,e[t+2]=f*v+d*m+a*p-l*h,e[t+3]=d*v-a*h-l*p-f*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,f=a(i/2),d=a(r/2),h=a(s/2),p=l(i/2),m=l(r/2),v=l(s/2);switch(o){case"XYZ":this._x=p*d*h+f*m*v,this._y=f*m*h-p*d*v,this._z=f*d*v+p*m*h,this._w=f*d*h-p*m*v;break;case"YXZ":this._x=p*d*h+f*m*v,this._y=f*m*h-p*d*v,this._z=f*d*v-p*m*h,this._w=f*d*h+p*m*v;break;case"ZXY":this._x=p*d*h-f*m*v,this._y=f*m*h+p*d*v,this._z=f*d*v+p*m*h,this._w=f*d*h-p*m*v;break;case"ZYX":this._x=p*d*h-f*m*v,this._y=f*m*h+p*d*v,this._z=f*d*v-p*m*h,this._w=f*d*h+p*m*v;break;case"YZX":this._x=p*d*h+f*m*v,this._y=f*m*h+p*d*v,this._z=f*d*v-p*m*h,this._w=f*d*h-p*m*v;break;case"XZY":this._x=p*d*h-f*m*v,this._y=f*m*h-p*d*v,this._z=f*d*v+p*m*h,this._w=f*d*h+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],f=t[2],d=t[6],h=t[10],p=i+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(d-l)*m,this._y=(s-f)*m,this._z=(o-r)*m}else if(i>a&&i>h){const m=2*Math.sqrt(1+i-a-h);this._w=(d-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+f)/m}else if(a>h){const m=2*Math.sqrt(1+a-i-h);this._w=(s-f)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+d)/m}else{const m=2*Math.sqrt(1+h-i-a);this._w=(o-r)/m,this._x=(s+f)/m,this._y=(l+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Cn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,f=t._z,d=t._w;return this._x=i*d+o*a+r*f-s*l,this._y=r*d+o*l+s*a-i*f,this._z=s*d+o*f+i*l-r*a,this._w=o*d-i*a-r*l-s*f,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const f=Math.sqrt(l),d=Math.atan2(f,a),h=Math.sin((1-t)*d)/f,p=Math.sin(t*d)/f;return this._w=o*h+this._w*p,this._x=i*h+this._x*p,this._y=r*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class z{constructor(e=0,t=0,i=0){z.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Ub.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Ub.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,f=l*t+o*r-a*i,d=l*i+a*t-s*r,h=l*r+s*i-o*t,p=-s*t-o*i-a*r;return this.x=f*l+p*-s+d*-a-h*-o,this.y=d*l+p*-o+h*-s-f*-a,this.z=h*l+p*-a+f*-o-d*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return V1.copy(this).projectOnVector(e),this.sub(V1)}reflect(e){return this.sub(V1.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Cn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const V1=new z,Ub=new pi;class ml{constructor(e=new z(1/0,1/0,1/0),t=new z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,f=e.length;l<f;l+=3){const d=e[l],h=e[l+1],p=e[l+2];d<t&&(t=d),h<i&&(i=h),p<r&&(r=p),d>s&&(s=d),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,f=e.count;l<f;l++){const d=e.getX(l),h=e.getY(l),p=e.getZ(l);d<t&&(t=d),h<i&&(i=h),p<r&&(r=p),d>s&&(s=d),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Sa.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0)if(t&&i.attributes!=null&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)Sa.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Sa)}else i.boundingBox===null&&i.computeBoundingBox(),W1.copy(i.boundingBox),W1.applyMatrix4(e.matrixWorld),this.union(W1);const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Sa),Sa.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ju),hp.subVectors(this.max,ju),zl.subVectors(e.a,ju),Fl.subVectors(e.b,ju),Bl.subVectors(e.c,ju),Eo.subVectors(Fl,zl),Co.subVectors(Bl,Fl),ba.subVectors(zl,Bl);let t=[0,-Eo.z,Eo.y,0,-Co.z,Co.y,0,-ba.z,ba.y,Eo.z,0,-Eo.x,Co.z,0,-Co.x,ba.z,0,-ba.x,-Eo.y,Eo.x,0,-Co.y,Co.x,0,-ba.y,ba.x,0];return!$1(t,zl,Fl,Bl,hp)||(t=[1,0,0,0,1,0,0,0,1],!$1(t,zl,Fl,Bl,hp))?!1:(pp.crossVectors(Eo,Co),t=[pp.x,pp.y,pp.z],$1(t,zl,Fl,Bl,hp))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Sa.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Sa).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ks[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ks[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ks[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ks[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ks[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ks[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ks[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ks[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ks),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ks=[new z,new z,new z,new z,new z,new z,new z,new z],Sa=new z,W1=new ml,zl=new z,Fl=new z,Bl=new z,Eo=new z,Co=new z,ba=new z,ju=new z,hp=new z,pp=new z,Ma=new z;function $1(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Ma.fromArray(n,s);const a=r.x*Math.abs(Ma.x)+r.y*Math.abs(Ma.y)+r.z*Math.abs(Ma.z),l=e.dot(Ma),f=t.dot(Ma),d=i.dot(Ma);if(Math.max(-Math.max(l,f,d),Math.min(l,f,d))>a)return!1}return!0}const KD=new ml,Xu=new z,G1=new z;class gl{constructor(e=new z,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):KD.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Xu.subVectors(e,this.center);const t=Xu.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Xu,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(G1.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Xu.copy(e.center).add(G1)),this.expandByPoint(Xu.copy(e.center).sub(G1))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Os=new z,j1=new z,mp=new z,To=new z,X1=new z,gp=new z,Y1=new z;class nu{constructor(e=new z,t=new z(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Os)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Os.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Os.copy(this.direction).multiplyScalar(t).add(this.origin),Os.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){j1.copy(e).add(t).multiplyScalar(.5),mp.copy(t).sub(e).normalize(),To.copy(this.origin).sub(j1);const s=e.distanceTo(t)*.5,o=-this.direction.dot(mp),a=To.dot(this.direction),l=-To.dot(mp),f=To.lengthSq(),d=Math.abs(1-o*o);let h,p,m,v;if(d>0)if(h=o*l-a,p=o*a-l,v=s*d,h>=0)if(p>=-v)if(p<=v){const y=1/d;h*=y,p*=y,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+f}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+f;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+f;else p<=-v?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+f):p<=v?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+f):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+f);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+f;return i&&i.copy(this.direction).multiplyScalar(h).add(this.origin),r&&r.copy(mp).multiplyScalar(p).add(j1),m}intersectSphere(e,t){Os.subVectors(e.center,this.origin);const i=Os.dot(this.direction),r=Os.dot(Os)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const f=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,p=this.origin;return f>=0?(i=(e.min.x-p.x)*f,r=(e.max.x-p.x)*f):(i=(e.max.x-p.x)*f,r=(e.min.x-p.x)*f),d>=0?(s=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(s=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Os)!==null}intersectTriangle(e,t,i,r,s){X1.subVectors(t,e),gp.subVectors(i,e),Y1.crossVectors(X1,gp);let o=this.direction.dot(Y1),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;To.subVectors(this.origin,e);const l=a*this.direction.dot(gp.crossVectors(To,gp));if(l<0)return null;const f=a*this.direction.dot(X1.cross(To));if(f<0||l+f>o)return null;const d=-a*To.dot(Y1);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class pt{constructor(){pt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,s,o,a,l,f,d,h,p,m,v,y,_){const x=this.elements;return x[0]=e,x[4]=t,x[8]=i,x[12]=r,x[1]=s,x[5]=o,x[9]=a,x[13]=l,x[2]=f,x[6]=d,x[10]=h,x[14]=p,x[3]=m,x[7]=v,x[11]=y,x[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new pt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Ul.setFromMatrixColumn(e,0).length(),s=1/Ul.setFromMatrixColumn(e,1).length(),o=1/Ul.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),f=Math.sin(r),d=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*d,m=o*h,v=a*d,y=a*h;t[0]=l*d,t[4]=-l*h,t[8]=f,t[1]=m+v*f,t[5]=p-y*f,t[9]=-a*l,t[2]=y-p*f,t[6]=v+m*f,t[10]=o*l}else if(e.order==="YXZ"){const p=l*d,m=l*h,v=f*d,y=f*h;t[0]=p+y*a,t[4]=v*a-m,t[8]=o*f,t[1]=o*h,t[5]=o*d,t[9]=-a,t[2]=m*a-v,t[6]=y+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*d,m=l*h,v=f*d,y=f*h;t[0]=p-y*a,t[4]=-o*h,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*d,t[9]=y-p*a,t[2]=-o*f,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*d,m=o*h,v=a*d,y=a*h;t[0]=l*d,t[4]=v*f-m,t[8]=p*f+y,t[1]=l*h,t[5]=y*f+p,t[9]=m*f-v,t[2]=-f,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*f,v=a*l,y=a*f;t[0]=l*d,t[4]=y-p*h,t[8]=v*h+m,t[1]=h,t[5]=o*d,t[9]=-a*d,t[2]=-f*d,t[6]=m*h+v,t[10]=p-y*h}else if(e.order==="XZY"){const p=o*l,m=o*f,v=a*l,y=a*f;t[0]=l*d,t[4]=-h,t[8]=f*d,t[1]=p*h+y,t[5]=o*d,t[9]=m*h-v,t[2]=v*h-m,t[6]=a*d,t[10]=y*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(JD,e,QD)}lookAt(e,t,i){const r=this.elements;return Yi.subVectors(e,t),Yi.lengthSq()===0&&(Yi.z=1),Yi.normalize(),Ao.crossVectors(i,Yi),Ao.lengthSq()===0&&(Math.abs(i.z)===1?Yi.x+=1e-4:Yi.z+=1e-4,Yi.normalize(),Ao.crossVectors(i,Yi)),Ao.normalize(),vp.crossVectors(Yi,Ao),r[0]=Ao.x,r[4]=vp.x,r[8]=Yi.x,r[1]=Ao.y,r[5]=vp.y,r[9]=Yi.y,r[2]=Ao.z,r[6]=vp.z,r[10]=Yi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],f=i[12],d=i[1],h=i[5],p=i[9],m=i[13],v=i[2],y=i[6],_=i[10],x=i[14],w=i[3],b=i[7],M=i[11],T=i[15],A=r[0],L=r[4],C=r[8],k=r[12],D=r[1],O=r[5],$=r[9],W=r[13],H=r[2],q=r[6],te=r[10],se=r[14],N=r[3],Y=r[7],G=r[11],X=r[15];return s[0]=o*A+a*D+l*H+f*N,s[4]=o*L+a*O+l*q+f*Y,s[8]=o*C+a*$+l*te+f*G,s[12]=o*k+a*W+l*se+f*X,s[1]=d*A+h*D+p*H+m*N,s[5]=d*L+h*O+p*q+m*Y,s[9]=d*C+h*$+p*te+m*G,s[13]=d*k+h*W+p*se+m*X,s[2]=v*A+y*D+_*H+x*N,s[6]=v*L+y*O+_*q+x*Y,s[10]=v*C+y*$+_*te+x*G,s[14]=v*k+y*W+_*se+x*X,s[3]=w*A+b*D+M*H+T*N,s[7]=w*L+b*O+M*q+T*Y,s[11]=w*C+b*$+M*te+T*G,s[15]=w*k+b*W+M*se+T*X,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],f=e[13],d=e[2],h=e[6],p=e[10],m=e[14],v=e[3],y=e[7],_=e[11],x=e[15];return v*(+s*l*h-r*f*h-s*a*p+i*f*p+r*a*m-i*l*m)+y*(+t*l*m-t*f*p+s*o*p-r*o*m+r*f*d-s*l*d)+_*(+t*f*h-t*a*m-s*o*h+i*o*m+s*a*d-i*f*d)+x*(-r*a*d-t*l*h+t*a*p+r*o*h-i*o*p+i*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],f=e[7],d=e[8],h=e[9],p=e[10],m=e[11],v=e[12],y=e[13],_=e[14],x=e[15],w=h*_*f-y*p*f+y*l*m-a*_*m-h*l*x+a*p*x,b=v*p*f-d*_*f-v*l*m+o*_*m+d*l*x-o*p*x,M=d*y*f-v*h*f+v*a*m-o*y*m-d*a*x+o*h*x,T=v*h*l-d*y*l-v*a*p+o*y*p+d*a*_-o*h*_,A=t*w+i*b+r*M+s*T;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/A;return e[0]=w*L,e[1]=(y*p*s-h*_*s-y*r*m+i*_*m+h*r*x-i*p*x)*L,e[2]=(a*_*s-y*l*s+y*r*f-i*_*f-a*r*x+i*l*x)*L,e[3]=(h*l*s-a*p*s-h*r*f+i*p*f+a*r*m-i*l*m)*L,e[4]=b*L,e[5]=(d*_*s-v*p*s+v*r*m-t*_*m-d*r*x+t*p*x)*L,e[6]=(v*l*s-o*_*s-v*r*f+t*_*f+o*r*x-t*l*x)*L,e[7]=(o*p*s-d*l*s+d*r*f-t*p*f-o*r*m+t*l*m)*L,e[8]=M*L,e[9]=(v*h*s-d*y*s-v*i*m+t*y*m+d*i*x-t*h*x)*L,e[10]=(o*y*s-v*a*s+v*i*f-t*y*f-o*i*x+t*a*x)*L,e[11]=(d*a*s-o*h*s-d*i*f+t*h*f+o*i*m-t*a*m)*L,e[12]=T*L,e[13]=(d*y*r-v*h*r+v*i*p-t*y*p-d*i*_+t*h*_)*L,e[14]=(v*a*r-o*y*r-v*i*l+t*y*l+o*i*_-t*a*_)*L,e[15]=(o*h*r-d*a*r+d*i*l-t*h*l-o*i*p+t*a*p)*L,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,f=s*o,d=s*a;return this.set(f*o+i,f*a-r*l,f*l+r*a,0,f*a+r*l,d*a+i,d*l-r*o,0,f*l-r*a,d*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,f=s+s,d=o+o,h=a+a,p=s*f,m=s*d,v=s*h,y=o*d,_=o*h,x=a*h,w=l*f,b=l*d,M=l*h,T=i.x,A=i.y,L=i.z;return r[0]=(1-(y+x))*T,r[1]=(m+M)*T,r[2]=(v-b)*T,r[3]=0,r[4]=(m-M)*A,r[5]=(1-(p+x))*A,r[6]=(_+w)*A,r[7]=0,r[8]=(v+b)*L,r[9]=(_-w)*L,r[10]=(1-(p+y))*L,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Ul.set(r[0],r[1],r[2]).length();const o=Ul.set(r[4],r[5],r[6]).length(),a=Ul.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Hr.copy(this);const f=1/s,d=1/o,h=1/a;return Hr.elements[0]*=f,Hr.elements[1]*=f,Hr.elements[2]*=f,Hr.elements[4]*=d,Hr.elements[5]*=d,Hr.elements[6]*=d,Hr.elements[8]*=h,Hr.elements[9]*=h,Hr.elements[10]*=h,t.setFromRotationMatrix(Hr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){const a=this.elements,l=2*s/(t-e),f=2*s/(i-r),d=(t+e)/(t-e),h=(i+r)/(i-r),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=d,a[12]=0,a[1]=0,a[5]=f,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,l=1/(t-e),f=1/(i-r),d=1/(o-s),h=(t+e)*l,p=(i+r)*f,m=(o+s)*d;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*f,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*d,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Ul=new z,Hr=new pt,JD=new z(0,0,0),QD=new z(1,1,1),Ao=new z,vp=new z,Yi=new z,Hb=new pt,Vb=new pi;class iu{constructor(e=0,t=0,i=0,r=iu.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],f=r[5],d=r[9],h=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(Cn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,f),this._z=0);break;case"YXZ":this._x=Math.asin(-Cn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,f)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Cn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,f)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Cn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,f));break;case"YZX":this._z=Math.asin(Cn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,f),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Cn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,f),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return Hb.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Hb,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Vb.setFromEuler(this),this.setFromQuaternion(Vb,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}iu.DefaultOrder="XYZ";iu.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Ja{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let ek=0;const Wb=new z,Hl=new pi,Ns=new pt,yp=new z,Yu=new z,tk=new z,nk=new pi,$b=new z(1,0,0),Gb=new z(0,1,0),jb=new z(0,0,1),ik={type:"added"},Xb={type:"removed"};class bt extends Ss{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ek++}),this.uuid=nr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=bt.DefaultUp.clone();const e=new z,t=new iu,i=new pi,r=new z(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new pt},normalMatrix:{value:new Ei}}),this.matrix=new pt,this.matrixWorld=new pt,this.matrixAutoUpdate=bt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=bt.DefaultMatrixWorldAutoUpdate,this.layers=new Ja,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Hl.setFromAxisAngle(e,t),this.quaternion.multiply(Hl),this}rotateOnWorldAxis(e,t){return Hl.setFromAxisAngle(e,t),this.quaternion.premultiply(Hl),this}rotateX(e){return this.rotateOnAxis($b,e)}rotateY(e){return this.rotateOnAxis(Gb,e)}rotateZ(e){return this.rotateOnAxis(jb,e)}translateOnAxis(e,t){return Wb.copy(e).applyQuaternion(this.quaternion),this.position.add(Wb.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis($b,e)}translateY(e){return this.translateOnAxis(Gb,e)}translateZ(e){return this.translateOnAxis(jb,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ns.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?yp.copy(e):yp.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Yu.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ns.lookAt(Yu,yp,this.up):Ns.lookAt(yp,Yu,this.up),this.quaternion.setFromRotationMatrix(Ns),r&&(Ns.extractRotation(r.matrixWorld),Hl.setFromRotationMatrix(Ns),this.quaternion.premultiply(Hl.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(ik)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Xb)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(Xb)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Ns.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ns.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ns),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Yu,e,tk),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Yu,nk,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let f=0,d=l.length;f<d;f++){const h=l[f];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,f=this.material.length;l<f;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),f=o(e.textures),d=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),f.length>0&&(i.textures=f),d.length>0&&(i.images=d),h.length>0&&(i.shapes=h),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),v.length>0&&(i.nodes=v)}return i.object=r,i;function o(a){const l=[];for(const f in a){const d=a[f];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}bt.DefaultUp=new z(0,1,0);bt.DefaultMatrixAutoUpdate=!0;bt.DefaultMatrixWorldAutoUpdate=!0;const Vr=new z,zs=new z,Z1=new z,Fs=new z,Vl=new z,Wl=new z,Yb=new z,q1=new z,K1=new z,J1=new z;class Er{constructor(e=new z,t=new z,i=new z){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Vr.subVectors(e,t),r.cross(Vr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Vr.subVectors(r,t),zs.subVectors(i,t),Z1.subVectors(e,t);const o=Vr.dot(Vr),a=Vr.dot(zs),l=Vr.dot(Z1),f=zs.dot(zs),d=zs.dot(Z1),h=o*f-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,m=(f*l-a*d)*p,v=(o*d-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Fs),Fs.x>=0&&Fs.y>=0&&Fs.x+Fs.y<=1}static getUV(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Fs),l.set(0,0),l.addScaledVector(s,Fs.x),l.addScaledVector(o,Fs.y),l.addScaledVector(a,Fs.z),l}static isFrontFacing(e,t,i,r){return Vr.subVectors(i,t),zs.subVectors(e,t),Vr.cross(zs).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Vr.subVectors(this.c,this.b),zs.subVectors(this.a,this.b),Vr.cross(zs).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Er.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Er.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return Er.getUV(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Er.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Er.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;Vl.subVectors(r,i),Wl.subVectors(s,i),q1.subVectors(e,i);const l=Vl.dot(q1),f=Wl.dot(q1);if(l<=0&&f<=0)return t.copy(i);K1.subVectors(e,r);const d=Vl.dot(K1),h=Wl.dot(K1);if(d>=0&&h<=d)return t.copy(r);const p=l*h-d*f;if(p<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(i).addScaledVector(Vl,o);J1.subVectors(e,s);const m=Vl.dot(J1),v=Wl.dot(J1);if(v>=0&&m<=v)return t.copy(s);const y=m*f-l*v;if(y<=0&&f>=0&&v<=0)return a=f/(f-v),t.copy(i).addScaledVector(Wl,a);const _=d*v-m*h;if(_<=0&&h-d>=0&&m-v>=0)return Yb.subVectors(s,r),a=(h-d)/(h-d+(m-v)),t.copy(r).addScaledVector(Yb,a);const x=1/(_+y+p);return o=y*x,a=p*x,t.copy(i).addScaledVector(Vl,o).addScaledVector(Wl,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let rk=0;class ei extends Ss{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:rk++}),this.uuid=nr(),this.name="",this.type="Material",this.blending=Ya,this.side=Zo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=U_,this.blendDst=H_,this.blendEquation=Oa,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=eg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=lA,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Mm,this.stencilZFail=Mm,this.stencilZPass=Mm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Ya&&(i.blending=this.blending),this.side!==Zo&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ca extends ei{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Cd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Rn=new z,xp=new ve;class jt{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=rd,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)xp.fromBufferAttribute(this,t),xp.applyMatrix3(e),this.setXY(t,xp.x,xp.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Rn.fromBufferAttribute(this,t),Rn.applyMatrix3(e),this.setXYZ(t,Rn.x,Rn.y,Rn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Rn.fromBufferAttribute(this,t),Rn.applyMatrix4(e),this.setXYZ(t,Rn.x,Rn.y,Rn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Rn.fromBufferAttribute(this,t),Rn.applyNormalMatrix(e),this.setXYZ(t,Rn.x,Rn.y,Rn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Rn.fromBufferAttribute(this,t),Rn.transformDirection(e),this.setXYZ(t,Rn.x,Rn.y,Rn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=qs(t,this.array)),t}setX(e,t){return this.normalized&&(t=Gt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=qs(t,this.array)),t}setY(e,t){return this.normalized&&(t=Gt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=qs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Gt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=qs(t,this.array)),t}setW(e,t){return this.normalized&&(t=Gt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Gt(t,this.array),i=Gt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Gt(t,this.array),i=Gt(i,this.array),r=Gt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Gt(t,this.array),i=Gt(i,this.array),r=Gt(r,this.array),s=Gt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==rd&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class sk extends jt{constructor(e,t,i){super(new Int8Array(e),t,i)}}class ok extends jt{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class ak extends jt{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class lk extends jt{constructor(e,t,i){super(new Int16Array(e),t,i)}}class Y_ extends jt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class ck extends jt{constructor(e,t,i){super(new Int32Array(e),t,i)}}class Z_ extends jt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class uk extends jt{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}}class Xe extends jt{constructor(e,t,i){super(new Float32Array(e),t,i)}}class fk extends jt{constructor(e,t,i){super(new Float64Array(e),t,i)}}let dk=0;const xr=new pt,Q1=new bt,$l=new z,Zi=new ml,Zu=new ml,Gn=new z;class _t extends Ss{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:dk++}),this.uuid=nr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(fA(e)?Z_:Y_)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Ei().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return xr.makeRotationFromQuaternion(e),this.applyMatrix4(xr),this}rotateX(e){return xr.makeRotationX(e),this.applyMatrix4(xr),this}rotateY(e){return xr.makeRotationY(e),this.applyMatrix4(xr),this}rotateZ(e){return xr.makeRotationZ(e),this.applyMatrix4(xr),this}translate(e,t,i){return xr.makeTranslation(e,t,i),this.applyMatrix4(xr),this}scale(e,t,i){return xr.makeScale(e,t,i),this.applyMatrix4(xr),this}lookAt(e){return Q1.lookAt(e),Q1.updateMatrix(),this.applyMatrix4(Q1.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter($l).negate(),this.translate($l.x,$l.y,$l.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Xe(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ml);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new z(-1/0,-1/0,-1/0),new z(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Zi.setFromBufferAttribute(s),this.morphTargetsRelative?(Gn.addVectors(this.boundingBox.min,Zi.min),this.boundingBox.expandByPoint(Gn),Gn.addVectors(this.boundingBox.max,Zi.max),this.boundingBox.expandByPoint(Gn)):(this.boundingBox.expandByPoint(Zi.min),this.boundingBox.expandByPoint(Zi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new gl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new z,1/0);return}if(e){const i=this.boundingSphere.center;if(Zi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Zu.setFromBufferAttribute(a),this.morphTargetsRelative?(Gn.addVectors(Zi.min,Zu.min),Zi.expandByPoint(Gn),Gn.addVectors(Zi.max,Zu.max),Zi.expandByPoint(Gn)):(Zi.expandByPoint(Zu.min),Zi.expandByPoint(Zu.max))}Zi.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Gn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Gn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let f=0,d=a.count;f<d;f++)Gn.fromBufferAttribute(a,f),l&&($l.fromBufferAttribute(e,f),Gn.add($l)),r=Math.max(r,i.distanceToSquared(Gn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new jt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,f=[],d=[];for(let D=0;D<a;D++)f[D]=new z,d[D]=new z;const h=new z,p=new z,m=new z,v=new ve,y=new ve,_=new ve,x=new z,w=new z;function b(D,O,$){h.fromArray(r,D*3),p.fromArray(r,O*3),m.fromArray(r,$*3),v.fromArray(o,D*2),y.fromArray(o,O*2),_.fromArray(o,$*2),p.sub(h),m.sub(h),y.sub(v),_.sub(v);const W=1/(y.x*_.y-_.x*y.y);isFinite(W)&&(x.copy(p).multiplyScalar(_.y).addScaledVector(m,-y.y).multiplyScalar(W),w.copy(m).multiplyScalar(y.x).addScaledVector(p,-_.x).multiplyScalar(W),f[D].add(x),f[O].add(x),f[$].add(x),d[D].add(w),d[O].add(w),d[$].add(w))}let M=this.groups;M.length===0&&(M=[{start:0,count:i.length}]);for(let D=0,O=M.length;D<O;++D){const $=M[D],W=$.start,H=$.count;for(let q=W,te=W+H;q<te;q+=3)b(i[q+0],i[q+1],i[q+2])}const T=new z,A=new z,L=new z,C=new z;function k(D){L.fromArray(s,D*3),C.copy(L);const O=f[D];T.copy(O),T.sub(L.multiplyScalar(L.dot(O))).normalize(),A.crossVectors(C,O);const W=A.dot(d[D])<0?-1:1;l[D*4]=T.x,l[D*4+1]=T.y,l[D*4+2]=T.z,l[D*4+3]=W}for(let D=0,O=M.length;D<O;++D){const $=M[D],W=$.start,H=$.count;for(let q=W,te=W+H;q<te;q+=3)k(i[q+0]),k(i[q+1]),k(i[q+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new jt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new z,s=new z,o=new z,a=new z,l=new z,f=new z,d=new z,h=new z;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),y=e.getX(p+1),_=e.getX(p+2);r.fromBufferAttribute(t,v),s.fromBufferAttribute(t,y),o.fromBufferAttribute(t,_),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),a.fromBufferAttribute(i,v),l.fromBufferAttribute(i,y),f.fromBufferAttribute(i,_),a.add(d),l.add(d),f.add(d),i.setXYZ(v,a.x,a.y,a.z),i.setXYZ(y,l.x,l.y,l.z),i.setXYZ(_,f.x,f.y,f.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),i.setXYZ(p+0,d.x,d.y,d.z),i.setXYZ(p+1,d.x,d.y,d.z),i.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Gn.fromBufferAttribute(e,t),Gn.normalize(),e.setXYZ(t,Gn.x,Gn.y,Gn.z)}toNonIndexed(){function e(a,l){const f=a.array,d=a.itemSize,h=a.normalized,p=new f.constructor(l.length*d);let m=0,v=0;for(let y=0,_=l.length;y<_;y++){a.isInterleavedBufferAttribute?m=l[y]*a.data.stride+a.offset:m=l[y]*d;for(let x=0;x<d;x++)p[v++]=f[m++]}return new jt(p,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new _t,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],f=e(l,i);t.setAttribute(a,f)}const s=this.morphAttributes;for(const a in s){const l=[],f=s[a];for(let d=0,h=f.length;d<h;d++){const p=f[d],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const f=o[a];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const f in l)l[f]!==void 0&&(e[f]=l[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const f=i[l];e.data.attributes[l]=f.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const f=this.morphAttributes[l],d=[];for(let h=0,p=f.length;h<p;h++){const m=f[h];d.push(m.toJSON(e.data))}d.length>0&&(r[l]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const f in r){const d=r[f];this.setAttribute(f,d.clone(t))}const s=e.morphAttributes;for(const f in s){const d=[],h=s[f];for(let p=0,m=h.length;p<m;p++)d.push(h[p].clone(t));this.morphAttributes[f]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let f=0,d=o.length;f<d;f++){const h=o[f];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const Zb=new pt,Gl=new nu,ev=new gl,qu=new z,Ku=new z,Ju=new z,tv=new z,_p=new z,wp=new ve,Sp=new ve,bp=new ve,nv=new z,Mp=new z;class Yn extends bt{constructor(e=new _t,t=new ca){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){_p.set(0,0,0);for(let l=0,f=s.length;l<f;l++){const d=a[l],h=s[l];d!==0&&(tv.fromBufferAttribute(h,e),o?_p.addScaledVector(tv,d):_p.addScaledVector(tv.sub(t),d))}t.add(_p)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),ev.copy(i.boundingSphere),ev.applyMatrix4(s),e.ray.intersectsSphere(ev)===!1)||(Zb.copy(s).invert(),Gl.copy(e.ray).applyMatrix4(Zb),i.boundingBox!==null&&Gl.intersectsBox(i.boundingBox)===!1))return;let o;const a=i.index,l=i.attributes.position,f=i.attributes.uv,d=i.attributes.uv2,h=i.groups,p=i.drawRange;if(a!==null)if(Array.isArray(r))for(let m=0,v=h.length;m<v;m++){const y=h[m],_=r[y.materialIndex],x=Math.max(y.start,p.start),w=Math.min(a.count,Math.min(y.start+y.count,p.start+p.count));for(let b=x,M=w;b<M;b+=3){const T=a.getX(b),A=a.getX(b+1),L=a.getX(b+2);o=Ep(this,_,e,Gl,f,d,T,A,L),o&&(o.faceIndex=Math.floor(b/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),v=Math.min(a.count,p.start+p.count);for(let y=m,_=v;y<_;y+=3){const x=a.getX(y),w=a.getX(y+1),b=a.getX(y+2);o=Ep(this,r,e,Gl,f,d,x,w,b),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(r))for(let m=0,v=h.length;m<v;m++){const y=h[m],_=r[y.materialIndex],x=Math.max(y.start,p.start),w=Math.min(l.count,Math.min(y.start+y.count,p.start+p.count));for(let b=x,M=w;b<M;b+=3){const T=b,A=b+1,L=b+2;o=Ep(this,_,e,Gl,f,d,T,A,L),o&&(o.faceIndex=Math.floor(b/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),v=Math.min(l.count,p.start+p.count);for(let y=m,_=v;y<_;y+=3){const x=y,w=y+1,b=y+2;o=Ep(this,r,e,Gl,f,d,x,w,b),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}}}function hk(n,e,t,i,r,s,o,a){let l;if(e.side===tr?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===Zo,a),l===null)return null;Mp.copy(a),Mp.applyMatrix4(n.matrixWorld);const f=t.ray.origin.distanceTo(Mp);return f<t.near||f>t.far?null:{distance:f,point:Mp.clone(),object:n}}function Ep(n,e,t,i,r,s,o,a,l){n.getVertexPosition(o,qu),n.getVertexPosition(a,Ku),n.getVertexPosition(l,Ju);const f=hk(n,e,t,i,qu,Ku,Ju,nv);if(f){r&&(wp.fromBufferAttribute(r,o),Sp.fromBufferAttribute(r,a),bp.fromBufferAttribute(r,l),f.uv=Er.getUV(nv,qu,Ku,Ju,wp,Sp,bp,new ve)),s&&(wp.fromBufferAttribute(s,o),Sp.fromBufferAttribute(s,a),bp.fromBufferAttribute(s,l),f.uv2=Er.getUV(nv,qu,Ku,Ju,wp,Sp,bp,new ve));const d={a:o,b:a,c:l,normal:new z,materialIndex:0};Er.getNormal(qu,Ku,Ju,d.normal),f.face=d}return f}class ua extends _t{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],f=[],d=[],h=[];let p=0,m=0;v("z","y","x",-1,-1,i,t,e,o,s,0),v("z","y","x",1,-1,i,t,-e,o,s,1),v("x","z","y",1,1,e,i,t,r,o,2),v("x","z","y",1,-1,e,i,-t,r,o,3),v("x","y","z",1,-1,e,t,i,r,s,4),v("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Xe(f,3)),this.setAttribute("normal",new Xe(d,3)),this.setAttribute("uv",new Xe(h,2));function v(y,_,x,w,b,M,T,A,L,C,k){const D=M/L,O=T/C,$=M/2,W=T/2,H=A/2,q=L+1,te=C+1;let se=0,N=0;const Y=new z;for(let G=0;G<te;G++){const X=G*O-W;for(let J=0;J<q;J++){const pe=J*D-$;Y[y]=pe*w,Y[_]=X*b,Y[x]=H,f.push(Y.x,Y.y,Y.z),Y[y]=0,Y[_]=0,Y[x]=A>0?1:-1,d.push(Y.x,Y.y,Y.z),h.push(J/L),h.push(1-G/C),se+=1}}for(let G=0;G<C;G++)for(let X=0;X<L;X++){const J=p+X+q*G,pe=p+X+q*(G+1),ye=p+(X+1)+q*(G+1),be=p+(X+1)+q*G;l.push(J,pe,be),l.push(pe,ye,be),N+=6}a.addGroup(m,N,k),m+=N,p+=se}}static fromJSON(e){return new ua(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function $c(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Si(n){const e={};for(let t=0;t<n.length;t++){const i=$c(n[t]);for(const r in i)e[r]=i[r]}return e}function pk(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function hA(n){return n.getRenderTarget()===null&&n.outputEncoding===Yt?Gr:Wc}const pA={clone:$c,merge:Si};var mk=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,gk=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class xs extends ei{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=mk,this.fragmentShader=gk,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=$c(e.uniforms),this.uniformsGroups=pk(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Ad extends bt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new pt,this.projectionMatrix=new pt,this.projectionMatrixInverse=new pt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class xn extends Ad{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=sd*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(qa*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return sd*2*Math.atan(Math.tan(qa*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(qa*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,f=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/f,r*=o.width/l,i*=o.height/f}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const jl=-90,Xl=1;class mA extends bt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new xn(jl,Xl,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new xn(jl,Xl,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new xn(jl,Xl,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new xn(jl,Xl,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new xn(jl,Xl,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const f=new xn(jl,Xl,e,t);f.layers=this.layers,f.up.set(0,1,0),f.lookAt(0,0,-1),this.add(f)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,f]=this.children,d=e.getRenderTarget(),h=e.toneMapping,p=e.xr.enabled;e.toneMapping=qr,e.xr.enabled=!1;const m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=m,e.setRenderTarget(i,5),e.render(t,f),e.setRenderTarget(d),e.toneMapping=h,e.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class Pd extends fn{constructor(e,t,i,r,s,o,a,l,f,d){e=e!==void 0?e:[],t=t!==void 0?t:qo,super(e,t,i,r,s,o,a,l,f,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class gA extends Ir{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new Pd(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:En}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new ua(5,5,5),s=new xs({name:"CubemapFromEquirect",uniforms:$c(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:tr,blending:Qs});s.uniforms.tEquirect.value=t;const o=new Yn(r,s),a=t.minFilter;return t.minFilter===Jo&&(t.minFilter=En),new mA(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const iv=new z,vk=new z,yk=new Ei;class Ws{constructor(e=new z(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=iv.subVectors(i,t).cross(vk.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(iv),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||yk.getNormalMatrix(e),r=this.coplanarPoint(iv).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Yl=new gl,Cp=new z;class Vg{constructor(e=new Ws,t=new Ws,i=new Ws,r=new Ws,s=new Ws,o=new Ws){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],f=i[5],d=i[6],h=i[7],p=i[8],m=i[9],v=i[10],y=i[11],_=i[12],x=i[13],w=i[14],b=i[15];return t[0].setComponents(a-r,h-l,y-p,b-_).normalize(),t[1].setComponents(a+r,h+l,y+p,b+_).normalize(),t[2].setComponents(a+s,h+f,y+m,b+x).normalize(),t[3].setComponents(a-s,h-f,y-m,b-x).normalize(),t[4].setComponents(a-o,h-d,y-v,b-w).normalize(),t[5].setComponents(a+o,h+d,y+v,b+w).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Yl.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Yl)}intersectsSprite(e){return Yl.center.set(0,0,0),Yl.radius=.7071067811865476,Yl.applyMatrix4(e.matrixWorld),this.intersectsSphere(Yl)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Cp.x=r.normal.x>0?e.max.x:e.min.x,Cp.y=r.normal.y>0?e.max.y:e.min.y,Cp.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Cp)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function vA(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function xk(n,e){const t=e.isWebGL2,i=new WeakMap;function r(f,d){const h=f.array,p=f.usage,m=n.createBuffer();n.bindBuffer(d,m),n.bufferData(d,h,p),f.onUploadCallback();let v;if(h instanceof Float32Array)v=5126;else if(h instanceof Uint16Array)if(f.isFloat16BufferAttribute)if(t)v=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=5123;else if(h instanceof Int16Array)v=5122;else if(h instanceof Uint32Array)v=5125;else if(h instanceof Int32Array)v=5124;else if(h instanceof Int8Array)v=5120;else if(h instanceof Uint8Array)v=5121;else if(h instanceof Uint8ClampedArray)v=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:m,type:v,bytesPerElement:h.BYTES_PER_ELEMENT,version:f.version}}function s(f,d,h){const p=d.array,m=d.updateRange;n.bindBuffer(h,f),m.count===-1?n.bufferSubData(h,0,p):(t?n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),d.onUploadCallback()}function o(f){return f.isInterleavedBufferAttribute&&(f=f.data),i.get(f)}function a(f){f.isInterleavedBufferAttribute&&(f=f.data);const d=i.get(f);d&&(n.deleteBuffer(d.buffer),i.delete(f))}function l(f,d){if(f.isGLBufferAttribute){const p=i.get(f);(!p||p.version<f.version)&&i.set(f,{buffer:f.buffer,type:f.type,bytesPerElement:f.elementSize,version:f.version});return}f.isInterleavedBufferAttribute&&(f=f.data);const h=i.get(f);h===void 0?i.set(f,r(f,d)):h.version<f.version&&(s(h.buffer,f,d),h.version=f.version)}return{get:o,remove:a,update:l}}class ru extends _t{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),f=a+1,d=l+1,h=e/a,p=t/l,m=[],v=[],y=[],_=[];for(let x=0;x<d;x++){const w=x*p-o;for(let b=0;b<f;b++){const M=b*h-s;v.push(M,-w,0),y.push(0,0,1),_.push(b/a),_.push(1-x/l)}}for(let x=0;x<l;x++)for(let w=0;w<a;w++){const b=w+f*x,M=w+f*(x+1),T=w+1+f*(x+1),A=w+1+f*x;m.push(b,M,A),m.push(M,T,A)}this.setIndex(m),this.setAttribute("position",new Xe(v,3)),this.setAttribute("normal",new Xe(y,3)),this.setAttribute("uv",new Xe(_,2))}static fromJSON(e){return new ru(e.width,e.height,e.widthSegments,e.heightSegments)}}var _k=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,wk=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Sk=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,bk=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Mk=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Ek=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Ck="vec3 transformed = vec3( position );",Tk=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Ak=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,Pk=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Rk=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Lk=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Ik=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Dk=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,kk=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Ok=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Nk=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,zk=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Fk=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Bk=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,Uk=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Hk=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Vk=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Wk=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,$k=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Gk=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,jk="gl_FragColor = linearToOutputTexel( gl_FragColor );",Xk=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Yk=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Zk=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,qk=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Kk=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Jk=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Qk=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,e6=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,t6=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,n6=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,i6=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,r6=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,s6=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,o6=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,a6=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,l6=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,c6=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,u6=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,f6=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,d6=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,h6=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,p6=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,m6=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,g6=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,v6=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,y6=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,x6=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,_6=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,w6=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,S6=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,b6=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,M6=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,E6=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,C6=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,T6=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,A6=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,P6=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,R6=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,L6=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,I6=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,D6=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,k6=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,O6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,N6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,z6=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,F6=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,B6=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,U6=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,H6=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,V6=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,W6=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,$6=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,G6=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,j6=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,X6=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Y6=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Z6=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,q6=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,K6=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,J6=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Q6=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,e8=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,t8=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,n8=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,i8=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,r8=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,s8=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,o8=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,a8=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,l8=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,c8=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,u8=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,f8=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,d8=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,h8=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,p8=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,m8=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,g8=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,v8=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const y8=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,x8=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,_8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,w8=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,S8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,b8=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,M8=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,E8=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,C8=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,T8=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,A8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,P8=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,R8=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,L8=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,I8=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,D8=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,k8=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,O8=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,N8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,z8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,F8=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,B8=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,U8=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,H8=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,V8=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,W8=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$8=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,G8=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,j8=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,X8=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Y8=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Z8=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,q8=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,K8=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,xt={alphamap_fragment:_k,alphamap_pars_fragment:wk,alphatest_fragment:Sk,alphatest_pars_fragment:bk,aomap_fragment:Mk,aomap_pars_fragment:Ek,begin_vertex:Ck,beginnormal_vertex:Tk,bsdfs:Ak,iridescence_fragment:Pk,bumpmap_pars_fragment:Rk,clipping_planes_fragment:Lk,clipping_planes_pars_fragment:Ik,clipping_planes_pars_vertex:Dk,clipping_planes_vertex:kk,color_fragment:Ok,color_pars_fragment:Nk,color_pars_vertex:zk,color_vertex:Fk,common:Bk,cube_uv_reflection_fragment:Uk,defaultnormal_vertex:Hk,displacementmap_pars_vertex:Vk,displacementmap_vertex:Wk,emissivemap_fragment:$k,emissivemap_pars_fragment:Gk,encodings_fragment:jk,encodings_pars_fragment:Xk,envmap_fragment:Yk,envmap_common_pars_fragment:Zk,envmap_pars_fragment:qk,envmap_pars_vertex:Kk,envmap_physical_pars_fragment:c6,envmap_vertex:Jk,fog_vertex:Qk,fog_pars_vertex:e6,fog_fragment:t6,fog_pars_fragment:n6,gradientmap_pars_fragment:i6,lightmap_fragment:r6,lightmap_pars_fragment:s6,lights_lambert_fragment:o6,lights_lambert_pars_fragment:a6,lights_pars_begin:l6,lights_toon_fragment:u6,lights_toon_pars_fragment:f6,lights_phong_fragment:d6,lights_phong_pars_fragment:h6,lights_physical_fragment:p6,lights_physical_pars_fragment:m6,lights_fragment_begin:g6,lights_fragment_maps:v6,lights_fragment_end:y6,logdepthbuf_fragment:x6,logdepthbuf_pars_fragment:_6,logdepthbuf_pars_vertex:w6,logdepthbuf_vertex:S6,map_fragment:b6,map_pars_fragment:M6,map_particle_fragment:E6,map_particle_pars_fragment:C6,metalnessmap_fragment:T6,metalnessmap_pars_fragment:A6,morphcolor_vertex:P6,morphnormal_vertex:R6,morphtarget_pars_vertex:L6,morphtarget_vertex:I6,normal_fragment_begin:D6,normal_fragment_maps:k6,normal_pars_fragment:O6,normal_pars_vertex:N6,normal_vertex:z6,normalmap_pars_fragment:F6,clearcoat_normal_fragment_begin:B6,clearcoat_normal_fragment_maps:U6,clearcoat_pars_fragment:H6,iridescence_pars_fragment:V6,output_fragment:W6,packing:$6,premultiplied_alpha_fragment:G6,project_vertex:j6,dithering_fragment:X6,dithering_pars_fragment:Y6,roughnessmap_fragment:Z6,roughnessmap_pars_fragment:q6,shadowmap_pars_fragment:K6,shadowmap_pars_vertex:J6,shadowmap_vertex:Q6,shadowmask_pars_fragment:e8,skinbase_vertex:t8,skinning_pars_vertex:n8,skinning_vertex:i8,skinnormal_vertex:r8,specularmap_fragment:s8,specularmap_pars_fragment:o8,tonemapping_fragment:a8,tonemapping_pars_fragment:l8,transmission_fragment:c8,transmission_pars_fragment:u8,uv_pars_fragment:f8,uv_pars_vertex:d8,uv_vertex:h8,uv2_pars_fragment:p8,uv2_pars_vertex:m8,uv2_vertex:g8,worldpos_vertex:v8,background_vert:y8,background_frag:x8,backgroundCube_vert:_8,backgroundCube_frag:w8,cube_vert:S8,cube_frag:b8,depth_vert:M8,depth_frag:E8,distanceRGBA_vert:C8,distanceRGBA_frag:T8,equirect_vert:A8,equirect_frag:P8,linedashed_vert:R8,linedashed_frag:L8,meshbasic_vert:I8,meshbasic_frag:D8,meshlambert_vert:k8,meshlambert_frag:O8,meshmatcap_vert:N8,meshmatcap_frag:z8,meshnormal_vert:F8,meshnormal_frag:B8,meshphong_vert:U8,meshphong_frag:H8,meshphysical_vert:V8,meshphysical_frag:W8,meshtoon_vert:$8,meshtoon_frag:G8,points_vert:j8,points_frag:X8,shadow_vert:Y8,shadow_frag:Z8,sprite_vert:q8,sprite_frag:K8},Le={common:{diffuse:{value:new Be(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ei},uv2Transform:{value:new Ei},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ve(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Be(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Be(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ei}},sprite:{diffuse:{value:new Be(16777215)},opacity:{value:1},center:{value:new ve(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ei}}},Xr={basic:{uniforms:Si([Le.common,Le.specularmap,Le.envmap,Le.aomap,Le.lightmap,Le.fog]),vertexShader:xt.meshbasic_vert,fragmentShader:xt.meshbasic_frag},lambert:{uniforms:Si([Le.common,Le.specularmap,Le.envmap,Le.aomap,Le.lightmap,Le.emissivemap,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.fog,Le.lights,{emissive:{value:new Be(0)}}]),vertexShader:xt.meshlambert_vert,fragmentShader:xt.meshlambert_frag},phong:{uniforms:Si([Le.common,Le.specularmap,Le.envmap,Le.aomap,Le.lightmap,Le.emissivemap,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.fog,Le.lights,{emissive:{value:new Be(0)},specular:{value:new Be(1118481)},shininess:{value:30}}]),vertexShader:xt.meshphong_vert,fragmentShader:xt.meshphong_frag},standard:{uniforms:Si([Le.common,Le.envmap,Le.aomap,Le.lightmap,Le.emissivemap,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.roughnessmap,Le.metalnessmap,Le.fog,Le.lights,{emissive:{value:new Be(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:xt.meshphysical_vert,fragmentShader:xt.meshphysical_frag},toon:{uniforms:Si([Le.common,Le.aomap,Le.lightmap,Le.emissivemap,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.gradientmap,Le.fog,Le.lights,{emissive:{value:new Be(0)}}]),vertexShader:xt.meshtoon_vert,fragmentShader:xt.meshtoon_frag},matcap:{uniforms:Si([Le.common,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.fog,{matcap:{value:null}}]),vertexShader:xt.meshmatcap_vert,fragmentShader:xt.meshmatcap_frag},points:{uniforms:Si([Le.points,Le.fog]),vertexShader:xt.points_vert,fragmentShader:xt.points_frag},dashed:{uniforms:Si([Le.common,Le.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xt.linedashed_vert,fragmentShader:xt.linedashed_frag},depth:{uniforms:Si([Le.common,Le.displacementmap]),vertexShader:xt.depth_vert,fragmentShader:xt.depth_frag},normal:{uniforms:Si([Le.common,Le.bumpmap,Le.normalmap,Le.displacementmap,{opacity:{value:1}}]),vertexShader:xt.meshnormal_vert,fragmentShader:xt.meshnormal_frag},sprite:{uniforms:Si([Le.sprite,Le.fog]),vertexShader:xt.sprite_vert,fragmentShader:xt.sprite_frag},background:{uniforms:{uvTransform:{value:new Ei},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:xt.background_vert,fragmentShader:xt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:xt.backgroundCube_vert,fragmentShader:xt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:xt.cube_vert,fragmentShader:xt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xt.equirect_vert,fragmentShader:xt.equirect_frag},distanceRGBA:{uniforms:Si([Le.common,Le.displacementmap,{referencePosition:{value:new z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xt.distanceRGBA_vert,fragmentShader:xt.distanceRGBA_frag},shadow:{uniforms:Si([Le.lights,Le.fog,{color:{value:new Be(0)},opacity:{value:1}}]),vertexShader:xt.shadow_vert,fragmentShader:xt.shadow_frag}};Xr.physical={uniforms:Si([Xr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ve(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Be(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ve},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Be(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Be(1,1,1)},specularColorMap:{value:null}}]),vertexShader:xt.meshphysical_vert,fragmentShader:xt.meshphysical_frag};const Tp={r:0,b:0,g:0};function J8(n,e,t,i,r,s,o){const a=new Be(0);let l=s===!0?0:1,f,d,h=null,p=0,m=null;function v(_,x){let w=!1,b=x.isScene===!0?x.background:null;b&&b.isTexture&&(b=(x.backgroundBlurriness>0?t:e).get(b));const M=n.xr,T=M.getSession&&M.getSession();T&&T.environmentBlendMode==="additive"&&(b=null),b===null?y(a,l):b&&b.isColor&&(y(b,1),w=!0),(n.autoClear||w)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),b&&(b.isCubeTexture||b.mapping===tu)?(d===void 0&&(d=new Yn(new ua(1,1,1),new xs({name:"BackgroundCubeMaterial",uniforms:$c(Xr.backgroundCube.uniforms),vertexShader:Xr.backgroundCube.vertexShader,fragmentShader:Xr.backgroundCube.fragmentShader,side:tr,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(A,L,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),d.material.uniforms.envMap.value=b,d.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,d.material.toneMapped=b.encoding!==Yt,(h!==b||p!==b.version||m!==n.toneMapping)&&(d.material.needsUpdate=!0,h=b,p=b.version,m=n.toneMapping),d.layers.enableAll(),_.unshift(d,d.geometry,d.material,0,0,null)):b&&b.isTexture&&(f===void 0&&(f=new Yn(new ru(2,2),new xs({name:"BackgroundMaterial",uniforms:$c(Xr.background.uniforms),vertexShader:Xr.background.vertexShader,fragmentShader:Xr.background.fragmentShader,side:Zo,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(f)),f.material.uniforms.t2D.value=b,f.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,f.material.toneMapped=b.encoding!==Yt,b.matrixAutoUpdate===!0&&b.updateMatrix(),f.material.uniforms.uvTransform.value.copy(b.matrix),(h!==b||p!==b.version||m!==n.toneMapping)&&(f.material.needsUpdate=!0,h=b,p=b.version,m=n.toneMapping),f.layers.enableAll(),_.unshift(f,f.geometry,f.material,0,0,null))}function y(_,x){_.getRGB(Tp,hA(n)),i.buffers.color.setClear(Tp.r,Tp.g,Tp.b,x,o)}return{getClearColor:function(){return a},setClearColor:function(_,x=1){a.set(_),l=x,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,y(a,l)},render:v}}function Q8(n,e,t,i){const r=n.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=_(null);let f=l,d=!1;function h(H,q,te,se,N){let Y=!1;if(o){const G=y(se,te,q);f!==G&&(f=G,m(f.object)),Y=x(H,se,te,N),Y&&w(H,se,te,N)}else{const G=q.wireframe===!0;(f.geometry!==se.id||f.program!==te.id||f.wireframe!==G)&&(f.geometry=se.id,f.program=te.id,f.wireframe=G,Y=!0)}N!==null&&t.update(N,34963),(Y||d)&&(d=!1,C(H,q,te,se),N!==null&&n.bindBuffer(34963,t.get(N).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(H){return i.isWebGL2?n.bindVertexArray(H):s.bindVertexArrayOES(H)}function v(H){return i.isWebGL2?n.deleteVertexArray(H):s.deleteVertexArrayOES(H)}function y(H,q,te){const se=te.wireframe===!0;let N=a[H.id];N===void 0&&(N={},a[H.id]=N);let Y=N[q.id];Y===void 0&&(Y={},N[q.id]=Y);let G=Y[se];return G===void 0&&(G=_(p()),Y[se]=G),G}function _(H){const q=[],te=[],se=[];for(let N=0;N<r;N++)q[N]=0,te[N]=0,se[N]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:q,enabledAttributes:te,attributeDivisors:se,object:H,attributes:{},index:null}}function x(H,q,te,se){const N=f.attributes,Y=q.attributes;let G=0;const X=te.getAttributes();for(const J in X)if(X[J].location>=0){const ye=N[J];let be=Y[J];if(be===void 0&&(J==="instanceMatrix"&&H.instanceMatrix&&(be=H.instanceMatrix),J==="instanceColor"&&H.instanceColor&&(be=H.instanceColor)),ye===void 0||ye.attribute!==be||be&&ye.data!==be.data)return!0;G++}return f.attributesNum!==G||f.index!==se}function w(H,q,te,se){const N={},Y=q.attributes;let G=0;const X=te.getAttributes();for(const J in X)if(X[J].location>=0){let ye=Y[J];ye===void 0&&(J==="instanceMatrix"&&H.instanceMatrix&&(ye=H.instanceMatrix),J==="instanceColor"&&H.instanceColor&&(ye=H.instanceColor));const be={};be.attribute=ye,ye&&ye.data&&(be.data=ye.data),N[J]=be,G++}f.attributes=N,f.attributesNum=G,f.index=se}function b(){const H=f.newAttributes;for(let q=0,te=H.length;q<te;q++)H[q]=0}function M(H){T(H,0)}function T(H,q){const te=f.newAttributes,se=f.enabledAttributes,N=f.attributeDivisors;te[H]=1,se[H]===0&&(n.enableVertexAttribArray(H),se[H]=1),N[H]!==q&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](H,q),N[H]=q)}function A(){const H=f.newAttributes,q=f.enabledAttributes;for(let te=0,se=q.length;te<se;te++)q[te]!==H[te]&&(n.disableVertexAttribArray(te),q[te]=0)}function L(H,q,te,se,N,Y){i.isWebGL2===!0&&(te===5124||te===5125)?n.vertexAttribIPointer(H,q,te,N,Y):n.vertexAttribPointer(H,q,te,se,N,Y)}function C(H,q,te,se){if(i.isWebGL2===!1&&(H.isInstancedMesh||se.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const N=se.attributes,Y=te.getAttributes(),G=q.defaultAttributeValues;for(const X in Y){const J=Y[X];if(J.location>=0){let pe=N[X];if(pe===void 0&&(X==="instanceMatrix"&&H.instanceMatrix&&(pe=H.instanceMatrix),X==="instanceColor"&&H.instanceColor&&(pe=H.instanceColor)),pe!==void 0){const ye=pe.normalized,be=pe.itemSize,oe=t.get(pe);if(oe===void 0)continue;const Ue=oe.buffer,De=oe.type,Ye=oe.bytesPerElement;if(pe.isInterleavedBufferAttribute){const Pe=pe.data,Ze=Pe.stride,de=pe.offset;if(Pe.isInstancedInterleavedBuffer){for(let le=0;le<J.locationSize;le++)T(J.location+le,Pe.meshPerAttribute);H.isInstancedMesh!==!0&&se._maxInstanceCount===void 0&&(se._maxInstanceCount=Pe.meshPerAttribute*Pe.count)}else for(let le=0;le<J.locationSize;le++)M(J.location+le);n.bindBuffer(34962,Ue);for(let le=0;le<J.locationSize;le++)L(J.location+le,be/J.locationSize,De,ye,Ze*Ye,(de+be/J.locationSize*le)*Ye)}else{if(pe.isInstancedBufferAttribute){for(let Pe=0;Pe<J.locationSize;Pe++)T(J.location+Pe,pe.meshPerAttribute);H.isInstancedMesh!==!0&&se._maxInstanceCount===void 0&&(se._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let Pe=0;Pe<J.locationSize;Pe++)M(J.location+Pe);n.bindBuffer(34962,Ue);for(let Pe=0;Pe<J.locationSize;Pe++)L(J.location+Pe,be/J.locationSize,De,ye,be*Ye,be/J.locationSize*Pe*Ye)}}else if(G!==void 0){const ye=G[X];if(ye!==void 0)switch(ye.length){case 2:n.vertexAttrib2fv(J.location,ye);break;case 3:n.vertexAttrib3fv(J.location,ye);break;case 4:n.vertexAttrib4fv(J.location,ye);break;default:n.vertexAttrib1fv(J.location,ye)}}}}A()}function k(){$();for(const H in a){const q=a[H];for(const te in q){const se=q[te];for(const N in se)v(se[N].object),delete se[N];delete q[te]}delete a[H]}}function D(H){if(a[H.id]===void 0)return;const q=a[H.id];for(const te in q){const se=q[te];for(const N in se)v(se[N].object),delete se[N];delete q[te]}delete a[H.id]}function O(H){for(const q in a){const te=a[q];if(te[H.id]===void 0)continue;const se=te[H.id];for(const N in se)v(se[N].object),delete se[N];delete te[H.id]}}function $(){W(),d=!0,f!==l&&(f=l,m(f.object))}function W(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:$,resetDefaultState:W,dispose:k,releaseStatesOfGeometry:D,releaseStatesOfProgram:O,initAttributes:b,enableAttribute:M,disableUnusedAttributes:A}}function eO(n,e,t,i){const r=i.isWebGL2;let s;function o(f){s=f}function a(f,d){n.drawArrays(s,f,d),t.update(d,s,1)}function l(f,d,h){if(h===0)return;let p,m;if(r)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,f,d,h),t.update(d,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function tO(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const L=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(L){if(L==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";L="mediump"}return L==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const f=o||e.has("WEBGL_draw_buffers"),d=t.logarithmicDepthBuffer===!0,h=n.getParameter(34930),p=n.getParameter(35660),m=n.getParameter(3379),v=n.getParameter(34076),y=n.getParameter(34921),_=n.getParameter(36347),x=n.getParameter(36348),w=n.getParameter(36349),b=p>0,M=o||e.has("OES_texture_float"),T=b&&M,A=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:f,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:d,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:y,maxVertexUniforms:_,maxVaryings:x,maxFragmentUniforms:w,vertexTextures:b,floatFragmentTextures:M,floatVertexTextures:T,maxSamples:A}}function nO(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Ws,a=new Ei,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p,m){const v=h.length!==0||p||i!==0||r;return r=p,t=d(h,m,0),i=h.length,v},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1,f()},this.setState=function(h,p,m){const v=h.clippingPlanes,y=h.clipIntersection,_=h.clipShadows,x=n.get(h);if(!r||v===null||v.length===0||s&&!_)s?d(null):f();else{const w=s?0:i,b=w*4;let M=x.clippingState||null;l.value=M,M=d(v,p,b,m);for(let T=0;T!==b;++T)M[T]=t[T];x.clippingState=M,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=w}};function f(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(h,p,m,v){const y=h!==null?h.length:0;let _=null;if(y!==0){if(_=l.value,v!==!0||_===null){const x=m+y*4,w=p.matrixWorldInverse;a.getNormalMatrix(w),(_===null||_.length<x)&&(_=new Float32Array(x));for(let b=0,M=m;b!==y;++b,M+=4)o.copy(h[b]).applyMatrix4(w,a),o.normal.toArray(_,M),_[M+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,_}}function iO(n){let e=new WeakMap;function t(o,a){return a===Kf?o.mapping=qo:a===Jf&&(o.mapping=Ko),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Kf||a===Jf)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const f=new gA(l.height/2);return f.fromEquirectangularTexture(n,o),e.set(o,f),o.addEventListener("dispose",r),t(f.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Ks extends Ad{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=f*this.view.offsetX,o=s+f*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const _c=4,qb=[.125,.215,.35,.446,.526,.582],Na=20,rv=new Ks,Kb=new Be;let sv=null;const ka=(1+Math.sqrt(5))/2,Zl=1/ka,Jb=[new z(1,1,1),new z(-1,1,1),new z(1,1,-1),new z(-1,1,-1),new z(0,ka,Zl),new z(0,ka,-Zl),new z(Zl,0,ka),new z(-Zl,0,ka),new z(ka,Zl,0),new z(-ka,Zl,0)];class ox{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){sv=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=tM(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=eM(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(sv),e.scissorTest=!1,Ap(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===qo||e.mapping===Ko?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),sv=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:En,minFilter:En,generateMipmaps:!1,type:Vc,format:Fi,encoding:Qo,depthBuffer:!1},r=Qb(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Qb(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=rO(s)),this._blurMaterial=sO(s,e,t)}return r}_compileMaterial(e){const t=new Yn(this._lodPlanes[0],e);this._renderer.compile(t,rv)}_sceneToCubeUV(e,t,i,r){const a=new xn(90,1,t,i),l=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],d=this._renderer,h=d.autoClear,p=d.toneMapping;d.getClearColor(Kb),d.toneMapping=qr,d.autoClear=!1;const m=new ca({name:"PMREM.Background",side:tr,depthWrite:!1,depthTest:!1}),v=new Yn(new ua,m);let y=!1;const _=e.background;_?_.isColor&&(m.color.copy(_),e.background=null,y=!0):(m.color.copy(Kb),y=!0);for(let x=0;x<6;x++){const w=x%3;w===0?(a.up.set(0,l[x],0),a.lookAt(f[x],0,0)):w===1?(a.up.set(0,0,l[x]),a.lookAt(0,f[x],0)):(a.up.set(0,l[x],0),a.lookAt(0,0,f[x]));const b=this._cubeSize;Ap(r,w*b,x>2?b:0,b,b),d.setRenderTarget(r),y&&d.render(v,a),d.render(e,a)}v.geometry.dispose(),v.material.dispose(),d.toneMapping=p,d.autoClear=h,e.background=_}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===qo||e.mapping===Ko;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=tM()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=eM());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Yn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Ap(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,rv)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=Jb[(r-1)%Jb.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,f=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new Yn(this._lodPlanes[r],f),p=f.uniforms,m=this._sizeLods[i]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Na-1),y=s/v,_=isFinite(s)?1+Math.floor(d*y):Na;_>Na&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${Na}`);const x=[];let w=0;for(let L=0;L<Na;++L){const C=L/y,k=Math.exp(-C*C/2);x.push(k),L===0?w+=k:L<_&&(w+=2*k)}for(let L=0;L<x.length;L++)x[L]=x[L]/w;p.envMap.value=e.texture,p.samples.value=_,p.weights.value=x,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:b}=this;p.dTheta.value=v,p.mipInt.value=b-i;const M=this._sizeLods[r],T=3*M*(r>b-_c?r-b+_c:0),A=4*(this._cubeSize-M);Ap(t,T,A,3*M,2*M),l.setRenderTarget(t),l.render(h,rv)}}function rO(n){const e=[],t=[],i=[];let r=n;const s=n-_c+1+qb.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-_c?l=qb[o-n+_c-1]:o===0&&(l=0),i.push(l);const f=1/(a-2),d=-f,h=1+f,p=[d,d,h,d,h,h,d,d,h,h,d,h],m=6,v=6,y=3,_=2,x=1,w=new Float32Array(y*v*m),b=new Float32Array(_*v*m),M=new Float32Array(x*v*m);for(let A=0;A<m;A++){const L=A%3*2/3-1,C=A>2?0:-1,k=[L,C,0,L+2/3,C,0,L+2/3,C+1,0,L,C,0,L+2/3,C+1,0,L,C+1,0];w.set(k,y*v*A),b.set(p,_*v*A);const D=[A,A,A,A,A,A];M.set(D,x*v*A)}const T=new _t;T.setAttribute("position",new jt(w,y)),T.setAttribute("uv",new jt(b,_)),T.setAttribute("faceIndex",new jt(M,x)),e.push(T),r>_c&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function Qb(n,e,t){const i=new Ir(n,e,t);return i.texture.mapping=tu,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Ap(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function sO(n,e,t){const i=new Float32Array(Na),r=new z(0,1,0);return new xs({name:"SphericalGaussianBlur",defines:{n:Na,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:q_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Qs,depthTest:!1,depthWrite:!1})}function eM(){return new xs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:q_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Qs,depthTest:!1,depthWrite:!1})}function tM(){return new xs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:q_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Qs,depthTest:!1,depthWrite:!1})}function q_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function oO(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,f=l===Kf||l===Jf,d=l===qo||l===Ko;if(f||d)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new ox(n)),h=f?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(f&&h&&h.height>0||d&&h&&r(h)){t===null&&(t=new ox(n));const p=f?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const f=6;for(let d=0;d<f;d++)a[d]!==void 0&&l++;return l===f}function s(a){const l=a.target;l.removeEventListener("dispose",s);const f=e.get(l);f!==void 0&&(e.delete(l),f.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function aO(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function lO(n,e,t,i){const r={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const v in p)e.update(p[v],34962);const m=h.morphAttributes;for(const v in m){const y=m[v];for(let _=0,x=y.length;_<x;_++)e.update(y[_],34962)}}function f(h){const p=[],m=h.index,v=h.attributes.position;let y=0;if(m!==null){const w=m.array;y=m.version;for(let b=0,M=w.length;b<M;b+=3){const T=w[b+0],A=w[b+1],L=w[b+2];p.push(T,A,A,L,L,T)}}else{const w=v.array;y=v.version;for(let b=0,M=w.length/3-1;b<M;b+=3){const T=b+0,A=b+1,L=b+2;p.push(T,A,A,L,L,T)}}const _=new(fA(p)?Z_:Y_)(p,1);_.version=y;const x=s.get(h);x&&e.remove(x),s.set(h,_)}function d(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&f(h)}else f(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:d}}function cO(n,e,t,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,l;function f(p){a=p.type,l=p.bytesPerElement}function d(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function h(p,m,v){if(v===0)return;let y,_;if(r)y=n,_="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[_](s,m,a,p*l,v),t.update(m,s,v)}this.setMode=o,this.setIndex=f,this.render=d,this.renderInstances=h}function uO(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function fO(n,e){return n[0]-e[0]}function dO(n,e){return Math.abs(e[1])-Math.abs(n[1])}function hO(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new Bt,a=[];for(let f=0;f<8;f++)a[f]=[f,0];function l(f,d,h,p){const m=f.morphTargetInfluences;if(e.isWebGL2===!0){const v=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,y=v!==void 0?v.length:0;let _=s.get(d);if(_===void 0||_.count!==y){let q=function(){W.dispose(),s.delete(d),d.removeEventListener("dispose",q)};_!==void 0&&_.texture.dispose();const b=d.morphAttributes.position!==void 0,M=d.morphAttributes.normal!==void 0,T=d.morphAttributes.color!==void 0,A=d.morphAttributes.position||[],L=d.morphAttributes.normal||[],C=d.morphAttributes.color||[];let k=0;b===!0&&(k=1),M===!0&&(k=2),T===!0&&(k=3);let D=d.attributes.position.count*k,O=1;D>e.maxTextureSize&&(O=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const $=new Float32Array(D*O*4*y),W=new Td($,D,O,y);W.type=Zs,W.needsUpdate=!0;const H=k*4;for(let te=0;te<y;te++){const se=A[te],N=L[te],Y=C[te],G=D*O*4*te;for(let X=0;X<se.count;X++){const J=X*H;b===!0&&(o.fromBufferAttribute(se,X),$[G+J+0]=o.x,$[G+J+1]=o.y,$[G+J+2]=o.z,$[G+J+3]=0),M===!0&&(o.fromBufferAttribute(N,X),$[G+J+4]=o.x,$[G+J+5]=o.y,$[G+J+6]=o.z,$[G+J+7]=0),T===!0&&(o.fromBufferAttribute(Y,X),$[G+J+8]=o.x,$[G+J+9]=o.y,$[G+J+10]=o.z,$[G+J+11]=Y.itemSize===4?o.w:1)}}_={count:y,texture:W,size:new ve(D,O)},s.set(d,_),d.addEventListener("dispose",q)}let x=0;for(let b=0;b<m.length;b++)x+=m[b];const w=d.morphTargetsRelative?1:1-x;p.getUniforms().setValue(n,"morphTargetBaseInfluence",w),p.getUniforms().setValue(n,"morphTargetInfluences",m),p.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}else{const v=m===void 0?0:m.length;let y=i[d.id];if(y===void 0||y.length!==v){y=[];for(let M=0;M<v;M++)y[M]=[M,0];i[d.id]=y}for(let M=0;M<v;M++){const T=y[M];T[0]=M,T[1]=m[M]}y.sort(dO);for(let M=0;M<8;M++)M<v&&y[M][1]?(a[M][0]=y[M][0],a[M][1]=y[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(fO);const _=d.morphAttributes.position,x=d.morphAttributes.normal;let w=0;for(let M=0;M<8;M++){const T=a[M],A=T[0],L=T[1];A!==Number.MAX_SAFE_INTEGER&&L?(_&&d.getAttribute("morphTarget"+M)!==_[A]&&d.setAttribute("morphTarget"+M,_[A]),x&&d.getAttribute("morphNormal"+M)!==x[A]&&d.setAttribute("morphNormal"+M,x[A]),r[M]=L,w+=L):(_&&d.hasAttribute("morphTarget"+M)===!0&&d.deleteAttribute("morphTarget"+M),x&&d.hasAttribute("morphNormal"+M)===!0&&d.deleteAttribute("morphNormal"+M),r[M]=0)}const b=d.morphTargetsRelative?1:1-w;p.getUniforms().setValue(n,"morphTargetBaseInfluence",b),p.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function pO(n,e,t,i){let r=new WeakMap;function s(l){const f=i.render.frame,d=l.geometry,h=e.get(l,d);return r.get(h)!==f&&(e.update(h),r.set(h,f)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),h}function o(){r=new WeakMap}function a(l){const f=l.target;f.removeEventListener("dispose",a),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:s,dispose:o}}const yA=new fn,xA=new Td,_A=new Hg,wA=new Pd,nM=[],iM=[],rM=new Float32Array(16),sM=new Float32Array(9),oM=new Float32Array(4);function su(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=nM[r];if(s===void 0&&(s=new Float32Array(r),nM[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function zn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Fn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Wg(n,e){let t=iM[e];t===void 0&&(t=new Int32Array(e),iM[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function mO(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function gO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zn(t,e))return;n.uniform2fv(this.addr,e),Fn(t,e)}}function vO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(zn(t,e))return;n.uniform3fv(this.addr,e),Fn(t,e)}}function yO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zn(t,e))return;n.uniform4fv(this.addr,e),Fn(t,e)}}function xO(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(zn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Fn(t,e)}else{if(zn(t,i))return;oM.set(i),n.uniformMatrix2fv(this.addr,!1,oM),Fn(t,i)}}function _O(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(zn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Fn(t,e)}else{if(zn(t,i))return;sM.set(i),n.uniformMatrix3fv(this.addr,!1,sM),Fn(t,i)}}function wO(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(zn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Fn(t,e)}else{if(zn(t,i))return;rM.set(i),n.uniformMatrix4fv(this.addr,!1,rM),Fn(t,i)}}function SO(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function bO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zn(t,e))return;n.uniform2iv(this.addr,e),Fn(t,e)}}function MO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(zn(t,e))return;n.uniform3iv(this.addr,e),Fn(t,e)}}function EO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zn(t,e))return;n.uniform4iv(this.addr,e),Fn(t,e)}}function CO(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function TO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zn(t,e))return;n.uniform2uiv(this.addr,e),Fn(t,e)}}function AO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(zn(t,e))return;n.uniform3uiv(this.addr,e),Fn(t,e)}}function PO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zn(t,e))return;n.uniform4uiv(this.addr,e),Fn(t,e)}}function RO(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||yA,r)}function LO(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||_A,r)}function IO(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||wA,r)}function DO(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||xA,r)}function kO(n){switch(n){case 5126:return mO;case 35664:return gO;case 35665:return vO;case 35666:return yO;case 35674:return xO;case 35675:return _O;case 35676:return wO;case 5124:case 35670:return SO;case 35667:case 35671:return bO;case 35668:case 35672:return MO;case 35669:case 35673:return EO;case 5125:return CO;case 36294:return TO;case 36295:return AO;case 36296:return PO;case 35678:case 36198:case 36298:case 36306:case 35682:return RO;case 35679:case 36299:case 36307:return LO;case 35680:case 36300:case 36308:case 36293:return IO;case 36289:case 36303:case 36311:case 36292:return DO}}function OO(n,e){n.uniform1fv(this.addr,e)}function NO(n,e){const t=su(e,this.size,2);n.uniform2fv(this.addr,t)}function zO(n,e){const t=su(e,this.size,3);n.uniform3fv(this.addr,t)}function FO(n,e){const t=su(e,this.size,4);n.uniform4fv(this.addr,t)}function BO(n,e){const t=su(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function UO(n,e){const t=su(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function HO(n,e){const t=su(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function VO(n,e){n.uniform1iv(this.addr,e)}function WO(n,e){n.uniform2iv(this.addr,e)}function $O(n,e){n.uniform3iv(this.addr,e)}function GO(n,e){n.uniform4iv(this.addr,e)}function jO(n,e){n.uniform1uiv(this.addr,e)}function XO(n,e){n.uniform2uiv(this.addr,e)}function YO(n,e){n.uniform3uiv(this.addr,e)}function ZO(n,e){n.uniform4uiv(this.addr,e)}function qO(n,e,t){const i=this.cache,r=e.length,s=Wg(t,r);zn(i,s)||(n.uniform1iv(this.addr,s),Fn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||yA,s[o])}function KO(n,e,t){const i=this.cache,r=e.length,s=Wg(t,r);zn(i,s)||(n.uniform1iv(this.addr,s),Fn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||_A,s[o])}function JO(n,e,t){const i=this.cache,r=e.length,s=Wg(t,r);zn(i,s)||(n.uniform1iv(this.addr,s),Fn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||wA,s[o])}function QO(n,e,t){const i=this.cache,r=e.length,s=Wg(t,r);zn(i,s)||(n.uniform1iv(this.addr,s),Fn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||xA,s[o])}function e7(n){switch(n){case 5126:return OO;case 35664:return NO;case 35665:return zO;case 35666:return FO;case 35674:return BO;case 35675:return UO;case 35676:return HO;case 5124:case 35670:return VO;case 35667:case 35671:return WO;case 35668:case 35672:return $O;case 35669:case 35673:return GO;case 5125:return jO;case 36294:return XO;case 36295:return YO;case 36296:return ZO;case 35678:case 36198:case 36298:case 36306:case 35682:return qO;case 35679:case 36299:case 36307:return KO;case 35680:case 36300:case 36308:case 36293:return JO;case 36289:case 36303:case 36311:case 36292:return QO}}class t7{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=kO(t.type)}}class n7{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=e7(t.type)}}class i7{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const ov=/(\w+)(\])?(\[|\.)?/g;function aM(n,e){n.seq.push(e),n.map[e.id]=e}function r7(n,e,t){const i=n.name,r=i.length;for(ov.lastIndex=0;;){const s=ov.exec(i),o=ov.lastIndex;let a=s[1];const l=s[2]==="]",f=s[3];if(l&&(a=a|0),f===void 0||f==="["&&o+2===r){aM(t,f===void 0?new t7(a,n,e):new n7(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new i7(a),aM(t,h)),t=h}}}class Cm{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);r7(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function lM(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let s7=0;function o7(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function a7(n){switch(n){case Qo:return["Linear","( value )"];case Yt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function cM(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+o7(n.getShaderSource(e),o)}else return r}function l7(n,e){const t=a7(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function c7(n,e){let t;switch(e){case z5:t="Linear";break;case F5:t="Reinhard";break;case B5:t="OptimizedCineon";break;case V_:t="ACESFilmic";break;case U5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function u7(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(mf).join(`
`)}function f7(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function d7(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function mf(n){return n!==""}function uM(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function fM(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const h7=/^[ \t]*#include +<([\w\d./]+)>/gm;function ax(n){return n.replace(h7,p7)}function p7(n,e){const t=xt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return ax(t)}const m7=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function dM(n){return n.replace(m7,g7)}function g7(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function hM(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function v7(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===zg?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Cf?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ua&&(e="SHADOWMAP_TYPE_VSM"),e}function y7(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case qo:case Ko:e="ENVMAP_TYPE_CUBE";break;case tu:e="ENVMAP_TYPE_CUBE_UV";break}return e}function x7(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Ko:e="ENVMAP_MODE_REFRACTION";break}return e}function _7(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Cd:e="ENVMAP_BLENDING_MULTIPLY";break;case O5:e="ENVMAP_BLENDING_MIX";break;case N5:e="ENVMAP_BLENDING_ADD";break}return e}function w7(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function S7(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=v7(t),f=y7(t),d=x7(t),h=_7(t),p=w7(t),m=t.isWebGL2?"":u7(t),v=f7(s),y=r.createProgram();let _,x,w=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=[v].filter(mf).join(`
`),_.length>0&&(_+=`
`),x=[m,v].filter(mf).join(`
`),x.length>0&&(x+=`
`)):(_=[hM(t),"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(mf).join(`
`),x=[m,hM(t),"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+d:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==qr?"#define TONE_MAPPING":"",t.toneMapping!==qr?xt.tonemapping_pars_fragment:"",t.toneMapping!==qr?c7("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",xt.encodings_pars_fragment,l7("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(mf).join(`
`)),o=ax(o),o=uM(o,t),o=fM(o,t),a=ax(a),a=uM(a,t),a=fM(a,t),o=dM(o),a=dM(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,x=["#define varying in",t.glslVersion===rx?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===rx?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const b=w+_+o,M=w+x+a,T=lM(r,35633,b),A=lM(r,35632,M);if(r.attachShader(y,T),r.attachShader(y,A),t.index0AttributeName!==void 0?r.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y),n.debug.checkShaderErrors){const k=r.getProgramInfoLog(y).trim(),D=r.getShaderInfoLog(T).trim(),O=r.getShaderInfoLog(A).trim();let $=!0,W=!0;if(r.getProgramParameter(y,35714)===!1){$=!1;const H=cM(r,T,"vertex"),q=cM(r,A,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(y,35715)+`

Program Info Log: `+k+`
`+H+`
`+q)}else k!==""?console.warn("THREE.WebGLProgram: Program Info Log:",k):(D===""||O==="")&&(W=!1);W&&(this.diagnostics={runnable:$,programLog:k,vertexShader:{log:D,prefix:_},fragmentShader:{log:O,prefix:x}})}r.deleteShader(T),r.deleteShader(A);let L;this.getUniforms=function(){return L===void 0&&(L=new Cm(r,y)),L};let C;return this.getAttributes=function(){return C===void 0&&(C=d7(r,y)),C},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.name=t.shaderName,this.id=s7++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=T,this.fragmentShader=A,this}let b7=0;class M7{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new E7(e),t.set(e,i)),i}}class E7{constructor(e){this.id=b7++,this.code=e,this.usedTimes=0}}function C7(n,e,t,i,r,s,o){const a=new Ja,l=new M7,f=[],d=r.isWebGL2,h=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(C,k,D,O,$){const W=O.fog,H=$.geometry,q=C.isMeshStandardMaterial?O.environment:null,te=(C.isMeshStandardMaterial?t:e).get(C.envMap||q),se=te&&te.mapping===tu?te.image.height:null,N=v[C.type];C.precision!==null&&(m=r.getMaxPrecision(C.precision),m!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",m,"instead."));const Y=H.morphAttributes.position||H.morphAttributes.normal||H.morphAttributes.color,G=Y!==void 0?Y.length:0;let X=0;H.morphAttributes.position!==void 0&&(X=1),H.morphAttributes.normal!==void 0&&(X=2),H.morphAttributes.color!==void 0&&(X=3);let J,pe,ye,be;if(N){const Ze=Xr[N];J=Ze.vertexShader,pe=Ze.fragmentShader}else J=C.vertexShader,pe=C.fragmentShader,l.update(C),ye=l.getVertexShaderID(C),be=l.getFragmentShaderID(C);const oe=n.getRenderTarget(),Ue=C.alphaTest>0,De=C.clearcoat>0,Ye=C.iridescence>0;return{isWebGL2:d,shaderID:N,shaderName:C.type,vertexShader:J,fragmentShader:pe,defines:C.defines,customVertexShaderID:ye,customFragmentShaderID:be,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:m,instancing:$.isInstancedMesh===!0,instancingColor:$.isInstancedMesh===!0&&$.instanceColor!==null,supportsVertexTextures:p,outputEncoding:oe===null?n.outputEncoding:oe.isXRRenderTarget===!0?oe.texture.encoding:Qo,map:!!C.map,matcap:!!C.matcap,envMap:!!te,envMapMode:te&&te.mapping,envMapCubeUVHeight:se,lightMap:!!C.lightMap,aoMap:!!C.aoMap,emissiveMap:!!C.emissiveMap,bumpMap:!!C.bumpMap,normalMap:!!C.normalMap,objectSpaceNormalMap:C.normalMapType===aA,tangentSpaceNormalMap:C.normalMapType===la,decodeVideoTexture:!!C.map&&C.map.isVideoTexture===!0&&C.map.encoding===Yt,clearcoat:De,clearcoatMap:De&&!!C.clearcoatMap,clearcoatRoughnessMap:De&&!!C.clearcoatRoughnessMap,clearcoatNormalMap:De&&!!C.clearcoatNormalMap,iridescence:Ye,iridescenceMap:Ye&&!!C.iridescenceMap,iridescenceThicknessMap:Ye&&!!C.iridescenceThicknessMap,displacementMap:!!C.displacementMap,roughnessMap:!!C.roughnessMap,metalnessMap:!!C.metalnessMap,specularMap:!!C.specularMap,specularIntensityMap:!!C.specularIntensityMap,specularColorMap:!!C.specularColorMap,opaque:C.transparent===!1&&C.blending===Ya,alphaMap:!!C.alphaMap,alphaTest:Ue,gradientMap:!!C.gradientMap,sheen:C.sheen>0,sheenColorMap:!!C.sheenColorMap,sheenRoughnessMap:!!C.sheenRoughnessMap,transmission:C.transmission>0,transmissionMap:!!C.transmissionMap,thicknessMap:!!C.thicknessMap,combine:C.combine,vertexTangents:!!C.normalMap&&!!H.attributes.tangent,vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!H.attributes.color&&H.attributes.color.itemSize===4,vertexUvs:!!C.map||!!C.bumpMap||!!C.normalMap||!!C.specularMap||!!C.alphaMap||!!C.emissiveMap||!!C.roughnessMap||!!C.metalnessMap||!!C.clearcoatMap||!!C.clearcoatRoughnessMap||!!C.clearcoatNormalMap||!!C.iridescenceMap||!!C.iridescenceThicknessMap||!!C.displacementMap||!!C.transmissionMap||!!C.thicknessMap||!!C.specularIntensityMap||!!C.specularColorMap||!!C.sheenColorMap||!!C.sheenRoughnessMap,uvsVertexOnly:!(C.map||C.bumpMap||C.normalMap||C.specularMap||C.alphaMap||C.emissiveMap||C.roughnessMap||C.metalnessMap||C.clearcoatNormalMap||C.iridescenceMap||C.iridescenceThicknessMap||C.transmission>0||C.transmissionMap||C.thicknessMap||C.specularIntensityMap||C.specularColorMap||C.sheen>0||C.sheenColorMap||C.sheenRoughnessMap)&&!!C.displacementMap,fog:!!W,useFog:C.fog===!0,fogExp2:W&&W.isFogExp2,flatShading:!!C.flatShading,sizeAttenuation:C.sizeAttenuation,logarithmicDepthBuffer:h,skinning:$.isSkinnedMesh===!0,morphTargets:H.morphAttributes.position!==void 0,morphNormals:H.morphAttributes.normal!==void 0,morphColors:H.morphAttributes.color!==void 0,morphTargetsCount:G,morphTextureStride:X,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numSpotLightMaps:k.spotLightMap.length,numRectAreaLights:k.rectArea.length,numHemiLights:k.hemi.length,numDirLightShadows:k.directionalShadowMap.length,numPointLightShadows:k.pointShadowMap.length,numSpotLightShadows:k.spotShadowMap.length,numSpotLightShadowsWithMaps:k.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:n.shadowMap.enabled&&D.length>0,shadowMapType:n.shadowMap.type,toneMapping:C.toneMapped?n.toneMapping:qr,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===Fg,flipSided:C.side===tr,useDepthPacking:!!C.depthPacking,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:C.extensions&&C.extensions.derivatives,extensionFragDepth:C.extensions&&C.extensions.fragDepth,extensionDrawBuffers:C.extensions&&C.extensions.drawBuffers,extensionShaderTextureLOD:C.extensions&&C.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function _(C){const k=[];if(C.shaderID?k.push(C.shaderID):(k.push(C.customVertexShaderID),k.push(C.customFragmentShaderID)),C.defines!==void 0)for(const D in C.defines)k.push(D),k.push(C.defines[D]);return C.isRawShaderMaterial===!1&&(x(k,C),w(k,C),k.push(n.outputEncoding)),k.push(C.customProgramCacheKey),k.join()}function x(C,k){C.push(k.precision),C.push(k.outputEncoding),C.push(k.envMapMode),C.push(k.envMapCubeUVHeight),C.push(k.combine),C.push(k.vertexUvs),C.push(k.fogExp2),C.push(k.sizeAttenuation),C.push(k.morphTargetsCount),C.push(k.morphAttributeCount),C.push(k.numDirLights),C.push(k.numPointLights),C.push(k.numSpotLights),C.push(k.numSpotLightMaps),C.push(k.numHemiLights),C.push(k.numRectAreaLights),C.push(k.numDirLightShadows),C.push(k.numPointLightShadows),C.push(k.numSpotLightShadows),C.push(k.numSpotLightShadowsWithMaps),C.push(k.shadowMapType),C.push(k.toneMapping),C.push(k.numClippingPlanes),C.push(k.numClipIntersection),C.push(k.depthPacking)}function w(C,k){a.disableAll(),k.isWebGL2&&a.enable(0),k.supportsVertexTextures&&a.enable(1),k.instancing&&a.enable(2),k.instancingColor&&a.enable(3),k.map&&a.enable(4),k.matcap&&a.enable(5),k.envMap&&a.enable(6),k.lightMap&&a.enable(7),k.aoMap&&a.enable(8),k.emissiveMap&&a.enable(9),k.bumpMap&&a.enable(10),k.normalMap&&a.enable(11),k.objectSpaceNormalMap&&a.enable(12),k.tangentSpaceNormalMap&&a.enable(13),k.clearcoat&&a.enable(14),k.clearcoatMap&&a.enable(15),k.clearcoatRoughnessMap&&a.enable(16),k.clearcoatNormalMap&&a.enable(17),k.iridescence&&a.enable(18),k.iridescenceMap&&a.enable(19),k.iridescenceThicknessMap&&a.enable(20),k.displacementMap&&a.enable(21),k.specularMap&&a.enable(22),k.roughnessMap&&a.enable(23),k.metalnessMap&&a.enable(24),k.gradientMap&&a.enable(25),k.alphaMap&&a.enable(26),k.alphaTest&&a.enable(27),k.vertexColors&&a.enable(28),k.vertexAlphas&&a.enable(29),k.vertexUvs&&a.enable(30),k.vertexTangents&&a.enable(31),k.uvsVertexOnly&&a.enable(32),C.push(a.mask),a.disableAll(),k.fog&&a.enable(0),k.useFog&&a.enable(1),k.flatShading&&a.enable(2),k.logarithmicDepthBuffer&&a.enable(3),k.skinning&&a.enable(4),k.morphTargets&&a.enable(5),k.morphNormals&&a.enable(6),k.morphColors&&a.enable(7),k.premultipliedAlpha&&a.enable(8),k.shadowMapEnabled&&a.enable(9),k.physicallyCorrectLights&&a.enable(10),k.doubleSided&&a.enable(11),k.flipSided&&a.enable(12),k.useDepthPacking&&a.enable(13),k.dithering&&a.enable(14),k.specularIntensityMap&&a.enable(15),k.specularColorMap&&a.enable(16),k.transmission&&a.enable(17),k.transmissionMap&&a.enable(18),k.thicknessMap&&a.enable(19),k.sheen&&a.enable(20),k.sheenColorMap&&a.enable(21),k.sheenRoughnessMap&&a.enable(22),k.decodeVideoTexture&&a.enable(23),k.opaque&&a.enable(24),C.push(a.mask)}function b(C){const k=v[C.type];let D;if(k){const O=Xr[k];D=pA.clone(O.uniforms)}else D=C.uniforms;return D}function M(C,k){let D;for(let O=0,$=f.length;O<$;O++){const W=f[O];if(W.cacheKey===k){D=W,++D.usedTimes;break}}return D===void 0&&(D=new S7(n,k,C,s),f.push(D)),D}function T(C){if(--C.usedTimes===0){const k=f.indexOf(C);f[k]=f[f.length-1],f.pop(),C.destroy()}}function A(C){l.remove(C)}function L(){l.dispose()}return{getParameters:y,getProgramCacheKey:_,getUniforms:b,acquireProgram:M,releaseProgram:T,releaseShaderCache:A,programs:f,dispose:L}}function T7(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function A7(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function pM(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function mM(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(h,p,m,v,y,_){let x=n[e];return x===void 0?(x={id:h.id,object:h,geometry:p,material:m,groupOrder:v,renderOrder:h.renderOrder,z:y,group:_},n[e]=x):(x.id=h.id,x.object=h,x.geometry=p,x.material=m,x.groupOrder=v,x.renderOrder=h.renderOrder,x.z=y,x.group=_),e++,x}function a(h,p,m,v,y,_){const x=o(h,p,m,v,y,_);m.transmission>0?i.push(x):m.transparent===!0?r.push(x):t.push(x)}function l(h,p,m,v,y,_){const x=o(h,p,m,v,y,_);m.transmission>0?i.unshift(x):m.transparent===!0?r.unshift(x):t.unshift(x)}function f(h,p){t.length>1&&t.sort(h||A7),i.length>1&&i.sort(p||pM),r.length>1&&r.sort(p||pM)}function d(){for(let h=e,p=n.length;h<p;h++){const m=n[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:d,sort:f}}function P7(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new mM,n.set(i,[o])):r>=s.length?(o=new mM,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function R7(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new z,color:new Be};break;case"SpotLight":t={position:new z,direction:new z,color:new Be,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new z,color:new Be,distance:0,decay:0};break;case"HemisphereLight":t={direction:new z,skyColor:new Be,groundColor:new Be};break;case"RectAreaLight":t={color:new Be,position:new z,halfWidth:new z,halfHeight:new z};break}return n[e.id]=t,t}}}function L7(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let I7=0;function D7(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function k7(n,e){const t=new R7,i=L7(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let d=0;d<9;d++)r.probe.push(new z);const s=new z,o=new pt,a=new pt;function l(d,h){let p=0,m=0,v=0;for(let O=0;O<9;O++)r.probe[O].set(0,0,0);let y=0,_=0,x=0,w=0,b=0,M=0,T=0,A=0,L=0,C=0;d.sort(D7);const k=h!==!0?Math.PI:1;for(let O=0,$=d.length;O<$;O++){const W=d[O],H=W.color,q=W.intensity,te=W.distance,se=W.shadow&&W.shadow.map?W.shadow.map.texture:null;if(W.isAmbientLight)p+=H.r*q*k,m+=H.g*q*k,v+=H.b*q*k;else if(W.isLightProbe)for(let N=0;N<9;N++)r.probe[N].addScaledVector(W.sh.coefficients[N],q);else if(W.isDirectionalLight){const N=t.get(W);if(N.color.copy(W.color).multiplyScalar(W.intensity*k),W.castShadow){const Y=W.shadow,G=i.get(W);G.shadowBias=Y.bias,G.shadowNormalBias=Y.normalBias,G.shadowRadius=Y.radius,G.shadowMapSize=Y.mapSize,r.directionalShadow[y]=G,r.directionalShadowMap[y]=se,r.directionalShadowMatrix[y]=W.shadow.matrix,M++}r.directional[y]=N,y++}else if(W.isSpotLight){const N=t.get(W);N.position.setFromMatrixPosition(W.matrixWorld),N.color.copy(H).multiplyScalar(q*k),N.distance=te,N.coneCos=Math.cos(W.angle),N.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),N.decay=W.decay,r.spot[x]=N;const Y=W.shadow;if(W.map&&(r.spotLightMap[L]=W.map,L++,Y.updateMatrices(W),W.castShadow&&C++),r.spotLightMatrix[x]=Y.matrix,W.castShadow){const G=i.get(W);G.shadowBias=Y.bias,G.shadowNormalBias=Y.normalBias,G.shadowRadius=Y.radius,G.shadowMapSize=Y.mapSize,r.spotShadow[x]=G,r.spotShadowMap[x]=se,A++}x++}else if(W.isRectAreaLight){const N=t.get(W);N.color.copy(H).multiplyScalar(q),N.halfWidth.set(W.width*.5,0,0),N.halfHeight.set(0,W.height*.5,0),r.rectArea[w]=N,w++}else if(W.isPointLight){const N=t.get(W);if(N.color.copy(W.color).multiplyScalar(W.intensity*k),N.distance=W.distance,N.decay=W.decay,W.castShadow){const Y=W.shadow,G=i.get(W);G.shadowBias=Y.bias,G.shadowNormalBias=Y.normalBias,G.shadowRadius=Y.radius,G.shadowMapSize=Y.mapSize,G.shadowCameraNear=Y.camera.near,G.shadowCameraFar=Y.camera.far,r.pointShadow[_]=G,r.pointShadowMap[_]=se,r.pointShadowMatrix[_]=W.shadow.matrix,T++}r.point[_]=N,_++}else if(W.isHemisphereLight){const N=t.get(W);N.skyColor.copy(W.color).multiplyScalar(q*k),N.groundColor.copy(W.groundColor).multiplyScalar(q*k),r.hemi[b]=N,b++}}w>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Le.LTC_FLOAT_1,r.rectAreaLTC2=Le.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Le.LTC_HALF_1,r.rectAreaLTC2=Le.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=v;const D=r.hash;(D.directionalLength!==y||D.pointLength!==_||D.spotLength!==x||D.rectAreaLength!==w||D.hemiLength!==b||D.numDirectionalShadows!==M||D.numPointShadows!==T||D.numSpotShadows!==A||D.numSpotMaps!==L)&&(r.directional.length=y,r.spot.length=x,r.rectArea.length=w,r.point.length=_,r.hemi.length=b,r.directionalShadow.length=M,r.directionalShadowMap.length=M,r.pointShadow.length=T,r.pointShadowMap.length=T,r.spotShadow.length=A,r.spotShadowMap.length=A,r.directionalShadowMatrix.length=M,r.pointShadowMatrix.length=T,r.spotLightMatrix.length=A+L-C,r.spotLightMap.length=L,r.numSpotLightShadowsWithMaps=C,D.directionalLength=y,D.pointLength=_,D.spotLength=x,D.rectAreaLength=w,D.hemiLength=b,D.numDirectionalShadows=M,D.numPointShadows=T,D.numSpotShadows=A,D.numSpotMaps=L,r.version=I7++)}function f(d,h){let p=0,m=0,v=0,y=0,_=0;const x=h.matrixWorldInverse;for(let w=0,b=d.length;w<b;w++){const M=d[w];if(M.isDirectionalLight){const T=r.directional[p];T.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(x),p++}else if(M.isSpotLight){const T=r.spot[v];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(x),T.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(x),v++}else if(M.isRectAreaLight){const T=r.rectArea[y];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(x),a.identity(),o.copy(M.matrixWorld),o.premultiply(x),a.extractRotation(o),T.halfWidth.set(M.width*.5,0,0),T.halfHeight.set(0,M.height*.5,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),y++}else if(M.isPointLight){const T=r.point[m];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(x),m++}else if(M.isHemisphereLight){const T=r.hemi[_];T.direction.setFromMatrixPosition(M.matrixWorld),T.direction.transformDirection(x),_++}}}return{setup:l,setupView:f,state:r}}function gM(n,e){const t=new k7(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(h){i.push(h)}function a(h){r.push(h)}function l(h){t.setup(i,h)}function f(h){t.setupView(i,h)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:f,pushLight:o,pushShadow:a}}function O7(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new gM(n,e),t.set(s,[l])):o>=a.length?(l=new gM(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class K_ extends ei{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=sA,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class J_ extends ei{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new z,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const N7=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,z7=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function F7(n,e,t){let i=new Vg;const r=new ve,s=new ve,o=new Bt,a=new K_({depthPacking:oA}),l=new J_,f={},d=t.maxTextureSize,h={0:tr,1:Zo,2:Fg},p=new xs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ve},radius:{value:4}},vertexShader:N7,fragmentShader:z7}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new _t;v.setAttribute("position",new jt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Yn(v,p),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=zg,this.render=function(M,T,A){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||M.length===0)return;const L=n.getRenderTarget(),C=n.getActiveCubeFace(),k=n.getActiveMipmapLevel(),D=n.state;D.setBlending(Qs),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);for(let O=0,$=M.length;O<$;O++){const W=M[O],H=W.shadow;if(H===void 0){console.warn("THREE.WebGLShadowMap:",W,"has no shadow.");continue}if(H.autoUpdate===!1&&H.needsUpdate===!1)continue;r.copy(H.mapSize);const q=H.getFrameExtents();if(r.multiply(q),s.copy(H.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/q.x),r.x=s.x*q.x,H.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/q.y),r.y=s.y*q.y,H.mapSize.y=s.y)),H.map===null){const se=this.type!==Ua?{minFilter:bn,magFilter:bn}:{};H.map=new Ir(r.x,r.y,se),H.map.texture.name=W.name+".shadowMap",H.camera.updateProjectionMatrix()}n.setRenderTarget(H.map),n.clear();const te=H.getViewportCount();for(let se=0;se<te;se++){const N=H.getViewport(se);o.set(s.x*N.x,s.y*N.y,s.x*N.z,s.y*N.w),D.viewport(o),H.updateMatrices(W,se),i=H.getFrustum(),b(T,A,H.camera,W,this.type)}H.isPointLightShadow!==!0&&this.type===Ua&&x(H,A),H.needsUpdate=!1}_.needsUpdate=!1,n.setRenderTarget(L,C,k)};function x(M,T){const A=e.update(y);p.defines.VSM_SAMPLES!==M.blurSamples&&(p.defines.VSM_SAMPLES=M.blurSamples,m.defines.VSM_SAMPLES=M.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new Ir(r.x,r.y)),p.uniforms.shadow_pass.value=M.map.texture,p.uniforms.resolution.value=M.mapSize,p.uniforms.radius.value=M.radius,n.setRenderTarget(M.mapPass),n.clear(),n.renderBufferDirect(T,null,A,p,y,null),m.uniforms.shadow_pass.value=M.mapPass.texture,m.uniforms.resolution.value=M.mapSize,m.uniforms.radius.value=M.radius,n.setRenderTarget(M.map),n.clear(),n.renderBufferDirect(T,null,A,m,y,null)}function w(M,T,A,L,C,k){let D=null;const O=A.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(O!==void 0)D=O;else if(D=A.isPointLight===!0?l:a,n.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const $=D.uuid,W=T.uuid;let H=f[$];H===void 0&&(H={},f[$]=H);let q=H[W];q===void 0&&(q=D.clone(),H[W]=q),D=q}return D.visible=T.visible,D.wireframe=T.wireframe,k===Ua?D.side=T.shadowSide!==null?T.shadowSide:T.side:D.side=T.shadowSide!==null?T.shadowSide:h[T.side],D.alphaMap=T.alphaMap,D.alphaTest=T.alphaTest,D.map=T.map,D.clipShadows=T.clipShadows,D.clippingPlanes=T.clippingPlanes,D.clipIntersection=T.clipIntersection,D.displacementMap=T.displacementMap,D.displacementScale=T.displacementScale,D.displacementBias=T.displacementBias,D.wireframeLinewidth=T.wireframeLinewidth,D.linewidth=T.linewidth,A.isPointLight===!0&&D.isMeshDistanceMaterial===!0&&(D.referencePosition.setFromMatrixPosition(A.matrixWorld),D.nearDistance=L,D.farDistance=C),D}function b(M,T,A,L,C){if(M.visible===!1)return;if(M.layers.test(T.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&C===Ua)&&(!M.frustumCulled||i.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(A.matrixWorldInverse,M.matrixWorld);const O=e.update(M),$=M.material;if(Array.isArray($)){const W=O.groups;for(let H=0,q=W.length;H<q;H++){const te=W[H],se=$[te.materialIndex];if(se&&se.visible){const N=w(M,se,L,A.near,A.far,C);n.renderBufferDirect(A,null,O,N,M,te)}}}else if($.visible){const W=w(M,$,L,A.near,A.far,C);n.renderBufferDirect(A,null,O,W,M,null)}}const D=M.children;for(let O=0,$=D.length;O<$;O++)b(D[O],T,A,L,C)}}function B7(n,e,t){const i=t.isWebGL2;function r(){let j=!1;const ae=new Bt;let we=null;const Ie=new Bt(0,0,0,0);return{setMask:function(Qe){we!==Qe&&!j&&(n.colorMask(Qe,Qe,Qe,Qe),we=Qe)},setLocked:function(Qe){j=Qe},setClear:function(Qe,Et,zt,Ht,ti){ti===!0&&(Qe*=Ht,Et*=Ht,zt*=Ht),ae.set(Qe,Et,zt,Ht),Ie.equals(ae)===!1&&(n.clearColor(Qe,Et,zt,Ht),Ie.copy(ae))},reset:function(){j=!1,we=null,Ie.set(-1,0,0,0)}}}function s(){let j=!1,ae=null,we=null,Ie=null;return{setTest:function(Qe){Qe?Ue(2929):De(2929)},setMask:function(Qe){ae!==Qe&&!j&&(n.depthMask(Qe),ae=Qe)},setFunc:function(Qe){if(we!==Qe){switch(Qe){case A5:n.depthFunc(512);break;case P5:n.depthFunc(519);break;case R5:n.depthFunc(513);break;case eg:n.depthFunc(515);break;case L5:n.depthFunc(514);break;case I5:n.depthFunc(518);break;case D5:n.depthFunc(516);break;case k5:n.depthFunc(517);break;default:n.depthFunc(515)}we=Qe}},setLocked:function(Qe){j=Qe},setClear:function(Qe){Ie!==Qe&&(n.clearDepth(Qe),Ie=Qe)},reset:function(){j=!1,ae=null,we=null,Ie=null}}}function o(){let j=!1,ae=null,we=null,Ie=null,Qe=null,Et=null,zt=null,Ht=null,ti=null;return{setTest:function(Lt){j||(Lt?Ue(2960):De(2960))},setMask:function(Lt){ae!==Lt&&!j&&(n.stencilMask(Lt),ae=Lt)},setFunc:function(Lt,Un,In){(we!==Lt||Ie!==Un||Qe!==In)&&(n.stencilFunc(Lt,Un,In),we=Lt,Ie=Un,Qe=In)},setOp:function(Lt,Un,In){(Et!==Lt||zt!==Un||Ht!==In)&&(n.stencilOp(Lt,Un,In),Et=Lt,zt=Un,Ht=In)},setLocked:function(Lt){j=Lt},setClear:function(Lt){ti!==Lt&&(n.clearStencil(Lt),ti=Lt)},reset:function(){j=!1,ae=null,we=null,Ie=null,Qe=null,Et=null,zt=null,Ht=null,ti=null}}}const a=new r,l=new s,f=new o,d=new WeakMap,h=new WeakMap;let p={},m={},v=new WeakMap,y=[],_=null,x=!1,w=null,b=null,M=null,T=null,A=null,L=null,C=null,k=!1,D=null,O=null,$=null,W=null,H=null;const q=n.getParameter(35661);let te=!1,se=0;const N=n.getParameter(7938);N.indexOf("WebGL")!==-1?(se=parseFloat(/^WebGL (\d)/.exec(N)[1]),te=se>=1):N.indexOf("OpenGL ES")!==-1&&(se=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),te=se>=2);let Y=null,G={};const X=n.getParameter(3088),J=n.getParameter(2978),pe=new Bt().fromArray(X),ye=new Bt().fromArray(J);function be(j,ae,we){const Ie=new Uint8Array(4),Qe=n.createTexture();n.bindTexture(j,Qe),n.texParameteri(j,10241,9728),n.texParameteri(j,10240,9728);for(let Et=0;Et<we;Et++)n.texImage2D(ae+Et,0,6408,1,1,0,6408,5121,Ie);return Qe}const oe={};oe[3553]=be(3553,3553,1),oe[34067]=be(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),f.setClear(0),Ue(2929),l.setFunc(eg),Ae(!1),st(Ly),Ue(2884),Ee(Qs);function Ue(j){p[j]!==!0&&(n.enable(j),p[j]=!0)}function De(j){p[j]!==!1&&(n.disable(j),p[j]=!1)}function Ye(j,ae){return m[j]!==ae?(n.bindFramebuffer(j,ae),m[j]=ae,i&&(j===36009&&(m[36160]=ae),j===36160&&(m[36009]=ae)),!0):!1}function Pe(j,ae){let we=y,Ie=!1;if(j)if(we=v.get(ae),we===void 0&&(we=[],v.set(ae,we)),j.isWebGLMultipleRenderTargets){const Qe=j.texture;if(we.length!==Qe.length||we[0]!==36064){for(let Et=0,zt=Qe.length;Et<zt;Et++)we[Et]=36064+Et;we.length=Qe.length,Ie=!0}}else we[0]!==36064&&(we[0]=36064,Ie=!0);else we[0]!==1029&&(we[0]=1029,Ie=!0);Ie&&(t.isWebGL2?n.drawBuffers(we):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(we))}function Ze(j){return _!==j?(n.useProgram(j),_=j,!0):!1}const de={[Oa]:32774,[v5]:32778,[y5]:32779};if(i)de[Oy]=32775,de[Ny]=32776;else{const j=e.get("EXT_blend_minmax");j!==null&&(de[Oy]=j.MIN_EXT,de[Ny]=j.MAX_EXT)}const le={[x5]:0,[_5]:1,[w5]:768,[U_]:770,[T5]:776,[E5]:774,[b5]:772,[S5]:769,[H_]:771,[C5]:775,[M5]:773};function Ee(j,ae,we,Ie,Qe,Et,zt,Ht){if(j===Qs){x===!0&&(De(3042),x=!1);return}if(x===!1&&(Ue(3042),x=!0),j!==g5){if(j!==w||Ht!==k){if((b!==Oa||A!==Oa)&&(n.blendEquation(32774),b=Oa,A=Oa),Ht)switch(j){case Ya:n.blendFuncSeparate(1,771,1,771);break;case Iy:n.blendFunc(1,1);break;case Dy:n.blendFuncSeparate(0,769,0,1);break;case ky:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",j);break}else switch(j){case Ya:n.blendFuncSeparate(770,771,1,771);break;case Iy:n.blendFunc(770,1);break;case Dy:n.blendFuncSeparate(0,769,0,1);break;case ky:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",j);break}M=null,T=null,L=null,C=null,w=j,k=Ht}return}Qe=Qe||ae,Et=Et||we,zt=zt||Ie,(ae!==b||Qe!==A)&&(n.blendEquationSeparate(de[ae],de[Qe]),b=ae,A=Qe),(we!==M||Ie!==T||Et!==L||zt!==C)&&(n.blendFuncSeparate(le[we],le[Ie],le[Et],le[zt]),M=we,T=Ie,L=Et,C=zt),w=j,k=!1}function ke(j,ae){j.side===Fg?De(2884):Ue(2884);let we=j.side===tr;ae&&(we=!we),Ae(we),j.blending===Ya&&j.transparent===!1?Ee(Qs):Ee(j.blending,j.blendEquation,j.blendSrc,j.blendDst,j.blendEquationAlpha,j.blendSrcAlpha,j.blendDstAlpha,j.premultipliedAlpha),l.setFunc(j.depthFunc),l.setTest(j.depthTest),l.setMask(j.depthWrite),a.setMask(j.colorWrite);const Ie=j.stencilWrite;f.setTest(Ie),Ie&&(f.setMask(j.stencilWriteMask),f.setFunc(j.stencilFunc,j.stencilRef,j.stencilFuncMask),f.setOp(j.stencilFail,j.stencilZFail,j.stencilZPass)),Ke(j.polygonOffset,j.polygonOffsetFactor,j.polygonOffsetUnits),j.alphaToCoverage===!0?Ue(32926):De(32926)}function Ae(j){D!==j&&(j?n.frontFace(2304):n.frontFace(2305),D=j)}function st(j){j!==h5?(Ue(2884),j!==O&&(j===Ly?n.cullFace(1029):j===p5?n.cullFace(1028):n.cullFace(1032))):De(2884),O=j}function qe(j){j!==$&&(te&&n.lineWidth(j),$=j)}function Ke(j,ae,we){j?(Ue(32823),(W!==ae||H!==we)&&(n.polygonOffset(ae,we),W=ae,H=we)):De(32823)}function Mt(j){j?Ue(3089):De(3089)}function ht(j){j===void 0&&(j=33984+q-1),Y!==j&&(n.activeTexture(j),Y=j)}function U(j,ae,we){we===void 0&&(Y===null?we=33984+q-1:we=Y);let Ie=G[we];Ie===void 0&&(Ie={type:void 0,texture:void 0},G[we]=Ie),(Ie.type!==j||Ie.texture!==ae)&&(Y!==we&&(n.activeTexture(we),Y=we),n.bindTexture(j,ae||oe[j]),Ie.type=j,Ie.texture=ae)}function I(){const j=G[Y];j!==void 0&&j.type!==void 0&&(n.bindTexture(j.type,null),j.type=void 0,j.texture=void 0)}function Q(){try{n.compressedTexImage2D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function xe(){try{n.compressedTexImage3D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Se(){try{n.texSubImage2D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Te(){try{n.texSubImage3D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function tt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Re(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function me(){try{n.texStorage2D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function je(){try{n.texStorage3D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function it(){try{n.texImage2D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Fe(){try{n.texImage3D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Je(j){pe.equals(j)===!1&&(n.scissor(j.x,j.y,j.z,j.w),pe.copy(j))}function Ge(j){ye.equals(j)===!1&&(n.viewport(j.x,j.y,j.z,j.w),ye.copy(j))}function Z(j,ae){let we=h.get(ae);we===void 0&&(we=new WeakMap,h.set(ae,we));let Ie=we.get(j);Ie===void 0&&(Ie=n.getUniformBlockIndex(ae,j.name),we.set(j,Ie))}function _e(j,ae){const Ie=h.get(ae).get(j);d.get(ae)!==Ie&&(n.uniformBlockBinding(ae,Ie,j.__bindingPointIndex),d.set(ae,Ie))}function ze(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},Y=null,G={},m={},v=new WeakMap,y=[],_=null,x=!1,w=null,b=null,M=null,T=null,A=null,L=null,C=null,k=!1,D=null,O=null,$=null,W=null,H=null,pe.set(0,0,n.canvas.width,n.canvas.height),ye.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),f.reset()}return{buffers:{color:a,depth:l,stencil:f},enable:Ue,disable:De,bindFramebuffer:Ye,drawBuffers:Pe,useProgram:Ze,setBlending:Ee,setMaterial:ke,setFlipSided:Ae,setCullFace:st,setLineWidth:qe,setPolygonOffset:Ke,setScissorTest:Mt,activeTexture:ht,bindTexture:U,unbindTexture:I,compressedTexImage2D:Q,compressedTexImage3D:xe,texImage2D:it,texImage3D:Fe,updateUBOMapping:Z,uniformBlockBinding:_e,texStorage2D:me,texStorage3D:je,texSubImage2D:Se,texSubImage3D:Te,compressedTexSubImage2D:tt,compressedTexSubImage3D:Re,scissor:Je,viewport:Ge,reset:ze}}function U7(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,f=r.maxCubemapSize,d=r.maxTextureSize,h=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let y;const _=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function w(U,I){return x?new OffscreenCanvas(U,I):od("canvas")}function b(U,I,Q,xe){let Se=1;if((U.width>xe||U.height>xe)&&(Se=xe/Math.max(U.width,U.height)),Se<1||I===!0)if(typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&U instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&U instanceof ImageBitmap){const Te=I?ig:Math.floor,tt=Te(Se*U.width),Re=Te(Se*U.height);y===void 0&&(y=w(tt,Re));const me=Q?w(tt,Re):y;return me.width=tt,me.height=Re,me.getContext("2d").drawImage(U,0,0,tt,Re),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+U.width+"x"+U.height+") to ("+tt+"x"+Re+")."),me}else return"data"in U&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+U.width+"x"+U.height+")."),U;return U}function M(U){return sx(U.width)&&sx(U.height)}function T(U){return a?!1:U.wrapS!==di||U.wrapT!==di||U.minFilter!==bn&&U.minFilter!==En}function A(U,I){return U.generateMipmaps&&I&&U.minFilter!==bn&&U.minFilter!==En}function L(U){n.generateMipmap(U)}function C(U,I,Q,xe,Se=!1){if(a===!1)return I;if(U!==null){if(n[U]!==void 0)return n[U];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+U+"'")}let Te=I;return I===6403&&(Q===5126&&(Te=33326),Q===5131&&(Te=33325),Q===5121&&(Te=33321)),I===33319&&(Q===5126&&(Te=33328),Q===5131&&(Te=33327),Q===5121&&(Te=33323)),I===6408&&(Q===5126&&(Te=34836),Q===5131&&(Te=34842),Q===5121&&(Te=xe===Yt&&Se===!1?35907:32856),Q===32819&&(Te=32854),Q===32820&&(Te=32855)),(Te===33325||Te===33326||Te===33327||Te===33328||Te===34842||Te===34836)&&e.get("EXT_color_buffer_float"),Te}function k(U,I,Q){return A(U,Q)===!0||U.isFramebufferTexture&&U.minFilter!==bn&&U.minFilter!==En?Math.log2(Math.max(I.width,I.height))+1:U.mipmaps!==void 0&&U.mipmaps.length>0?U.mipmaps.length:U.isCompressedTexture&&Array.isArray(U.image)?I.mipmaps.length:1}function D(U){return U===bn||U===tg||U===Tf?9728:9729}function O(U){const I=U.target;I.removeEventListener("dispose",O),W(I),I.isVideoTexture&&v.delete(I)}function $(U){const I=U.target;I.removeEventListener("dispose",$),q(I)}function W(U){const I=i.get(U);if(I.__webglInit===void 0)return;const Q=U.source,xe=_.get(Q);if(xe){const Se=xe[I.__cacheKey];Se.usedTimes--,Se.usedTimes===0&&H(U),Object.keys(xe).length===0&&_.delete(Q)}i.remove(U)}function H(U){const I=i.get(U);n.deleteTexture(I.__webglTexture);const Q=U.source,xe=_.get(Q);delete xe[I.__cacheKey],o.memory.textures--}function q(U){const I=U.texture,Q=i.get(U),xe=i.get(I);if(xe.__webglTexture!==void 0&&(n.deleteTexture(xe.__webglTexture),o.memory.textures--),U.depthTexture&&U.depthTexture.dispose(),U.isWebGLCubeRenderTarget)for(let Se=0;Se<6;Se++)n.deleteFramebuffer(Q.__webglFramebuffer[Se]),Q.__webglDepthbuffer&&n.deleteRenderbuffer(Q.__webglDepthbuffer[Se]);else{if(n.deleteFramebuffer(Q.__webglFramebuffer),Q.__webglDepthbuffer&&n.deleteRenderbuffer(Q.__webglDepthbuffer),Q.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Q.__webglMultisampledFramebuffer),Q.__webglColorRenderbuffer)for(let Se=0;Se<Q.__webglColorRenderbuffer.length;Se++)Q.__webglColorRenderbuffer[Se]&&n.deleteRenderbuffer(Q.__webglColorRenderbuffer[Se]);Q.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Q.__webglDepthRenderbuffer)}if(U.isWebGLMultipleRenderTargets)for(let Se=0,Te=I.length;Se<Te;Se++){const tt=i.get(I[Se]);tt.__webglTexture&&(n.deleteTexture(tt.__webglTexture),o.memory.textures--),i.remove(I[Se])}i.remove(I),i.remove(U)}let te=0;function se(){te=0}function N(){const U=te;return U>=l&&console.warn("THREE.WebGLTextures: Trying to use "+U+" texture units while this GPU supports only "+l),te+=1,U}function Y(U){const I=[];return I.push(U.wrapS),I.push(U.wrapT),I.push(U.wrapR||0),I.push(U.magFilter),I.push(U.minFilter),I.push(U.anisotropy),I.push(U.internalFormat),I.push(U.format),I.push(U.type),I.push(U.generateMipmaps),I.push(U.premultiplyAlpha),I.push(U.flipY),I.push(U.unpackAlignment),I.push(U.encoding),I.join()}function G(U,I){const Q=i.get(U);if(U.isVideoTexture&&Mt(U),U.isRenderTargetTexture===!1&&U.version>0&&Q.__version!==U.version){const xe=U.image;if(xe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(xe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{De(Q,U,I);return}}t.bindTexture(3553,Q.__webglTexture,33984+I)}function X(U,I){const Q=i.get(U);if(U.version>0&&Q.__version!==U.version){De(Q,U,I);return}t.bindTexture(35866,Q.__webglTexture,33984+I)}function J(U,I){const Q=i.get(U);if(U.version>0&&Q.__version!==U.version){De(Q,U,I);return}t.bindTexture(32879,Q.__webglTexture,33984+I)}function pe(U,I){const Q=i.get(U);if(U.version>0&&Q.__version!==U.version){Ye(Q,U,I);return}t.bindTexture(34067,Q.__webglTexture,33984+I)}const ye={[Qf]:10497,[di]:33071,[ed]:33648},be={[bn]:9728,[tg]:9984,[Tf]:9986,[En]:9729,[W_]:9985,[Jo]:9987};function oe(U,I,Q){if(Q?(n.texParameteri(U,10242,ye[I.wrapS]),n.texParameteri(U,10243,ye[I.wrapT]),(U===32879||U===35866)&&n.texParameteri(U,32882,ye[I.wrapR]),n.texParameteri(U,10240,be[I.magFilter]),n.texParameteri(U,10241,be[I.minFilter])):(n.texParameteri(U,10242,33071),n.texParameteri(U,10243,33071),(U===32879||U===35866)&&n.texParameteri(U,32882,33071),(I.wrapS!==di||I.wrapT!==di)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(U,10240,D(I.magFilter)),n.texParameteri(U,10241,D(I.minFilter)),I.minFilter!==bn&&I.minFilter!==En&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const xe=e.get("EXT_texture_filter_anisotropic");if(I.magFilter===bn||I.minFilter!==Tf&&I.minFilter!==Jo||I.type===Zs&&e.has("OES_texture_float_linear")===!1||a===!1&&I.type===Vc&&e.has("OES_texture_half_float_linear")===!1)return;(I.anisotropy>1||i.get(I).__currentAnisotropy)&&(n.texParameterf(U,xe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(I.anisotropy,r.getMaxAnisotropy())),i.get(I).__currentAnisotropy=I.anisotropy)}}function Ue(U,I){let Q=!1;U.__webglInit===void 0&&(U.__webglInit=!0,I.addEventListener("dispose",O));const xe=I.source;let Se=_.get(xe);Se===void 0&&(Se={},_.set(xe,Se));const Te=Y(I);if(Te!==U.__cacheKey){Se[Te]===void 0&&(Se[Te]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,Q=!0),Se[Te].usedTimes++;const tt=Se[U.__cacheKey];tt!==void 0&&(Se[U.__cacheKey].usedTimes--,tt.usedTimes===0&&H(I)),U.__cacheKey=Te,U.__webglTexture=Se[Te].texture}return Q}function De(U,I,Q){let xe=3553;(I.isDataArrayTexture||I.isCompressedArrayTexture)&&(xe=35866),I.isData3DTexture&&(xe=32879);const Se=Ue(U,I),Te=I.source;t.bindTexture(xe,U.__webglTexture,33984+Q);const tt=i.get(Te);if(Te.version!==tt.__version||Se===!0){t.activeTexture(33984+Q),n.pixelStorei(37440,I.flipY),n.pixelStorei(37441,I.premultiplyAlpha),n.pixelStorei(3317,I.unpackAlignment),n.pixelStorei(37443,0);const Re=T(I)&&M(I.image)===!1;let me=b(I.image,Re,!1,d);me=ht(I,me);const je=M(me)||a,it=s.convert(I.format,I.encoding);let Fe=s.convert(I.type),Je=C(I.internalFormat,it,Fe,I.encoding,I.isVideoTexture);oe(xe,I,je);let Ge;const Z=I.mipmaps,_e=a&&I.isVideoTexture!==!0,ze=tt.__version===void 0||Se===!0,j=k(I,me,je);if(I.isDepthTexture)Je=6402,a?I.type===Zs?Je=36012:I.type===zo?Je=33190:I.type===Za?Je=35056:Je=33189:I.type===Zs&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),I.format===jo&&Je===6402&&I.type!==$_&&I.type!==zo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),I.type=zo,Fe=s.convert(I.type)),I.format===al&&Je===6402&&(Je=34041,I.type!==Za&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),I.type=Za,Fe=s.convert(I.type))),ze&&(_e?t.texStorage2D(3553,1,Je,me.width,me.height):t.texImage2D(3553,0,Je,me.width,me.height,0,it,Fe,null));else if(I.isDataTexture)if(Z.length>0&&je){_e&&ze&&t.texStorage2D(3553,j,Je,Z[0].width,Z[0].height);for(let ae=0,we=Z.length;ae<we;ae++)Ge=Z[ae],_e?t.texSubImage2D(3553,ae,0,0,Ge.width,Ge.height,it,Fe,Ge.data):t.texImage2D(3553,ae,Je,Ge.width,Ge.height,0,it,Fe,Ge.data);I.generateMipmaps=!1}else _e?(ze&&t.texStorage2D(3553,j,Je,me.width,me.height),t.texSubImage2D(3553,0,0,0,me.width,me.height,it,Fe,me.data)):t.texImage2D(3553,0,Je,me.width,me.height,0,it,Fe,me.data);else if(I.isCompressedTexture)if(I.isCompressedArrayTexture){_e&&ze&&t.texStorage3D(35866,j,Je,Z[0].width,Z[0].height,me.depth);for(let ae=0,we=Z.length;ae<we;ae++)Ge=Z[ae],I.format!==Fi?it!==null?_e?t.compressedTexSubImage3D(35866,ae,0,0,0,Ge.width,Ge.height,me.depth,it,Ge.data,0,0):t.compressedTexImage3D(35866,ae,Je,Ge.width,Ge.height,me.depth,0,Ge.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):_e?t.texSubImage3D(35866,ae,0,0,0,Ge.width,Ge.height,me.depth,it,Fe,Ge.data):t.texImage3D(35866,ae,Je,Ge.width,Ge.height,me.depth,0,it,Fe,Ge.data)}else{_e&&ze&&t.texStorage2D(3553,j,Je,Z[0].width,Z[0].height);for(let ae=0,we=Z.length;ae<we;ae++)Ge=Z[ae],I.format!==Fi?it!==null?_e?t.compressedTexSubImage2D(3553,ae,0,0,Ge.width,Ge.height,it,Ge.data):t.compressedTexImage2D(3553,ae,Je,Ge.width,Ge.height,0,Ge.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):_e?t.texSubImage2D(3553,ae,0,0,Ge.width,Ge.height,it,Fe,Ge.data):t.texImage2D(3553,ae,Je,Ge.width,Ge.height,0,it,Fe,Ge.data)}else if(I.isDataArrayTexture)_e?(ze&&t.texStorage3D(35866,j,Je,me.width,me.height,me.depth),t.texSubImage3D(35866,0,0,0,0,me.width,me.height,me.depth,it,Fe,me.data)):t.texImage3D(35866,0,Je,me.width,me.height,me.depth,0,it,Fe,me.data);else if(I.isData3DTexture)_e?(ze&&t.texStorage3D(32879,j,Je,me.width,me.height,me.depth),t.texSubImage3D(32879,0,0,0,0,me.width,me.height,me.depth,it,Fe,me.data)):t.texImage3D(32879,0,Je,me.width,me.height,me.depth,0,it,Fe,me.data);else if(I.isFramebufferTexture){if(ze)if(_e)t.texStorage2D(3553,j,Je,me.width,me.height);else{let ae=me.width,we=me.height;for(let Ie=0;Ie<j;Ie++)t.texImage2D(3553,Ie,Je,ae,we,0,it,Fe,null),ae>>=1,we>>=1}}else if(Z.length>0&&je){_e&&ze&&t.texStorage2D(3553,j,Je,Z[0].width,Z[0].height);for(let ae=0,we=Z.length;ae<we;ae++)Ge=Z[ae],_e?t.texSubImage2D(3553,ae,0,0,it,Fe,Ge):t.texImage2D(3553,ae,Je,it,Fe,Ge);I.generateMipmaps=!1}else _e?(ze&&t.texStorage2D(3553,j,Je,me.width,me.height),t.texSubImage2D(3553,0,0,0,it,Fe,me)):t.texImage2D(3553,0,Je,it,Fe,me);A(I,je)&&L(xe),tt.__version=Te.version,I.onUpdate&&I.onUpdate(I)}U.__version=I.version}function Ye(U,I,Q){if(I.image.length!==6)return;const xe=Ue(U,I),Se=I.source;t.bindTexture(34067,U.__webglTexture,33984+Q);const Te=i.get(Se);if(Se.version!==Te.__version||xe===!0){t.activeTexture(33984+Q),n.pixelStorei(37440,I.flipY),n.pixelStorei(37441,I.premultiplyAlpha),n.pixelStorei(3317,I.unpackAlignment),n.pixelStorei(37443,0);const tt=I.isCompressedTexture||I.image[0].isCompressedTexture,Re=I.image[0]&&I.image[0].isDataTexture,me=[];for(let ae=0;ae<6;ae++)!tt&&!Re?me[ae]=b(I.image[ae],!1,!0,f):me[ae]=Re?I.image[ae].image:I.image[ae],me[ae]=ht(I,me[ae]);const je=me[0],it=M(je)||a,Fe=s.convert(I.format,I.encoding),Je=s.convert(I.type),Ge=C(I.internalFormat,Fe,Je,I.encoding),Z=a&&I.isVideoTexture!==!0,_e=Te.__version===void 0||xe===!0;let ze=k(I,je,it);oe(34067,I,it);let j;if(tt){Z&&_e&&t.texStorage2D(34067,ze,Ge,je.width,je.height);for(let ae=0;ae<6;ae++){j=me[ae].mipmaps;for(let we=0;we<j.length;we++){const Ie=j[we];I.format!==Fi?Fe!==null?Z?t.compressedTexSubImage2D(34069+ae,we,0,0,Ie.width,Ie.height,Fe,Ie.data):t.compressedTexImage2D(34069+ae,we,Ge,Ie.width,Ie.height,0,Ie.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Z?t.texSubImage2D(34069+ae,we,0,0,Ie.width,Ie.height,Fe,Je,Ie.data):t.texImage2D(34069+ae,we,Ge,Ie.width,Ie.height,0,Fe,Je,Ie.data)}}}else{j=I.mipmaps,Z&&_e&&(j.length>0&&ze++,t.texStorage2D(34067,ze,Ge,me[0].width,me[0].height));for(let ae=0;ae<6;ae++)if(Re){Z?t.texSubImage2D(34069+ae,0,0,0,me[ae].width,me[ae].height,Fe,Je,me[ae].data):t.texImage2D(34069+ae,0,Ge,me[ae].width,me[ae].height,0,Fe,Je,me[ae].data);for(let we=0;we<j.length;we++){const Qe=j[we].image[ae].image;Z?t.texSubImage2D(34069+ae,we+1,0,0,Qe.width,Qe.height,Fe,Je,Qe.data):t.texImage2D(34069+ae,we+1,Ge,Qe.width,Qe.height,0,Fe,Je,Qe.data)}}else{Z?t.texSubImage2D(34069+ae,0,0,0,Fe,Je,me[ae]):t.texImage2D(34069+ae,0,Ge,Fe,Je,me[ae]);for(let we=0;we<j.length;we++){const Ie=j[we];Z?t.texSubImage2D(34069+ae,we+1,0,0,Fe,Je,Ie.image[ae]):t.texImage2D(34069+ae,we+1,Ge,Fe,Je,Ie.image[ae])}}}A(I,it)&&L(34067),Te.__version=Se.version,I.onUpdate&&I.onUpdate(I)}U.__version=I.version}function Pe(U,I,Q,xe,Se){const Te=s.convert(Q.format,Q.encoding),tt=s.convert(Q.type),Re=C(Q.internalFormat,Te,tt,Q.encoding);i.get(I).__hasExternalTextures||(Se===32879||Se===35866?t.texImage3D(Se,0,Re,I.width,I.height,I.depth,0,Te,tt,null):t.texImage2D(Se,0,Re,I.width,I.height,0,Te,tt,null)),t.bindFramebuffer(36160,U),Ke(I)?p.framebufferTexture2DMultisampleEXT(36160,xe,Se,i.get(Q).__webglTexture,0,qe(I)):(Se===3553||Se>=34069&&Se<=34074)&&n.framebufferTexture2D(36160,xe,Se,i.get(Q).__webglTexture,0),t.bindFramebuffer(36160,null)}function Ze(U,I,Q){if(n.bindRenderbuffer(36161,U),I.depthBuffer&&!I.stencilBuffer){let xe=33189;if(Q||Ke(I)){const Se=I.depthTexture;Se&&Se.isDepthTexture&&(Se.type===Zs?xe=36012:Se.type===zo&&(xe=33190));const Te=qe(I);Ke(I)?p.renderbufferStorageMultisampleEXT(36161,Te,xe,I.width,I.height):n.renderbufferStorageMultisample(36161,Te,xe,I.width,I.height)}else n.renderbufferStorage(36161,xe,I.width,I.height);n.framebufferRenderbuffer(36160,36096,36161,U)}else if(I.depthBuffer&&I.stencilBuffer){const xe=qe(I);Q&&Ke(I)===!1?n.renderbufferStorageMultisample(36161,xe,35056,I.width,I.height):Ke(I)?p.renderbufferStorageMultisampleEXT(36161,xe,35056,I.width,I.height):n.renderbufferStorage(36161,34041,I.width,I.height),n.framebufferRenderbuffer(36160,33306,36161,U)}else{const xe=I.isWebGLMultipleRenderTargets===!0?I.texture:[I.texture];for(let Se=0;Se<xe.length;Se++){const Te=xe[Se],tt=s.convert(Te.format,Te.encoding),Re=s.convert(Te.type),me=C(Te.internalFormat,tt,Re,Te.encoding),je=qe(I);Q&&Ke(I)===!1?n.renderbufferStorageMultisample(36161,je,me,I.width,I.height):Ke(I)?p.renderbufferStorageMultisampleEXT(36161,je,me,I.width,I.height):n.renderbufferStorage(36161,me,I.width,I.height)}}n.bindRenderbuffer(36161,null)}function de(U,I){if(I&&I.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,U),!(I.depthTexture&&I.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(I.depthTexture).__webglTexture||I.depthTexture.image.width!==I.width||I.depthTexture.image.height!==I.height)&&(I.depthTexture.image.width=I.width,I.depthTexture.image.height=I.height,I.depthTexture.needsUpdate=!0),G(I.depthTexture,0);const xe=i.get(I.depthTexture).__webglTexture,Se=qe(I);if(I.depthTexture.format===jo)Ke(I)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,xe,0,Se):n.framebufferTexture2D(36160,36096,3553,xe,0);else if(I.depthTexture.format===al)Ke(I)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,xe,0,Se):n.framebufferTexture2D(36160,33306,3553,xe,0);else throw new Error("Unknown depthTexture format")}function le(U){const I=i.get(U),Q=U.isWebGLCubeRenderTarget===!0;if(U.depthTexture&&!I.__autoAllocateDepthBuffer){if(Q)throw new Error("target.depthTexture not supported in Cube render targets");de(I.__webglFramebuffer,U)}else if(Q){I.__webglDepthbuffer=[];for(let xe=0;xe<6;xe++)t.bindFramebuffer(36160,I.__webglFramebuffer[xe]),I.__webglDepthbuffer[xe]=n.createRenderbuffer(),Ze(I.__webglDepthbuffer[xe],U,!1)}else t.bindFramebuffer(36160,I.__webglFramebuffer),I.__webglDepthbuffer=n.createRenderbuffer(),Ze(I.__webglDepthbuffer,U,!1);t.bindFramebuffer(36160,null)}function Ee(U,I,Q){const xe=i.get(U);I!==void 0&&Pe(xe.__webglFramebuffer,U,U.texture,36064,3553),Q!==void 0&&le(U)}function ke(U){const I=U.texture,Q=i.get(U),xe=i.get(I);U.addEventListener("dispose",$),U.isWebGLMultipleRenderTargets!==!0&&(xe.__webglTexture===void 0&&(xe.__webglTexture=n.createTexture()),xe.__version=I.version,o.memory.textures++);const Se=U.isWebGLCubeRenderTarget===!0,Te=U.isWebGLMultipleRenderTargets===!0,tt=M(U)||a;if(Se){Q.__webglFramebuffer=[];for(let Re=0;Re<6;Re++)Q.__webglFramebuffer[Re]=n.createFramebuffer()}else{if(Q.__webglFramebuffer=n.createFramebuffer(),Te)if(r.drawBuffers){const Re=U.texture;for(let me=0,je=Re.length;me<je;me++){const it=i.get(Re[me]);it.__webglTexture===void 0&&(it.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&U.samples>0&&Ke(U)===!1){const Re=Te?I:[I];Q.__webglMultisampledFramebuffer=n.createFramebuffer(),Q.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,Q.__webglMultisampledFramebuffer);for(let me=0;me<Re.length;me++){const je=Re[me];Q.__webglColorRenderbuffer[me]=n.createRenderbuffer(),n.bindRenderbuffer(36161,Q.__webglColorRenderbuffer[me]);const it=s.convert(je.format,je.encoding),Fe=s.convert(je.type),Je=C(je.internalFormat,it,Fe,je.encoding,U.isXRRenderTarget===!0),Ge=qe(U);n.renderbufferStorageMultisample(36161,Ge,Je,U.width,U.height),n.framebufferRenderbuffer(36160,36064+me,36161,Q.__webglColorRenderbuffer[me])}n.bindRenderbuffer(36161,null),U.depthBuffer&&(Q.__webglDepthRenderbuffer=n.createRenderbuffer(),Ze(Q.__webglDepthRenderbuffer,U,!0)),t.bindFramebuffer(36160,null)}}if(Se){t.bindTexture(34067,xe.__webglTexture),oe(34067,I,tt);for(let Re=0;Re<6;Re++)Pe(Q.__webglFramebuffer[Re],U,I,36064,34069+Re);A(I,tt)&&L(34067),t.unbindTexture()}else if(Te){const Re=U.texture;for(let me=0,je=Re.length;me<je;me++){const it=Re[me],Fe=i.get(it);t.bindTexture(3553,Fe.__webglTexture),oe(3553,it,tt),Pe(Q.__webglFramebuffer,U,it,36064+me,3553),A(it,tt)&&L(3553)}t.unbindTexture()}else{let Re=3553;(U.isWebGL3DRenderTarget||U.isWebGLArrayRenderTarget)&&(a?Re=U.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Re,xe.__webglTexture),oe(Re,I,tt),Pe(Q.__webglFramebuffer,U,I,36064,Re),A(I,tt)&&L(Re),t.unbindTexture()}U.depthBuffer&&le(U)}function Ae(U){const I=M(U)||a,Q=U.isWebGLMultipleRenderTargets===!0?U.texture:[U.texture];for(let xe=0,Se=Q.length;xe<Se;xe++){const Te=Q[xe];if(A(Te,I)){const tt=U.isWebGLCubeRenderTarget?34067:3553,Re=i.get(Te).__webglTexture;t.bindTexture(tt,Re),L(tt),t.unbindTexture()}}}function st(U){if(a&&U.samples>0&&Ke(U)===!1){const I=U.isWebGLMultipleRenderTargets?U.texture:[U.texture],Q=U.width,xe=U.height;let Se=16384;const Te=[],tt=U.stencilBuffer?33306:36096,Re=i.get(U),me=U.isWebGLMultipleRenderTargets===!0;if(me)for(let je=0;je<I.length;je++)t.bindFramebuffer(36160,Re.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+je,36161,null),t.bindFramebuffer(36160,Re.__webglFramebuffer),n.framebufferTexture2D(36009,36064+je,3553,null,0);t.bindFramebuffer(36008,Re.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Re.__webglFramebuffer);for(let je=0;je<I.length;je++){Te.push(36064+je),U.depthBuffer&&Te.push(tt);const it=Re.__ignoreDepthValues!==void 0?Re.__ignoreDepthValues:!1;if(it===!1&&(U.depthBuffer&&(Se|=256),U.stencilBuffer&&(Se|=1024)),me&&n.framebufferRenderbuffer(36008,36064,36161,Re.__webglColorRenderbuffer[je]),it===!0&&(n.invalidateFramebuffer(36008,[tt]),n.invalidateFramebuffer(36009,[tt])),me){const Fe=i.get(I[je]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,Fe,0)}n.blitFramebuffer(0,0,Q,xe,0,0,Q,xe,Se,9728),m&&n.invalidateFramebuffer(36008,Te)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),me)for(let je=0;je<I.length;je++){t.bindFramebuffer(36160,Re.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+je,36161,Re.__webglColorRenderbuffer[je]);const it=i.get(I[je]).__webglTexture;t.bindFramebuffer(36160,Re.__webglFramebuffer),n.framebufferTexture2D(36009,36064+je,3553,it,0)}t.bindFramebuffer(36009,Re.__webglMultisampledFramebuffer)}}function qe(U){return Math.min(h,U.samples)}function Ke(U){const I=i.get(U);return a&&U.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&I.__useRenderToTexture!==!1}function Mt(U){const I=o.render.frame;v.get(U)!==I&&(v.set(U,I),U.update())}function ht(U,I){const Q=U.encoding,xe=U.format,Se=U.type;return U.isCompressedTexture===!0||U.isVideoTexture===!0||U.format===ng||Q!==Qo&&(Q===Yt?a===!1?e.has("EXT_sRGB")===!0&&xe===Fi?(U.format=ng,U.minFilter=En,U.generateMipmaps=!1):I=X_.sRGBToLinear(I):(xe!==Fi||Se!==so)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Q)),I}this.allocateTextureUnit=N,this.resetTextureUnits=se,this.setTexture2D=G,this.setTexture2DArray=X,this.setTexture3D=J,this.setTextureCube=pe,this.rebindTextures=Ee,this.setupRenderTarget=ke,this.updateRenderTargetMipmap=Ae,this.updateMultisampleRenderTarget=st,this.setupDepthRenderbuffer=le,this.setupFrameBufferTexture=Pe,this.useMultisampledRTT=Ke}function SA(n,e,t){const i=t.isWebGL2;function r(s,o=null){let a;if(s===so)return 5121;if(s===$5)return 32819;if(s===G5)return 32820;if(s===H5)return 5120;if(s===V5)return 5122;if(s===$_)return 5123;if(s===W5)return 5124;if(s===zo)return 5125;if(s===Zs)return 5126;if(s===Vc)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===j5)return 6406;if(s===Fi)return 6408;if(s===Y5)return 6409;if(s===Z5)return 6410;if(s===jo)return 6402;if(s===al)return 34041;if(s===X5)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===ng)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===q5)return 6403;if(s===K5)return 36244;if(s===J5)return 33319;if(s===Q5)return 33320;if(s===eA)return 36249;if(s===xm||s===_m||s===wm||s===Sm)if(o===Yt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===xm)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===_m)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===wm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Sm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===xm)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===_m)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===wm)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Sm)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===zy||s===Fy||s===By||s===Uy)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===zy)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Fy)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===By)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Uy)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===tA)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===Hy||s===Vy)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===Hy)return o===Yt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===Vy)return o===Yt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Wy||s===$y||s===Gy||s===jy||s===Xy||s===Yy||s===Zy||s===qy||s===Ky||s===Jy||s===Qy||s===ex||s===tx||s===nx)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===Wy)return o===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===$y)return o===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Gy)return o===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===jy)return o===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Xy)return o===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===Yy)return o===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===Zy)return o===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===qy)return o===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===Ky)return o===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===Jy)return o===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Qy)return o===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===ex)return o===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===tx)return o===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===nx)return o===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===ix)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===ix)return o===Yt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===Za?i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class bA extends xn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class wc extends bt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const H7={type:"move"};class av{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new wc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new wc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new wc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new z),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(f&&e.hand){o=!0;for(const y of e.hand.values()){const _=t.getJointPose(y,i),x=this._getHandJoint(f,y);_!==null&&(x.matrix.fromArray(_.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=_.radius),x.visible=_!==null}const d=f.joints["index-finger-tip"],h=f.joints["thumb-tip"],p=d.position.distanceTo(h.position),m=.02,v=.005;f.inputState.pinching&&p>m+v?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&p<=m-v&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(H7)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),f!==null&&(f.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new wc;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class MA extends fn{constructor(e,t,i,r,s,o,a,l,f,d){if(d=d!==void 0?d:jo,d!==jo&&d!==al)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===jo&&(i=zo),i===void 0&&d===al&&(i=Za),super(null,r,s,o,a,l,d,i,f),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:bn,this.minFilter=l!==void 0?l:bn,this.flipY=!1,this.generateMipmaps=!1}}class V7 extends Ss{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=null,f=null,d=null,h=null,p=null,m=null;const v=t.getContextAttributes();let y=null,_=null;const x=[],w=[],b=new Set,M=new Map,T=new xn;T.layers.enable(1),T.viewport=new Bt;const A=new xn;A.layers.enable(2),A.viewport=new Bt;const L=[T,A],C=new bA;C.layers.enable(1),C.layers.enable(2);let k=null,D=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(X){let J=x[X];return J===void 0&&(J=new av,x[X]=J),J.getTargetRaySpace()},this.getControllerGrip=function(X){let J=x[X];return J===void 0&&(J=new av,x[X]=J),J.getGripSpace()},this.getHand=function(X){let J=x[X];return J===void 0&&(J=new av,x[X]=J),J.getHandSpace()};function O(X){const J=w.indexOf(X.inputSource);if(J===-1)return;const pe=x[J];pe!==void 0&&pe.dispatchEvent({type:X.type,data:X.inputSource})}function $(){r.removeEventListener("select",O),r.removeEventListener("selectstart",O),r.removeEventListener("selectend",O),r.removeEventListener("squeeze",O),r.removeEventListener("squeezestart",O),r.removeEventListener("squeezeend",O),r.removeEventListener("end",$),r.removeEventListener("inputsourceschange",W);for(let X=0;X<x.length;X++){const J=w[X];J!==null&&(w[X]=null,x[X].disconnect(J))}k=null,D=null,e.setRenderTarget(y),p=null,h=null,d=null,r=null,_=null,G.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(X){s=X,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(X){a=X,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(X){l=X},this.getBaseLayer=function(){return h!==null?h:p},this.getBinding=function(){return d},this.getFrame=function(){return m},this.getSession=function(){return r},this.setSession=async function(X){if(r=X,r!==null){if(y=e.getRenderTarget(),r.addEventListener("select",O),r.addEventListener("selectstart",O),r.addEventListener("selectend",O),r.addEventListener("squeeze",O),r.addEventListener("squeezestart",O),r.addEventListener("squeezeend",O),r.addEventListener("end",$),r.addEventListener("inputsourceschange",W),v.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const J={antialias:r.renderState.layers===void 0?v.antialias:!0,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};p=new XRWebGLLayer(r,t,J),r.updateRenderState({baseLayer:p}),_=new Ir(p.framebufferWidth,p.framebufferHeight,{format:Fi,type:so,encoding:e.outputEncoding,stencilBuffer:v.stencil})}else{let J=null,pe=null,ye=null;v.depth&&(ye=v.stencil?35056:33190,J=v.stencil?al:jo,pe=v.stencil?Za:zo);const be={colorFormat:32856,depthFormat:ye,scaleFactor:s};d=new XRWebGLBinding(r,t),h=d.createProjectionLayer(be),r.updateRenderState({layers:[h]}),_=new Ir(h.textureWidth,h.textureHeight,{format:Fi,type:so,depthTexture:new MA(h.textureWidth,h.textureHeight,pe,void 0,void 0,void 0,void 0,void 0,void 0,J),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0});const oe=e.properties.get(_);oe.__ignoreDepthValues=h.ignoreDepthValues}_.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await r.requestReferenceSpace(a),G.setContext(r),G.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function W(X){for(let J=0;J<X.removed.length;J++){const pe=X.removed[J],ye=w.indexOf(pe);ye>=0&&(w[ye]=null,x[ye].disconnect(pe))}for(let J=0;J<X.added.length;J++){const pe=X.added[J];let ye=w.indexOf(pe);if(ye===-1){for(let oe=0;oe<x.length;oe++)if(oe>=w.length){w.push(pe),ye=oe;break}else if(w[oe]===null){w[oe]=pe,ye=oe;break}if(ye===-1)break}const be=x[ye];be&&be.connect(pe)}}const H=new z,q=new z;function te(X,J,pe){H.setFromMatrixPosition(J.matrixWorld),q.setFromMatrixPosition(pe.matrixWorld);const ye=H.distanceTo(q),be=J.projectionMatrix.elements,oe=pe.projectionMatrix.elements,Ue=be[14]/(be[10]-1),De=be[14]/(be[10]+1),Ye=(be[9]+1)/be[5],Pe=(be[9]-1)/be[5],Ze=(be[8]-1)/be[0],de=(oe[8]+1)/oe[0],le=Ue*Ze,Ee=Ue*de,ke=ye/(-Ze+de),Ae=ke*-Ze;J.matrixWorld.decompose(X.position,X.quaternion,X.scale),X.translateX(Ae),X.translateZ(ke),X.matrixWorld.compose(X.position,X.quaternion,X.scale),X.matrixWorldInverse.copy(X.matrixWorld).invert();const st=Ue+ke,qe=De+ke,Ke=le-Ae,Mt=Ee+(ye-Ae),ht=Ye*De/qe*st,U=Pe*De/qe*st;X.projectionMatrix.makePerspective(Ke,Mt,ht,U,st,qe)}function se(X,J){J===null?X.matrixWorld.copy(X.matrix):X.matrixWorld.multiplyMatrices(J.matrixWorld,X.matrix),X.matrixWorldInverse.copy(X.matrixWorld).invert()}this.updateCamera=function(X){if(r===null)return;C.near=A.near=T.near=X.near,C.far=A.far=T.far=X.far,(k!==C.near||D!==C.far)&&(r.updateRenderState({depthNear:C.near,depthFar:C.far}),k=C.near,D=C.far);const J=X.parent,pe=C.cameras;se(C,J);for(let be=0;be<pe.length;be++)se(pe[be],J);C.matrixWorld.decompose(C.position,C.quaternion,C.scale),X.matrix.copy(C.matrix),X.matrix.decompose(X.position,X.quaternion,X.scale);const ye=X.children;for(let be=0,oe=ye.length;be<oe;be++)ye[be].updateMatrixWorld(!0);pe.length===2?te(C,T,A):C.projectionMatrix.copy(T.projectionMatrix)},this.getCamera=function(){return C},this.getFoveation=function(){if(h!==null)return h.fixedFoveation;if(p!==null)return p.fixedFoveation},this.setFoveation=function(X){h!==null&&(h.fixedFoveation=X),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=X)},this.getPlanes=function(){return b};let N=null;function Y(X,J){if(f=J.getViewerPose(l||o),m=J,f!==null){const pe=f.views;p!==null&&(e.setRenderTargetFramebuffer(_,p.framebuffer),e.setRenderTarget(_));let ye=!1;pe.length!==C.cameras.length&&(C.cameras.length=0,ye=!0);for(let be=0;be<pe.length;be++){const oe=pe[be];let Ue=null;if(p!==null)Ue=p.getViewport(oe);else{const Ye=d.getViewSubImage(h,oe);Ue=Ye.viewport,be===0&&(e.setRenderTargetTextures(_,Ye.colorTexture,h.ignoreDepthValues?void 0:Ye.depthStencilTexture),e.setRenderTarget(_))}let De=L[be];De===void 0&&(De=new xn,De.layers.enable(be),De.viewport=new Bt,L[be]=De),De.matrix.fromArray(oe.transform.matrix),De.projectionMatrix.fromArray(oe.projectionMatrix),De.viewport.set(Ue.x,Ue.y,Ue.width,Ue.height),be===0&&C.matrix.copy(De.matrix),ye===!0&&C.cameras.push(De)}}for(let pe=0;pe<x.length;pe++){const ye=w[pe],be=x[pe];ye!==null&&be!==void 0&&be.update(ye,J,l||o)}if(N&&N(X,J),J.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:J.detectedPlanes});let pe=null;for(const ye of b)J.detectedPlanes.has(ye)||(pe===null&&(pe=[]),pe.push(ye));if(pe!==null)for(const ye of pe)b.delete(ye),M.delete(ye),i.dispatchEvent({type:"planeremoved",data:ye});for(const ye of J.detectedPlanes)if(!b.has(ye))b.add(ye),M.set(ye,J.lastChangedTime),i.dispatchEvent({type:"planeadded",data:ye});else{const be=M.get(ye);ye.lastChangedTime>be&&(M.set(ye,ye.lastChangedTime),i.dispatchEvent({type:"planechanged",data:ye}))}}m=null}const G=new vA;G.setAnimationLoop(Y),this.setAnimationLoop=function(X){N=X},this.dispose=function(){}}}function W7(n,e){function t(y,_){_.color.getRGB(y.fogColor.value,hA(n)),_.isFog?(y.fogNear.value=_.near,y.fogFar.value=_.far):_.isFogExp2&&(y.fogDensity.value=_.density)}function i(y,_,x,w,b){_.isMeshBasicMaterial||_.isMeshLambertMaterial?r(y,_):_.isMeshToonMaterial?(r(y,_),d(y,_)):_.isMeshPhongMaterial?(r(y,_),f(y,_)):_.isMeshStandardMaterial?(r(y,_),h(y,_),_.isMeshPhysicalMaterial&&p(y,_,b)):_.isMeshMatcapMaterial?(r(y,_),m(y,_)):_.isMeshDepthMaterial?r(y,_):_.isMeshDistanceMaterial?(r(y,_),v(y,_)):_.isMeshNormalMaterial?r(y,_):_.isLineBasicMaterial?(s(y,_),_.isLineDashedMaterial&&o(y,_)):_.isPointsMaterial?a(y,_,x,w):_.isSpriteMaterial?l(y,_):_.isShadowMaterial?(y.color.value.copy(_.color),y.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function r(y,_){y.opacity.value=_.opacity,_.color&&y.diffuse.value.copy(_.color),_.emissive&&y.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(y.map.value=_.map),_.alphaMap&&(y.alphaMap.value=_.alphaMap),_.bumpMap&&(y.bumpMap.value=_.bumpMap,y.bumpScale.value=_.bumpScale,_.side===tr&&(y.bumpScale.value*=-1)),_.displacementMap&&(y.displacementMap.value=_.displacementMap,y.displacementScale.value=_.displacementScale,y.displacementBias.value=_.displacementBias),_.emissiveMap&&(y.emissiveMap.value=_.emissiveMap),_.normalMap&&(y.normalMap.value=_.normalMap,y.normalScale.value.copy(_.normalScale),_.side===tr&&y.normalScale.value.negate()),_.specularMap&&(y.specularMap.value=_.specularMap),_.alphaTest>0&&(y.alphaTest.value=_.alphaTest);const x=e.get(_).envMap;if(x&&(y.envMap.value=x,y.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=_.reflectivity,y.ior.value=_.ior,y.refractionRatio.value=_.refractionRatio),_.lightMap){y.lightMap.value=_.lightMap;const M=n.physicallyCorrectLights!==!0?Math.PI:1;y.lightMapIntensity.value=_.lightMapIntensity*M}_.aoMap&&(y.aoMap.value=_.aoMap,y.aoMapIntensity.value=_.aoMapIntensity);let w;_.map?w=_.map:_.specularMap?w=_.specularMap:_.displacementMap?w=_.displacementMap:_.normalMap?w=_.normalMap:_.bumpMap?w=_.bumpMap:_.roughnessMap?w=_.roughnessMap:_.metalnessMap?w=_.metalnessMap:_.alphaMap?w=_.alphaMap:_.emissiveMap?w=_.emissiveMap:_.clearcoatMap?w=_.clearcoatMap:_.clearcoatNormalMap?w=_.clearcoatNormalMap:_.clearcoatRoughnessMap?w=_.clearcoatRoughnessMap:_.iridescenceMap?w=_.iridescenceMap:_.iridescenceThicknessMap?w=_.iridescenceThicknessMap:_.specularIntensityMap?w=_.specularIntensityMap:_.specularColorMap?w=_.specularColorMap:_.transmissionMap?w=_.transmissionMap:_.thicknessMap?w=_.thicknessMap:_.sheenColorMap?w=_.sheenColorMap:_.sheenRoughnessMap&&(w=_.sheenRoughnessMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),y.uvTransform.value.copy(w.matrix));let b;_.aoMap?b=_.aoMap:_.lightMap&&(b=_.lightMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),y.uv2Transform.value.copy(b.matrix))}function s(y,_){y.diffuse.value.copy(_.color),y.opacity.value=_.opacity}function o(y,_){y.dashSize.value=_.dashSize,y.totalSize.value=_.dashSize+_.gapSize,y.scale.value=_.scale}function a(y,_,x,w){y.diffuse.value.copy(_.color),y.opacity.value=_.opacity,y.size.value=_.size*x,y.scale.value=w*.5,_.map&&(y.map.value=_.map),_.alphaMap&&(y.alphaMap.value=_.alphaMap),_.alphaTest>0&&(y.alphaTest.value=_.alphaTest);let b;_.map?b=_.map:_.alphaMap&&(b=_.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),y.uvTransform.value.copy(b.matrix))}function l(y,_){y.diffuse.value.copy(_.color),y.opacity.value=_.opacity,y.rotation.value=_.rotation,_.map&&(y.map.value=_.map),_.alphaMap&&(y.alphaMap.value=_.alphaMap),_.alphaTest>0&&(y.alphaTest.value=_.alphaTest);let x;_.map?x=_.map:_.alphaMap&&(x=_.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),y.uvTransform.value.copy(x.matrix))}function f(y,_){y.specular.value.copy(_.specular),y.shininess.value=Math.max(_.shininess,1e-4)}function d(y,_){_.gradientMap&&(y.gradientMap.value=_.gradientMap)}function h(y,_){y.roughness.value=_.roughness,y.metalness.value=_.metalness,_.roughnessMap&&(y.roughnessMap.value=_.roughnessMap),_.metalnessMap&&(y.metalnessMap.value=_.metalnessMap),e.get(_).envMap&&(y.envMapIntensity.value=_.envMapIntensity)}function p(y,_,x){y.ior.value=_.ior,_.sheen>0&&(y.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),y.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(y.sheenColorMap.value=_.sheenColorMap),_.sheenRoughnessMap&&(y.sheenRoughnessMap.value=_.sheenRoughnessMap)),_.clearcoat>0&&(y.clearcoat.value=_.clearcoat,y.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(y.clearcoatMap.value=_.clearcoatMap),_.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap),_.clearcoatNormalMap&&(y.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),y.clearcoatNormalMap.value=_.clearcoatNormalMap,_.side===tr&&y.clearcoatNormalScale.value.negate())),_.iridescence>0&&(y.iridescence.value=_.iridescence,y.iridescenceIOR.value=_.iridescenceIOR,y.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(y.iridescenceMap.value=_.iridescenceMap),_.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=_.iridescenceThicknessMap)),_.transmission>0&&(y.transmission.value=_.transmission,y.transmissionSamplerMap.value=x.texture,y.transmissionSamplerSize.value.set(x.width,x.height),_.transmissionMap&&(y.transmissionMap.value=_.transmissionMap),y.thickness.value=_.thickness,_.thicknessMap&&(y.thicknessMap.value=_.thicknessMap),y.attenuationDistance.value=_.attenuationDistance,y.attenuationColor.value.copy(_.attenuationColor)),y.specularIntensity.value=_.specularIntensity,y.specularColor.value.copy(_.specularColor),_.specularIntensityMap&&(y.specularIntensityMap.value=_.specularIntensityMap),_.specularColorMap&&(y.specularColorMap.value=_.specularColorMap)}function m(y,_){_.matcap&&(y.matcap.value=_.matcap)}function v(y,_){y.referencePosition.value.copy(_.referencePosition),y.nearDistance.value=_.nearDistance,y.farDistance.value=_.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:i}}function $7(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(w,b){const M=b.program;i.uniformBlockBinding(w,M)}function f(w,b){let M=r[w.id];M===void 0&&(v(w),M=d(w),r[w.id]=M,w.addEventListener("dispose",_));const T=b.program;i.updateUBOMapping(w,T);const A=e.render.frame;s[w.id]!==A&&(p(w),s[w.id]=A)}function d(w){const b=h();w.__bindingPointIndex=b;const M=n.createBuffer(),T=w.__size,A=w.usage;return n.bindBuffer(35345,M),n.bufferData(35345,T,A),n.bindBuffer(35345,null),n.bindBufferBase(35345,b,M),M}function h(){for(let w=0;w<a;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(w){const b=r[w.id],M=w.uniforms,T=w.__cache;n.bindBuffer(35345,b);for(let A=0,L=M.length;A<L;A++){const C=M[A];if(m(C,A,T)===!0){const k=C.__offset,D=Array.isArray(C.value)?C.value:[C.value];let O=0;for(let $=0;$<D.length;$++){const W=D[$],H=y(W);typeof W=="number"?(C.__data[0]=W,n.bufferSubData(35345,k+O,C.__data)):W.isMatrix3?(C.__data[0]=W.elements[0],C.__data[1]=W.elements[1],C.__data[2]=W.elements[2],C.__data[3]=W.elements[0],C.__data[4]=W.elements[3],C.__data[5]=W.elements[4],C.__data[6]=W.elements[5],C.__data[7]=W.elements[0],C.__data[8]=W.elements[6],C.__data[9]=W.elements[7],C.__data[10]=W.elements[8],C.__data[11]=W.elements[0]):(W.toArray(C.__data,O),O+=H.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,k,C.__data)}}n.bindBuffer(35345,null)}function m(w,b,M){const T=w.value;if(M[b]===void 0){if(typeof T=="number")M[b]=T;else{const A=Array.isArray(T)?T:[T],L=[];for(let C=0;C<A.length;C++)L.push(A[C].clone());M[b]=L}return!0}else if(typeof T=="number"){if(M[b]!==T)return M[b]=T,!0}else{const A=Array.isArray(M[b])?M[b]:[M[b]],L=Array.isArray(T)?T:[T];for(let C=0;C<A.length;C++){const k=A[C];if(k.equals(L[C])===!1)return k.copy(L[C]),!0}}return!1}function v(w){const b=w.uniforms;let M=0;const T=16;let A=0;for(let L=0,C=b.length;L<C;L++){const k=b[L],D={boundary:0,storage:0},O=Array.isArray(k.value)?k.value:[k.value];for(let $=0,W=O.length;$<W;$++){const H=O[$],q=y(H);D.boundary+=q.boundary,D.storage+=q.storage}if(k.__data=new Float32Array(D.storage/Float32Array.BYTES_PER_ELEMENT),k.__offset=M,L>0){A=M%T;const $=T-A;A!==0&&$-D.boundary<0&&(M+=T-A,k.__offset=M)}M+=D.storage}return A=M%T,A>0&&(M+=T-A),w.__size=M,w.__cache={},this}function y(w){const b={boundary:0,storage:0};return typeof w=="number"?(b.boundary=4,b.storage=4):w.isVector2?(b.boundary=8,b.storage=8):w.isVector3||w.isColor?(b.boundary=16,b.storage=12):w.isVector4?(b.boundary=16,b.storage=16):w.isMatrix3?(b.boundary=48,b.storage=48):w.isMatrix4?(b.boundary=64,b.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),b}function _(w){const b=w.target;b.removeEventListener("dispose",_);const M=o.indexOf(b.__bindingPointIndex);o.splice(M,1),n.deleteBuffer(r[b.id]),delete r[b.id],delete s[b.id]}function x(){for(const w in r)n.deleteBuffer(r[w]);o=[],r={},s={}}return{bind:l,update:f,dispose:x}}function G7(){const n=od("canvas");return n.style.display="block",n}function Q_(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:G7(),t=n.context!==void 0?n.context:null,i=n.depth!==void 0?n.depth:!0,r=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",f=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let d;t!==null?d=t.getContextAttributes().alpha:d=n.alpha!==void 0?n.alpha:!1;let h=null,p=null;const m=[],v=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Qo,this.physicallyCorrectLights=!1,this.toneMapping=qr,this.toneMappingExposure=1;const y=this;let _=!1,x=0,w=0,b=null,M=-1,T=null;const A=new Bt,L=new Bt;let C=null,k=e.width,D=e.height,O=1,$=null,W=null;const H=new Bt(0,0,k,D),q=new Bt(0,0,k,D);let te=!1;const se=new Vg;let N=!1,Y=!1,G=null;const X=new pt,J=new ve,pe=new z,ye={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function be(){return b===null?O:1}let oe=t;function Ue(F,ie){for(let he=0;he<F.length;he++){const ne=F[he],ge=e.getContext(ne,ie);if(ge!==null)return ge}return null}try{const F={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:f};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Ng}`),e.addEventListener("webglcontextlost",Je,!1),e.addEventListener("webglcontextrestored",Ge,!1),e.addEventListener("webglcontextcreationerror",Z,!1),oe===null){const ie=["webgl2","webgl","experimental-webgl"];if(y.isWebGL1Renderer===!0&&ie.shift(),oe=Ue(ie,F),oe===null)throw Ue(ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}oe.getShaderPrecisionFormat===void 0&&(oe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(F){throw console.error("THREE.WebGLRenderer: "+F.message),F}let De,Ye,Pe,Ze,de,le,Ee,ke,Ae,st,qe,Ke,Mt,ht,U,I,Q,xe,Se,Te,tt,Re,me,je;function it(){De=new aO(oe),Ye=new tO(oe,De,n),De.init(Ye),Re=new SA(oe,De,Ye),Pe=new B7(oe,De,Ye),Ze=new uO,de=new T7,le=new U7(oe,De,Pe,de,Ye,Re,Ze),Ee=new iO(y),ke=new oO(y),Ae=new xk(oe,Ye),me=new Q8(oe,De,Ae,Ye),st=new lO(oe,Ae,Ze,me),qe=new pO(oe,st,Ae,Ze),Se=new hO(oe,Ye,le),I=new nO(de),Ke=new C7(y,Ee,ke,De,Ye,me,I),Mt=new W7(y,de),ht=new P7,U=new O7(De,Ye),xe=new J8(y,Ee,ke,Pe,qe,d,o),Q=new F7(y,qe,Ye),je=new $7(oe,Ze,Ye,Pe),Te=new eO(oe,De,Ze,Ye),tt=new cO(oe,De,Ze,Ye),Ze.programs=Ke.programs,y.capabilities=Ye,y.extensions=De,y.properties=de,y.renderLists=ht,y.shadowMap=Q,y.state=Pe,y.info=Ze}it();const Fe=new V7(y,oe);this.xr=Fe,this.getContext=function(){return oe},this.getContextAttributes=function(){return oe.getContextAttributes()},this.forceContextLoss=function(){const F=De.get("WEBGL_lose_context");F&&F.loseContext()},this.forceContextRestore=function(){const F=De.get("WEBGL_lose_context");F&&F.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(F){F!==void 0&&(O=F,this.setSize(k,D,!1))},this.getSize=function(F){return F.set(k,D)},this.setSize=function(F,ie,he){if(Fe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}k=F,D=ie,e.width=Math.floor(F*O),e.height=Math.floor(ie*O),he!==!1&&(e.style.width=F+"px",e.style.height=ie+"px"),this.setViewport(0,0,F,ie)},this.getDrawingBufferSize=function(F){return F.set(k*O,D*O).floor()},this.setDrawingBufferSize=function(F,ie,he){k=F,D=ie,O=he,e.width=Math.floor(F*he),e.height=Math.floor(ie*he),this.setViewport(0,0,F,ie)},this.getCurrentViewport=function(F){return F.copy(A)},this.getViewport=function(F){return F.copy(H)},this.setViewport=function(F,ie,he,ne){F.isVector4?H.set(F.x,F.y,F.z,F.w):H.set(F,ie,he,ne),Pe.viewport(A.copy(H).multiplyScalar(O).floor())},this.getScissor=function(F){return F.copy(q)},this.setScissor=function(F,ie,he,ne){F.isVector4?q.set(F.x,F.y,F.z,F.w):q.set(F,ie,he,ne),Pe.scissor(L.copy(q).multiplyScalar(O).floor())},this.getScissorTest=function(){return te},this.setScissorTest=function(F){Pe.setScissorTest(te=F)},this.setOpaqueSort=function(F){$=F},this.setTransparentSort=function(F){W=F},this.getClearColor=function(F){return F.copy(xe.getClearColor())},this.setClearColor=function(){xe.setClearColor.apply(xe,arguments)},this.getClearAlpha=function(){return xe.getClearAlpha()},this.setClearAlpha=function(){xe.setClearAlpha.apply(xe,arguments)},this.clear=function(F=!0,ie=!0,he=!0){let ne=0;F&&(ne|=16384),ie&&(ne|=256),he&&(ne|=1024),oe.clear(ne)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Je,!1),e.removeEventListener("webglcontextrestored",Ge,!1),e.removeEventListener("webglcontextcreationerror",Z,!1),ht.dispose(),U.dispose(),de.dispose(),Ee.dispose(),ke.dispose(),qe.dispose(),me.dispose(),je.dispose(),Ke.dispose(),Fe.dispose(),Fe.removeEventListener("sessionstart",Ie),Fe.removeEventListener("sessionend",Qe),G&&(G.dispose(),G=null),Et.stop()};function Je(F){F.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_=!0}function Ge(){console.log("THREE.WebGLRenderer: Context Restored."),_=!1;const F=Ze.autoReset,ie=Q.enabled,he=Q.autoUpdate,ne=Q.needsUpdate,ge=Q.type;it(),Ze.autoReset=F,Q.enabled=ie,Q.autoUpdate=he,Q.needsUpdate=ne,Q.type=ge}function Z(F){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",F.statusMessage)}function _e(F){const ie=F.target;ie.removeEventListener("dispose",_e),ze(ie)}function ze(F){j(F),de.remove(F)}function j(F){const ie=de.get(F).programs;ie!==void 0&&(ie.forEach(function(he){Ke.releaseProgram(he)}),F.isShaderMaterial&&Ke.releaseShaderCache(F))}this.renderBufferDirect=function(F,ie,he,ne,ge,rt){ie===null&&(ie=ye);const ut=ge.isMesh&&ge.matrixWorld.determinant()<0,gt=a0(F,ie,he,ne,ge);Pe.setMaterial(ne,ut);let wt=he.index,Pt=1;ne.wireframe===!0&&(wt=st.getWireframeAttribute(he),Pt=2);const Ct=he.drawRange,Tt=he.attributes.position;let pn=Ct.start*Pt,vi=(Ct.start+Ct.count)*Pt;rt!==null&&(pn=Math.max(pn,rt.start*Pt),vi=Math.min(vi,(rt.start+rt.count)*Pt)),wt!==null?(pn=Math.max(pn,0),vi=Math.min(vi,wt.count)):Tt!=null&&(pn=Math.max(pn,0),vi=Math.min(vi,Tt.count));const Or=vi-pn;if(Or<0||Or===1/0)return;me.setup(ge,ne,gt,he,wt);let Ms,Jt=Te;if(wt!==null&&(Ms=Ae.get(wt),Jt=tt,Jt.setIndex(Ms)),ge.isMesh)ne.wireframe===!0?(Pe.setLineWidth(ne.wireframeLinewidth*be()),Jt.setMode(1)):Jt.setMode(4);else if(ge.isLine){let vt=ne.linewidth;vt===void 0&&(vt=1),Pe.setLineWidth(vt*be()),ge.isLineSegments?Jt.setMode(1):ge.isLineLoop?Jt.setMode(2):Jt.setMode(3)}else ge.isPoints?Jt.setMode(0):ge.isSprite&&Jt.setMode(4);if(ge.isInstancedMesh)Jt.renderInstances(pn,Or,ge.count);else if(he.isInstancedBufferGeometry){const vt=he._maxInstanceCount!==void 0?he._maxInstanceCount:1/0,da=Math.min(he.instanceCount,vt);Jt.renderInstances(pn,Or,da)}else Jt.render(pn,Or)},this.compile=function(F,ie){function he(ne,ge,rt){ne.transparent===!0&&ne.side===pf?(ne.side=tr,ne.needsUpdate=!0,In(ne,ge,rt),ne.side=Zo,ne.needsUpdate=!0,In(ne,ge,rt),ne.side=pf):In(ne,ge,rt)}p=U.get(F),p.init(),v.push(p),F.traverseVisible(function(ne){ne.isLight&&ne.layers.test(ie.layers)&&(p.pushLight(ne),ne.castShadow&&p.pushShadow(ne))}),p.setupLights(y.physicallyCorrectLights),F.traverse(function(ne){const ge=ne.material;if(ge)if(Array.isArray(ge))for(let rt=0;rt<ge.length;rt++){const ut=ge[rt];he(ut,F,ne)}else he(ge,F,ne)}),v.pop(),p=null};let ae=null;function we(F){ae&&ae(F)}function Ie(){Et.stop()}function Qe(){Et.start()}const Et=new vA;Et.setAnimationLoop(we),typeof self<"u"&&Et.setContext(self),this.setAnimationLoop=function(F){ae=F,Fe.setAnimationLoop(F),F===null?Et.stop():Et.start()},Fe.addEventListener("sessionstart",Ie),Fe.addEventListener("sessionend",Qe),this.render=function(F,ie){if(ie!==void 0&&ie.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(_===!0)return;F.matrixWorldAutoUpdate===!0&&F.updateMatrixWorld(),ie.parent===null&&ie.matrixWorldAutoUpdate===!0&&ie.updateMatrixWorld(),Fe.enabled===!0&&Fe.isPresenting===!0&&(Fe.cameraAutoUpdate===!0&&Fe.updateCamera(ie),ie=Fe.getCamera()),F.isScene===!0&&F.onBeforeRender(y,F,ie,b),p=U.get(F,v.length),p.init(),v.push(p),X.multiplyMatrices(ie.projectionMatrix,ie.matrixWorldInverse),se.setFromProjectionMatrix(X),Y=this.localClippingEnabled,N=I.init(this.clippingPlanes,Y,ie),h=ht.get(F,m.length),h.init(),m.push(h),zt(F,ie,0,y.sortObjects),h.finish(),y.sortObjects===!0&&h.sort($,W),N===!0&&I.beginShadows();const he=p.state.shadowsArray;if(Q.render(he,F,ie),N===!0&&I.endShadows(),this.info.autoReset===!0&&this.info.reset(),xe.render(h,F),p.setupLights(y.physicallyCorrectLights),ie.isArrayCamera){const ne=ie.cameras;for(let ge=0,rt=ne.length;ge<rt;ge++){const ut=ne[ge];Ht(h,F,ut,ut.viewport)}}else Ht(h,F,ie);b!==null&&(le.updateMultisampleRenderTarget(b),le.updateRenderTargetMipmap(b)),F.isScene===!0&&F.onAfterRender(y,F,ie),me.resetDefaultState(),M=-1,T=null,v.pop(),v.length>0?p=v[v.length-1]:p=null,m.pop(),m.length>0?h=m[m.length-1]:h=null};function zt(F,ie,he,ne){if(F.visible===!1)return;if(F.layers.test(ie.layers)){if(F.isGroup)he=F.renderOrder;else if(F.isLOD)F.autoUpdate===!0&&F.update(ie);else if(F.isLight)p.pushLight(F),F.castShadow&&p.pushShadow(F);else if(F.isSprite){if(!F.frustumCulled||se.intersectsSprite(F)){ne&&pe.setFromMatrixPosition(F.matrixWorld).applyMatrix4(X);const ut=qe.update(F),gt=F.material;gt.visible&&h.push(F,ut,gt,he,pe.z,null)}}else if((F.isMesh||F.isLine||F.isPoints)&&(F.isSkinnedMesh&&F.skeleton.frame!==Ze.render.frame&&(F.skeleton.update(),F.skeleton.frame=Ze.render.frame),!F.frustumCulled||se.intersectsObject(F))){ne&&pe.setFromMatrixPosition(F.matrixWorld).applyMatrix4(X);const ut=qe.update(F),gt=F.material;if(Array.isArray(gt)){const wt=ut.groups;for(let Pt=0,Ct=wt.length;Pt<Ct;Pt++){const Tt=wt[Pt],pn=gt[Tt.materialIndex];pn&&pn.visible&&h.push(F,ut,pn,he,pe.z,Tt)}}else gt.visible&&h.push(F,ut,gt,he,pe.z,null)}}const rt=F.children;for(let ut=0,gt=rt.length;ut<gt;ut++)zt(rt[ut],ie,he,ne)}function Ht(F,ie,he,ne){const ge=F.opaque,rt=F.transmissive,ut=F.transparent;p.setupLightsView(he),rt.length>0&&ti(ge,ie,he),ne&&Pe.viewport(A.copy(ne)),ge.length>0&&Lt(ge,ie,he),rt.length>0&&Lt(rt,ie,he),ut.length>0&&Lt(ut,ie,he),Pe.buffers.depth.setTest(!0),Pe.buffers.depth.setMask(!0),Pe.buffers.color.setMask(!0),Pe.setPolygonOffset(!1)}function ti(F,ie,he){const ne=Ye.isWebGL2;G===null&&(G=new Ir(1,1,{generateMipmaps:!0,type:De.has("EXT_color_buffer_half_float")?Vc:so,minFilter:Jo,samples:ne&&s===!0?4:0})),y.getDrawingBufferSize(J),ne?G.setSize(J.x,J.y):G.setSize(ig(J.x),ig(J.y));const ge=y.getRenderTarget();y.setRenderTarget(G),y.clear();const rt=y.toneMapping;y.toneMapping=qr,Lt(F,ie,he),y.toneMapping=rt,le.updateMultisampleRenderTarget(G),le.updateRenderTargetMipmap(G),y.setRenderTarget(ge)}function Lt(F,ie,he){const ne=ie.isScene===!0?ie.overrideMaterial:null;for(let ge=0,rt=F.length;ge<rt;ge++){const ut=F[ge],gt=ut.object,wt=ut.geometry,Pt=ne===null?ut.material:ne,Ct=ut.group;gt.layers.test(he.layers)&&Un(gt,ie,he,wt,Pt,Ct)}}function Un(F,ie,he,ne,ge,rt){F.onBeforeRender(y,ie,he,ne,ge,rt),F.modelViewMatrix.multiplyMatrices(he.matrixWorldInverse,F.matrixWorld),F.normalMatrix.getNormalMatrix(F.modelViewMatrix),ge.onBeforeRender(y,ie,he,ne,F,rt),ge.transparent===!0&&ge.side===pf?(ge.side=tr,ge.needsUpdate=!0,y.renderBufferDirect(he,ie,ne,ge,F,rt),ge.side=Zo,ge.needsUpdate=!0,y.renderBufferDirect(he,ie,ne,ge,F,rt),ge.side=pf):y.renderBufferDirect(he,ie,ne,ge,F,rt),F.onAfterRender(y,ie,he,ne,ge,rt)}function In(F,ie,he){ie.isScene!==!0&&(ie=ye);const ne=de.get(F),ge=p.state.lights,rt=p.state.shadowsArray,ut=ge.state.version,gt=Ke.getParameters(F,ge.state,rt,ie,he),wt=Ke.getProgramCacheKey(gt);let Pt=ne.programs;ne.environment=F.isMeshStandardMaterial?ie.environment:null,ne.fog=ie.fog,ne.envMap=(F.isMeshStandardMaterial?ke:Ee).get(F.envMap||ne.environment),Pt===void 0&&(F.addEventListener("dispose",_e),Pt=new Map,ne.programs=Pt);let Ct=Pt.get(wt);if(Ct!==void 0){if(ne.currentProgram===Ct&&ne.lightsStateVersion===ut)return Jd(F,gt),Ct}else gt.uniforms=Ke.getUniforms(F),F.onBuild(he,gt,y),F.onBeforeCompile(gt,y),Ct=Ke.acquireProgram(gt,wt),Pt.set(wt,Ct),ne.uniforms=gt.uniforms;const Tt=ne.uniforms;(!F.isShaderMaterial&&!F.isRawShaderMaterial||F.clipping===!0)&&(Tt.clippingPlanes=I.uniform),Jd(F,gt),ne.needsLights=yu(F),ne.lightsStateVersion=ut,ne.needsLights&&(Tt.ambientLightColor.value=ge.state.ambient,Tt.lightProbe.value=ge.state.probe,Tt.directionalLights.value=ge.state.directional,Tt.directionalLightShadows.value=ge.state.directionalShadow,Tt.spotLights.value=ge.state.spot,Tt.spotLightShadows.value=ge.state.spotShadow,Tt.rectAreaLights.value=ge.state.rectArea,Tt.ltc_1.value=ge.state.rectAreaLTC1,Tt.ltc_2.value=ge.state.rectAreaLTC2,Tt.pointLights.value=ge.state.point,Tt.pointLightShadows.value=ge.state.pointShadow,Tt.hemisphereLights.value=ge.state.hemi,Tt.directionalShadowMap.value=ge.state.directionalShadowMap,Tt.directionalShadowMatrix.value=ge.state.directionalShadowMatrix,Tt.spotShadowMap.value=ge.state.spotShadowMap,Tt.spotLightMatrix.value=ge.state.spotLightMatrix,Tt.spotLightMap.value=ge.state.spotLightMap,Tt.pointShadowMap.value=ge.state.pointShadowMap,Tt.pointShadowMatrix.value=ge.state.pointShadowMatrix);const pn=Ct.getUniforms(),vi=Cm.seqWithValue(pn.seq,Tt);return ne.currentProgram=Ct,ne.uniformsList=vi,Ct}function Jd(F,ie){const he=de.get(F);he.outputEncoding=ie.outputEncoding,he.instancing=ie.instancing,he.skinning=ie.skinning,he.morphTargets=ie.morphTargets,he.morphNormals=ie.morphNormals,he.morphColors=ie.morphColors,he.morphTargetsCount=ie.morphTargetsCount,he.numClippingPlanes=ie.numClippingPlanes,he.numIntersection=ie.numClipIntersection,he.vertexAlphas=ie.vertexAlphas,he.vertexTangents=ie.vertexTangents,he.toneMapping=ie.toneMapping}function a0(F,ie,he,ne,ge){ie.isScene!==!0&&(ie=ye),le.resetTextureUnits();const rt=ie.fog,ut=ne.isMeshStandardMaterial?ie.environment:null,gt=b===null?y.outputEncoding:b.isXRRenderTarget===!0?b.texture.encoding:Qo,wt=(ne.isMeshStandardMaterial?ke:Ee).get(ne.envMap||ut),Pt=ne.vertexColors===!0&&!!he.attributes.color&&he.attributes.color.itemSize===4,Ct=!!ne.normalMap&&!!he.attributes.tangent,Tt=!!he.morphAttributes.position,pn=!!he.morphAttributes.normal,vi=!!he.morphAttributes.color,Or=ne.toneMapped?y.toneMapping:qr,Ms=he.morphAttributes.position||he.morphAttributes.normal||he.morphAttributes.color,Jt=Ms!==void 0?Ms.length:0,vt=de.get(ne),da=p.state.lights;if(N===!0&&(Y===!0||F!==T)){const Ft=F===T&&ne.id===M;I.setState(ne,F,Ft)}let mn=!1;ne.version===vt.__version?(vt.needsLights&&vt.lightsStateVersion!==da.state.version||vt.outputEncoding!==gt||ge.isInstancedMesh&&vt.instancing===!1||!ge.isInstancedMesh&&vt.instancing===!0||ge.isSkinnedMesh&&vt.skinning===!1||!ge.isSkinnedMesh&&vt.skinning===!0||vt.envMap!==wt||ne.fog===!0&&vt.fog!==rt||vt.numClippingPlanes!==void 0&&(vt.numClippingPlanes!==I.numPlanes||vt.numIntersection!==I.numIntersection)||vt.vertexAlphas!==Pt||vt.vertexTangents!==Ct||vt.morphTargets!==Tt||vt.morphNormals!==pn||vt.morphColors!==vi||vt.toneMapping!==Or||Ye.isWebGL2===!0&&vt.morphTargetsCount!==Jt)&&(mn=!0):(mn=!0,vt.__version=ne.version);let Es=vt.currentProgram;mn===!0&&(Es=In(ne,ie,ge));let Sl=!1,lr=!1,cr=!1;const mt=Es.getUniforms(),Rt=vt.uniforms;if(Pe.useProgram(Es.program)&&(Sl=!0,lr=!0,cr=!0),ne.id!==M&&(M=ne.id,lr=!0),Sl||T!==F){if(mt.setValue(oe,"projectionMatrix",F.projectionMatrix),Ye.logarithmicDepthBuffer&&mt.setValue(oe,"logDepthBufFC",2/(Math.log(F.far+1)/Math.LN2)),T!==F&&(T=F,lr=!0,cr=!0),ne.isShaderMaterial||ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshStandardMaterial||ne.envMap){const Ft=mt.map.cameraPosition;Ft!==void 0&&Ft.setValue(oe,pe.setFromMatrixPosition(F.matrixWorld))}(ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshLambertMaterial||ne.isMeshBasicMaterial||ne.isMeshStandardMaterial||ne.isShaderMaterial)&&mt.setValue(oe,"isOrthographic",F.isOrthographicCamera===!0),(ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshLambertMaterial||ne.isMeshBasicMaterial||ne.isMeshStandardMaterial||ne.isShaderMaterial||ne.isShadowMaterial||ge.isSkinnedMesh)&&mt.setValue(oe,"viewMatrix",F.matrixWorldInverse)}if(ge.isSkinnedMesh){mt.setOptional(oe,ge,"bindMatrix"),mt.setOptional(oe,ge,"bindMatrixInverse");const Ft=ge.skeleton;Ft&&(Ye.floatVertexTextures?(Ft.boneTexture===null&&Ft.computeBoneTexture(),mt.setValue(oe,"boneTexture",Ft.boneTexture,le),mt.setValue(oe,"boneTextureSize",Ft.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const ur=he.morphAttributes;if((ur.position!==void 0||ur.normal!==void 0||ur.color!==void 0&&Ye.isWebGL2===!0)&&Se.update(ge,he,ne,Es),(lr||vt.receiveShadow!==ge.receiveShadow)&&(vt.receiveShadow=ge.receiveShadow,mt.setValue(oe,"receiveShadow",ge.receiveShadow)),ne.isMeshGouraudMaterial&&ne.envMap!==null&&(Rt.envMap.value=wt,Rt.flipEnvMap.value=wt.isCubeTexture&&wt.isRenderTargetTexture===!1?-1:1),lr&&(mt.setValue(oe,"toneMappingExposure",y.toneMappingExposure),vt.needsLights&&Qd(Rt,cr),rt&&ne.fog===!0&&Mt.refreshFogUniforms(Rt,rt),Mt.refreshMaterialUniforms(Rt,ne,O,D,G),Cm.upload(oe,vt.uniformsList,Rt,le)),ne.isShaderMaterial&&ne.uniformsNeedUpdate===!0&&(Cm.upload(oe,vt.uniformsList,Rt,le),ne.uniformsNeedUpdate=!1),ne.isSpriteMaterial&&mt.setValue(oe,"center",ge.center),mt.setValue(oe,"modelViewMatrix",ge.modelViewMatrix),mt.setValue(oe,"normalMatrix",ge.normalMatrix),mt.setValue(oe,"modelMatrix",ge.matrixWorld),ne.isShaderMaterial||ne.isRawShaderMaterial){const Ft=ne.uniformsGroups;for(let Hn=0,Cs=Ft.length;Hn<Cs;Hn++)if(Ye.isWebGL2){const Ts=Ft[Hn];je.update(Ts,Es),je.bind(Ts,Es)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Es}function Qd(F,ie){F.ambientLightColor.needsUpdate=ie,F.lightProbe.needsUpdate=ie,F.directionalLights.needsUpdate=ie,F.directionalLightShadows.needsUpdate=ie,F.pointLights.needsUpdate=ie,F.pointLightShadows.needsUpdate=ie,F.spotLights.needsUpdate=ie,F.spotLightShadows.needsUpdate=ie,F.rectAreaLights.needsUpdate=ie,F.hemisphereLights.needsUpdate=ie}function yu(F){return F.isMeshLambertMaterial||F.isMeshToonMaterial||F.isMeshPhongMaterial||F.isMeshStandardMaterial||F.isShadowMaterial||F.isShaderMaterial&&F.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(F,ie,he){de.get(F.texture).__webglTexture=ie,de.get(F.depthTexture).__webglTexture=he;const ne=de.get(F);ne.__hasExternalTextures=!0,ne.__hasExternalTextures&&(ne.__autoAllocateDepthBuffer=he===void 0,ne.__autoAllocateDepthBuffer||De.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ne.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(F,ie){const he=de.get(F);he.__webglFramebuffer=ie,he.__useDefaultFramebuffer=ie===void 0},this.setRenderTarget=function(F,ie=0,he=0){b=F,x=ie,w=he;let ne=!0,ge=null,rt=!1,ut=!1;if(F){const wt=de.get(F);wt.__useDefaultFramebuffer!==void 0?(Pe.bindFramebuffer(36160,null),ne=!1):wt.__webglFramebuffer===void 0?le.setupRenderTarget(F):wt.__hasExternalTextures&&le.rebindTextures(F,de.get(F.texture).__webglTexture,de.get(F.depthTexture).__webglTexture);const Pt=F.texture;(Pt.isData3DTexture||Pt.isDataArrayTexture||Pt.isCompressedArrayTexture)&&(ut=!0);const Ct=de.get(F).__webglFramebuffer;F.isWebGLCubeRenderTarget?(ge=Ct[ie],rt=!0):Ye.isWebGL2&&F.samples>0&&le.useMultisampledRTT(F)===!1?ge=de.get(F).__webglMultisampledFramebuffer:ge=Ct,A.copy(F.viewport),L.copy(F.scissor),C=F.scissorTest}else A.copy(H).multiplyScalar(O).floor(),L.copy(q).multiplyScalar(O).floor(),C=te;if(Pe.bindFramebuffer(36160,ge)&&Ye.drawBuffers&&ne&&Pe.drawBuffers(F,ge),Pe.viewport(A),Pe.scissor(L),Pe.setScissorTest(C),rt){const wt=de.get(F.texture);oe.framebufferTexture2D(36160,36064,34069+ie,wt.__webglTexture,he)}else if(ut){const wt=de.get(F.texture),Pt=ie||0;oe.framebufferTextureLayer(36160,36064,wt.__webglTexture,he||0,Pt)}M=-1},this.readRenderTargetPixels=function(F,ie,he,ne,ge,rt,ut){if(!(F&&F.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let gt=de.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&ut!==void 0&&(gt=gt[ut]),gt){Pe.bindFramebuffer(36160,gt);try{const wt=F.texture,Pt=wt.format,Ct=wt.type;if(Pt!==Fi&&Re.convert(Pt)!==oe.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Tt=Ct===Vc&&(De.has("EXT_color_buffer_half_float")||Ye.isWebGL2&&De.has("EXT_color_buffer_float"));if(Ct!==so&&Re.convert(Ct)!==oe.getParameter(35738)&&!(Ct===Zs&&(Ye.isWebGL2||De.has("OES_texture_float")||De.has("WEBGL_color_buffer_float")))&&!Tt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ie>=0&&ie<=F.width-ne&&he>=0&&he<=F.height-ge&&oe.readPixels(ie,he,ne,ge,Re.convert(Pt),Re.convert(Ct),rt)}finally{const wt=b!==null?de.get(b).__webglFramebuffer:null;Pe.bindFramebuffer(36160,wt)}}},this.copyFramebufferToTexture=function(F,ie,he=0){const ne=Math.pow(2,-he),ge=Math.floor(ie.image.width*ne),rt=Math.floor(ie.image.height*ne);le.setTexture2D(ie,0),oe.copyTexSubImage2D(3553,he,0,0,F.x,F.y,ge,rt),Pe.unbindTexture()},this.copyTextureToTexture=function(F,ie,he,ne=0){const ge=ie.image.width,rt=ie.image.height,ut=Re.convert(he.format),gt=Re.convert(he.type);le.setTexture2D(he,0),oe.pixelStorei(37440,he.flipY),oe.pixelStorei(37441,he.premultiplyAlpha),oe.pixelStorei(3317,he.unpackAlignment),ie.isDataTexture?oe.texSubImage2D(3553,ne,F.x,F.y,ge,rt,ut,gt,ie.image.data):ie.isCompressedTexture?oe.compressedTexSubImage2D(3553,ne,F.x,F.y,ie.mipmaps[0].width,ie.mipmaps[0].height,ut,ie.mipmaps[0].data):oe.texSubImage2D(3553,ne,F.x,F.y,ut,gt,ie.image),ne===0&&he.generateMipmaps&&oe.generateMipmap(3553),Pe.unbindTexture()},this.copyTextureToTexture3D=function(F,ie,he,ne,ge=0){if(y.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const rt=F.max.x-F.min.x+1,ut=F.max.y-F.min.y+1,gt=F.max.z-F.min.z+1,wt=Re.convert(ne.format),Pt=Re.convert(ne.type);let Ct;if(ne.isData3DTexture)le.setTexture3D(ne,0),Ct=32879;else if(ne.isDataArrayTexture)le.setTexture2DArray(ne,0),Ct=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}oe.pixelStorei(37440,ne.flipY),oe.pixelStorei(37441,ne.premultiplyAlpha),oe.pixelStorei(3317,ne.unpackAlignment);const Tt=oe.getParameter(3314),pn=oe.getParameter(32878),vi=oe.getParameter(3316),Or=oe.getParameter(3315),Ms=oe.getParameter(32877),Jt=he.isCompressedTexture?he.mipmaps[0]:he.image;oe.pixelStorei(3314,Jt.width),oe.pixelStorei(32878,Jt.height),oe.pixelStorei(3316,F.min.x),oe.pixelStorei(3315,F.min.y),oe.pixelStorei(32877,F.min.z),he.isDataTexture||he.isData3DTexture?oe.texSubImage3D(Ct,ge,ie.x,ie.y,ie.z,rt,ut,gt,wt,Pt,Jt.data):he.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),oe.compressedTexSubImage3D(Ct,ge,ie.x,ie.y,ie.z,rt,ut,gt,wt,Jt.data)):oe.texSubImage3D(Ct,ge,ie.x,ie.y,ie.z,rt,ut,gt,wt,Pt,Jt),oe.pixelStorei(3314,Tt),oe.pixelStorei(32878,pn),oe.pixelStorei(3316,vi),oe.pixelStorei(3315,Or),oe.pixelStorei(32877,Ms),ge===0&&ne.generateMipmaps&&oe.generateMipmap(Ct),Pe.unbindTexture()},this.initTexture=function(F){F.isCubeTexture?le.setTextureCube(F,0):F.isData3DTexture?le.setTexture3D(F,0):F.isDataArrayTexture||F.isCompressedArrayTexture?le.setTexture2DArray(F,0):le.setTexture2D(F,0),Pe.unbindTexture()},this.resetState=function(){x=0,w=0,b=null,Pe.reset(),me.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class EA extends Q_{}EA.prototype.isWebGL1Renderer=!0;class $g{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Be(e),this.density=t}clone(){return new $g(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Gg{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Be(e),this.near=t,this.far=i}clone(){return new Gg(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Gc extends bt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class jg{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=rd,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=nr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=nr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=nr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _i=new z;class ll{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)_i.fromBufferAttribute(this,t),_i.applyMatrix4(e),this.setXYZ(t,_i.x,_i.y,_i.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)_i.fromBufferAttribute(this,t),_i.applyNormalMatrix(e),this.setXYZ(t,_i.x,_i.y,_i.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)_i.fromBufferAttribute(this,t),_i.transformDirection(e),this.setXYZ(t,_i.x,_i.y,_i.z);return this}setX(e,t){return this.normalized&&(t=Gt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Gt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Gt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Gt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=qs(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=qs(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=qs(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=qs(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Gt(t,this.array),i=Gt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Gt(t,this.array),i=Gt(i,this.array),r=Gt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Gt(t,this.array),i=Gt(i,this.array),r=Gt(r,this.array),s=Gt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new jt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ll(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class ew extends ei{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Be(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ql;const Qu=new z,Kl=new z,Jl=new z,Ql=new ve,ef=new ve,CA=new pt,Pp=new z,tf=new z,Rp=new z,vM=new ve,lv=new ve,yM=new ve;class TA extends bt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",ql===void 0){ql=new _t;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new jg(t,5);ql.setIndex([0,1,2,0,2,3]),ql.setAttribute("position",new ll(i,3,0,!1)),ql.setAttribute("uv",new ll(i,2,3,!1))}this.geometry=ql,this.material=e!==void 0?e:new ew,this.center=new ve(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Kl.setFromMatrixScale(this.matrixWorld),CA.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Jl.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Kl.multiplyScalar(-Jl.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;Lp(Pp.set(-.5,-.5,0),Jl,o,Kl,r,s),Lp(tf.set(.5,-.5,0),Jl,o,Kl,r,s),Lp(Rp.set(.5,.5,0),Jl,o,Kl,r,s),vM.set(0,0),lv.set(1,0),yM.set(1,1);let a=e.ray.intersectTriangle(Pp,tf,Rp,!1,Qu);if(a===null&&(Lp(tf.set(-.5,.5,0),Jl,o,Kl,r,s),lv.set(0,1),a=e.ray.intersectTriangle(Pp,Rp,tf,!1,Qu),a===null))return;const l=e.ray.origin.distanceTo(Qu);l<e.near||l>e.far||t.push({distance:l,point:Qu.clone(),uv:Er.getUV(Qu,Pp,tf,Rp,vM,lv,yM,new ve),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Lp(n,e,t,i,r,s){Ql.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(ef.x=s*Ql.x-r*Ql.y,ef.y=r*Ql.x+s*Ql.y):ef.copy(Ql),n.copy(e),n.x+=ef.x,n.y+=ef.y,n.applyMatrix4(CA)}const Ip=new z,xM=new z;class AA extends bt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Ip.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Ip);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Ip.setFromMatrixPosition(e.matrixWorld),xM.setFromMatrixPosition(this.matrixWorld);const i=Ip.distanceTo(xM)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const _M=new z,wM=new Bt,SM=new Bt,j7=new z,bM=new pt;class PA extends Yn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new pt,this.bindMatrixInverse=new pt}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Bt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,r=this.geometry;wM.fromBufferAttribute(r.attributes.skinIndex,e),SM.fromBufferAttribute(r.attributes.skinWeight,e),_M.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=SM.getComponent(s);if(o!==0){const a=wM.getComponent(s);bM.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(j7.copy(_M).applyMatrix4(bM),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class tw extends bt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ic extends fn{constructor(e=null,t=1,i=1,r,s,o,a,l,f=bn,d=bn,h,p){super(null,o,a,l,f,d,r,s,h,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const MM=new pt,X7=new pt;class Xg{constructor(e=[],t=[]){this.uuid=nr(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new pt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new pt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:X7;MM.multiplyMatrices(a,t[s]),MM.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Xg(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=cA(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Ic(t,e,e,Fi,Zs);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new tw),this.bones.push(o),this.boneInverses.push(new pt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class jc extends jt{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const EM=new pt,CM=new pt,Dp=[],Y7=new pt,nf=new Yn;class RA extends Yn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new jc(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1;for(let r=0;r<i;r++)this.setMatrixAt(r,Y7)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(nf.geometry=this.geometry,nf.material=this.material,nf.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,EM),CM.multiplyMatrices(i,EM),nf.matrixWorld=CM,nf.raycast(e,Dp);for(let o=0,a=Dp.length;o<a;o++){const l=Dp[o];l.instanceId=s,l.object=this,t.push(l)}Dp.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new jc(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Ri extends ei{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Be(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const TM=new z,AM=new z,PM=new pt,cv=new nu,kp=new gl;class ea extends bt{constructor(e=new _t,t=new Ri){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)TM.fromBufferAttribute(t,r-1),AM.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=TM.distanceTo(AM);e.setAttribute("lineDistance",new Xe(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),kp.copy(i.boundingSphere),kp.applyMatrix4(r),kp.radius+=s,e.ray.intersectsSphere(kp)===!1)return;PM.copy(r).invert(),cv.copy(e.ray).applyMatrix4(PM);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,f=new z,d=new z,h=new z,p=new z,m=this.isLineSegments?2:1,v=i.index,_=i.attributes.position;if(v!==null){const x=Math.max(0,o.start),w=Math.min(v.count,o.start+o.count);for(let b=x,M=w-1;b<M;b+=m){const T=v.getX(b),A=v.getX(b+1);if(f.fromBufferAttribute(_,T),d.fromBufferAttribute(_,A),cv.distanceSqToSegment(f,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(p);C<e.near||C>e.far||t.push({distance:C,point:h.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,o.start),w=Math.min(_.count,o.start+o.count);for(let b=x,M=w-1;b<M;b+=m){if(f.fromBufferAttribute(_,b),d.fromBufferAttribute(_,b+1),cv.distanceSqToSegment(f,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const A=e.ray.origin.distanceTo(p);A<e.near||A>e.far||t.push({distance:A,point:h.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const RM=new z,LM=new z;class bs extends ea{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)RM.fromBufferAttribute(t,r),LM.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+RM.distanceTo(LM);e.setAttribute("lineDistance",new Xe(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LA extends ea{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class nw extends ei{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Be(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const IM=new pt,lx=new nu,Op=new gl,Np=new z;class iw extends bt{constructor(e=new _t,t=new nw){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Op.copy(i.boundingSphere),Op.applyMatrix4(r),Op.radius+=s,e.ray.intersectsSphere(Op)===!1)return;IM.copy(r).invert(),lx.copy(e.ray).applyMatrix4(IM);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,f=i.index,h=i.attributes.position;if(f!==null){const p=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let v=p,y=m;v<y;v++){const _=f.getX(v);Np.fromBufferAttribute(h,_),DM(Np,_,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let v=p,y=m;v<y;v++)Np.fromBufferAttribute(h,v),DM(Np,v,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function DM(n,e,t,i,r,s,o){const a=lx.distanceSqToPoint(n);if(a<t){const l=new z;lx.closestPointToPoint(n,l),l.applyMatrix4(i);const f=r.ray.origin.distanceTo(l);if(f<r.near||f>r.far)return;s.push({distance:f,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class Z7 extends fn{constructor(e,t,i,r,s,o,a,l,f){super(e,t,i,r,s,o,a,l,f),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:En,this.magFilter=s!==void 0?s:En,this.generateMipmaps=!1;const d=this;function h(){d.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class q7 extends fn{constructor(e,t,i){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=i,this.magFilter=bn,this.minFilter=bn,this.generateMipmaps=!1,this.needsUpdate=!0}}class rw extends fn{constructor(e,t,i,r,s,o,a,l,f,d,h,p){super(null,o,a,l,f,d,r,s,h,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class K7 extends rw{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=di}}class J7 extends fn{constructor(e,t,i,r,s,o,a,l,f){super(e,t,i,r,s,o,a,l,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Qr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,f;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),f=i[r]-o,f<0)a=r+1;else if(f>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const d=i[r],p=i[r+1]-d,m=(o-d)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new ve:new z);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new z,r=[],s=[],o=[],a=new z,l=new pt;for(let m=0;m<=e;m++){const v=m/e;r[m]=this.getTangentAt(v,new z)}s[0]=new z,o[0]=new z;let f=Number.MAX_VALUE;const d=Math.abs(r[0].x),h=Math.abs(r[0].y),p=Math.abs(r[0].z);d<=f&&(f=d,i.set(1,0,0)),h<=f&&(f=h,i.set(0,1,0)),p<=f&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Cn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(Cn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(r[v],m*v)),o[v].crossVectors(r[v],s[v])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Yg extends Qr{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new ve,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),f=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=f-this.aY;l=p*d-m*h+this.aX,f=p*h+m*d+this.aY}return i.set(l,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class IA extends Yg{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function sw(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,f){r(o,a,f*(a-s),f*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,f,d,h){let p=(o-s)/f-(a-s)/(f+d)+(a-o)/d,m=(a-o)/d-(l-o)/(d+h)+(l-a)/h;p*=d,m*=d,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const zp=new z,uv=new sw,fv=new sw,dv=new sw;class DA extends Qr{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new z){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let f,d;this.closed||a>0?f=r[(a-1)%s]:(zp.subVectors(r[0],r[1]).add(r[0]),f=zp);const h=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?d=r[(a+2)%s]:(zp.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=zp),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(f.distanceToSquared(h),m),y=Math.pow(h.distanceToSquared(p),m),_=Math.pow(p.distanceToSquared(d),m);y<1e-4&&(y=1),v<1e-4&&(v=y),_<1e-4&&(_=y),uv.initNonuniformCatmullRom(f.x,h.x,p.x,d.x,v,y,_),fv.initNonuniformCatmullRom(f.y,h.y,p.y,d.y,v,y,_),dv.initNonuniformCatmullRom(f.z,h.z,p.z,d.z,v,y,_)}else this.curveType==="catmullrom"&&(uv.initCatmullRom(f.x,h.x,p.x,d.x,this.tension),fv.initCatmullRom(f.y,h.y,p.y,d.y,this.tension),dv.initCatmullRom(f.z,h.z,p.z,d.z,this.tension));return i.set(uv.calc(l),fv.calc(l),dv.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new z().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function kM(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function Q7(n,e){const t=1-n;return t*t*e}function eN(n,e){return 2*(1-n)*n*e}function tN(n,e){return n*n*e}function Pf(n,e,t,i){return Q7(n,e)+eN(n,t)+tN(n,i)}function nN(n,e){const t=1-n;return t*t*t*e}function iN(n,e){const t=1-n;return 3*t*t*n*e}function rN(n,e){return 3*(1-n)*n*n*e}function sN(n,e){return n*n*n*e}function Rf(n,e,t,i,r){return nN(n,e)+iN(n,t)+rN(n,i)+sN(n,r)}class ow extends Qr{constructor(e=new ve,t=new ve,i=new ve,r=new ve){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new ve){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Rf(e,r.x,s.x,o.x,a.x),Rf(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class kA extends Qr{constructor(e=new z,t=new z,i=new z,r=new z){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new z){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Rf(e,r.x,s.x,o.x,a.x),Rf(e,r.y,s.y,o.y,a.y),Rf(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Zg extends Qr{constructor(e=new ve,t=new ve){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ve){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const i=t||new ve;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class OA extends Qr{constructor(e=new z,t=new z){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new z){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class aw extends Qr{constructor(e=new ve,t=new ve,i=new ve){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ve){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Pf(e,r.x,s.x,o.x),Pf(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class lw extends Qr{constructor(e=new z,t=new z,i=new z){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new z){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Pf(e,r.x,s.x,o.x),Pf(e,r.y,s.y,o.y),Pf(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class cw extends Qr{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ve){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],f=r[o],d=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return i.set(kM(a,l.x,f.x,d.x,h.x),kM(a,l.y,f.y,d.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new ve().fromArray(r))}return this}}var uw=Object.freeze({__proto__:null,ArcCurve:IA,CatmullRomCurve3:DA,CubicBezierCurve:ow,CubicBezierCurve3:kA,EllipseCurve:Yg,LineCurve:Zg,LineCurve3:OA,QuadraticBezierCurve:aw,QuadraticBezierCurve3:lw,SplineCurve:cw});class NA extends Qr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Zg(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),f=l===0?0:1-o/l;return a.getPointAt(f,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let f=0;f<l.length;f++){const d=l[f];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new uw[r.type]().fromJSON(r))}return this}}class ad extends NA{constructor(e){super(),this.type="Path",this.currentPoint=new ve,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new Zg(this.currentPoint.clone(),new ve(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new aw(this.currentPoint.clone(),new ve(e,t),new ve(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new ow(this.currentPoint.clone(),new ve(e,t),new ve(i,r),new ve(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new cw(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const f=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+f,t+d,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const f=new Yg(e,t,i,r,s,o,a,l);if(this.curves.length>0){const h=f.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(f);const d=f.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class ou extends _t{constructor(e=[new ve(0,-.5),new ve(.5,0),new ve(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Cn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],f=[],d=1/t,h=new z,p=new ve,m=new z,v=new z,y=new z;let _=0,x=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:_=e[w+1].x-e[w].x,x=e[w+1].y-e[w].y,m.x=x*1,m.y=-_,m.z=x*0,y.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:_=e[w+1].x-e[w].x,x=e[w+1].y-e[w].y,m.x=x*1,m.y=-_,m.z=x*0,v.copy(m),m.x+=y.x,m.y+=y.y,m.z+=y.z,m.normalize(),l.push(m.x,m.y,m.z),y.copy(v)}for(let w=0;w<=t;w++){const b=i+w*d*r,M=Math.sin(b),T=Math.cos(b);for(let A=0;A<=e.length-1;A++){h.x=e[A].x*M,h.y=e[A].y,h.z=e[A].x*T,o.push(h.x,h.y,h.z),p.x=w/t,p.y=A/(e.length-1),a.push(p.x,p.y);const L=l[3*A+0]*M,C=l[3*A+1],k=l[3*A+0]*T;f.push(L,C,k)}}for(let w=0;w<t;w++)for(let b=0;b<e.length-1;b++){const M=b+w*e.length,T=M,A=M+e.length,L=M+e.length+1,C=M+1;s.push(T,A,C),s.push(L,C,A)}this.setIndex(s),this.setAttribute("position",new Xe(o,3)),this.setAttribute("uv",new Xe(a,2)),this.setAttribute("normal",new Xe(f,3))}static fromJSON(e){return new ou(e.points,e.segments,e.phiStart,e.phiLength)}}class Rd extends ou{constructor(e=1,t=1,i=4,r=8){const s=new ad;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new Rd(e.radius,e.length,e.capSegments,e.radialSegments)}}class Ld extends _t{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],f=new z,d=new ve;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const m=i+h/t*r;f.x=e*Math.cos(m),f.y=e*Math.sin(m),o.push(f.x,f.y,f.z),a.push(0,0,1),d.x=(o[p]/e+1)/2,d.y=(o[p+1]/e+1)/2,l.push(d.x,d.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new Xe(o,3)),this.setAttribute("normal",new Xe(a,3)),this.setAttribute("uv",new Xe(l,2))}static fromJSON(e){return new Ld(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class vl extends _t{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const f=this;r=Math.floor(r),s=Math.floor(s);const d=[],h=[],p=[],m=[];let v=0;const y=[],_=i/2;let x=0;w(),o===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(d),this.setAttribute("position",new Xe(h,3)),this.setAttribute("normal",new Xe(p,3)),this.setAttribute("uv",new Xe(m,2));function w(){const M=new z,T=new z;let A=0;const L=(t-e)/i;for(let C=0;C<=s;C++){const k=[],D=C/s,O=D*(t-e)+e;for(let $=0;$<=r;$++){const W=$/r,H=W*l+a,q=Math.sin(H),te=Math.cos(H);T.x=O*q,T.y=-D*i+_,T.z=O*te,h.push(T.x,T.y,T.z),M.set(q,L,te).normalize(),p.push(M.x,M.y,M.z),m.push(W,1-D),k.push(v++)}y.push(k)}for(let C=0;C<r;C++)for(let k=0;k<s;k++){const D=y[k][C],O=y[k+1][C],$=y[k+1][C+1],W=y[k][C+1];d.push(D,O,W),d.push(O,$,W),A+=6}f.addGroup(x,A,0),x+=A}function b(M){const T=v,A=new ve,L=new z;let C=0;const k=M===!0?e:t,D=M===!0?1:-1;for(let $=1;$<=r;$++)h.push(0,_*D,0),p.push(0,D,0),m.push(.5,.5),v++;const O=v;for(let $=0;$<=r;$++){const H=$/r*l+a,q=Math.cos(H),te=Math.sin(H);L.x=k*te,L.y=_*D,L.z=k*q,h.push(L.x,L.y,L.z),p.push(0,D,0),A.x=q*.5+.5,A.y=te*.5*D+.5,m.push(A.x,A.y),v++}for(let $=0;$<r;$++){const W=T+$,H=O+$;M===!0?d.push(H,H+1,W):d.push(H+1,H,W),C+=3}f.addGroup(x,C,M===!0?1:2),x+=C}}static fromJSON(e){return new vl(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Id extends vl{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Id(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ho extends _t{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),f(i),d(),this.setAttribute("position",new Xe(s,3)),this.setAttribute("normal",new Xe(s.slice(),3)),this.setAttribute("uv",new Xe(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(w){const b=new z,M=new z,T=new z;for(let A=0;A<t.length;A+=3)m(t[A+0],b),m(t[A+1],M),m(t[A+2],T),l(b,M,T,w)}function l(w,b,M,T){const A=T+1,L=[];for(let C=0;C<=A;C++){L[C]=[];const k=w.clone().lerp(M,C/A),D=b.clone().lerp(M,C/A),O=A-C;for(let $=0;$<=O;$++)$===0&&C===A?L[C][$]=k:L[C][$]=k.clone().lerp(D,$/O)}for(let C=0;C<A;C++)for(let k=0;k<2*(A-C)-1;k++){const D=Math.floor(k/2);k%2===0?(p(L[C][D+1]),p(L[C+1][D]),p(L[C][D])):(p(L[C][D+1]),p(L[C+1][D+1]),p(L[C+1][D]))}}function f(w){const b=new z;for(let M=0;M<s.length;M+=3)b.x=s[M+0],b.y=s[M+1],b.z=s[M+2],b.normalize().multiplyScalar(w),s[M+0]=b.x,s[M+1]=b.y,s[M+2]=b.z}function d(){const w=new z;for(let b=0;b<s.length;b+=3){w.x=s[b+0],w.y=s[b+1],w.z=s[b+2];const M=_(w)/2/Math.PI+.5,T=x(w)/Math.PI+.5;o.push(M,1-T)}v(),h()}function h(){for(let w=0;w<o.length;w+=6){const b=o[w+0],M=o[w+2],T=o[w+4],A=Math.max(b,M,T),L=Math.min(b,M,T);A>.9&&L<.1&&(b<.2&&(o[w+0]+=1),M<.2&&(o[w+2]+=1),T<.2&&(o[w+4]+=1))}}function p(w){s.push(w.x,w.y,w.z)}function m(w,b){const M=w*3;b.x=e[M+0],b.y=e[M+1],b.z=e[M+2]}function v(){const w=new z,b=new z,M=new z,T=new z,A=new ve,L=new ve,C=new ve;for(let k=0,D=0;k<s.length;k+=9,D+=6){w.set(s[k+0],s[k+1],s[k+2]),b.set(s[k+3],s[k+4],s[k+5]),M.set(s[k+6],s[k+7],s[k+8]),A.set(o[D+0],o[D+1]),L.set(o[D+2],o[D+3]),C.set(o[D+4],o[D+5]),T.copy(w).add(b).add(M).divideScalar(3);const O=_(T);y(A,D+0,w,O),y(L,D+2,b,O),y(C,D+4,M,O)}}function y(w,b,M,T){T<0&&w.x===1&&(o[b]=w.x-1),M.x===0&&M.z===0&&(o[b]=T/2/Math.PI+.5)}function _(w){return Math.atan2(w.z,-w.x)}function x(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}static fromJSON(e){return new ho(e.vertices,e.indices,e.radius,e.details)}}class Dd extends ho{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Dd(e.radius,e.detail)}}const Fp=new z,Bp=new z,hv=new z,Up=new Er;class zA extends _t{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(qa*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,f=[0,0,0],d=["a","b","c"],h=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(f[0]=o.getX(v),f[1]=o.getX(v+1),f[2]=o.getX(v+2)):(f[0]=v,f[1]=v+1,f[2]=v+2);const{a:y,b:_,c:x}=Up;if(y.fromBufferAttribute(a,f[0]),_.fromBufferAttribute(a,f[1]),x.fromBufferAttribute(a,f[2]),Up.getNormal(hv),h[0]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,h[1]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,h[2]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let w=0;w<3;w++){const b=(w+1)%3,M=h[w],T=h[b],A=Up[d[w]],L=Up[d[b]],C=`${M}_${T}`,k=`${T}_${M}`;k in p&&p[k]?(hv.dot(p[k].normal)<=s&&(m.push(A.x,A.y,A.z),m.push(L.x,L.y,L.z)),p[k]=null):C in p||(p[C]={index0:f[w],index1:f[b],normal:hv.clone()})}}for(const v in p)if(p[v]){const{index0:y,index1:_}=p[v];Fp.fromBufferAttribute(a,y),Bp.fromBufferAttribute(a,_),m.push(Fp.x,Fp.y,Fp.z),m.push(Bp.x,Bp.y,Bp.z)}this.setAttribute("position",new Xe(m,3))}}}class Qa extends ad{constructor(e){super(e),this.uuid=nr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new ad().fromJSON(r))}return this}}const oN={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=FA(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,f,d,h,p,m;if(i&&(s=fN(n,e,s,t)),n.length>80*t){a=f=n[0],l=d=n[1];for(let v=t;v<r;v+=t)h=n[v],p=n[v+1],h<a&&(a=h),p<l&&(l=p),h>f&&(f=h),p>d&&(d=p);m=Math.max(f-a,d-l),m=m!==0?32767/m:0}return ld(s,o,t,a,l,m,0),o}};function FA(n,e,t,i,r){let s,o;if(r===SN(n,e,t,i)>0)for(s=e;s<t;s+=i)o=OM(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=OM(s,n[s],n[s+1],o);return o&&qg(o,o.next)&&(ud(o),o=o.next),o}function cl(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(qg(t,t.next)||ln(t.prev,t,t.next)===0)){if(ud(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function ld(n,e,t,i,r,s,o){if(!n)return;!o&&s&&gN(n,i,r,s);let a=n,l,f;for(;n.prev!==n.next;){if(l=n.prev,f=n.next,s?lN(n,i,r,s):aN(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(f.i/t|0),ud(n),n=f.next,a=f.next;continue}if(n=f,n===a){o?o===1?(n=cN(cl(n),e,t),ld(n,e,t,i,r,s,2)):o===2&&uN(n,e,t,i,r,s):ld(cl(n),e,t,i,r,s,1);break}}}function aN(n){const e=n.prev,t=n,i=n.next;if(ln(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,f=i.y,d=r<s?r<o?r:o:s<o?s:o,h=a<l?a<f?a:f:l<f?l:f,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>f?a:f:l>f?l:f;let v=i.next;for(;v!==e;){if(v.x>=d&&v.x<=p&&v.y>=h&&v.y<=m&&Sc(r,a,s,l,o,f,v.x,v.y)&&ln(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function lN(n,e,t,i){const r=n.prev,s=n,o=n.next;if(ln(r,s,o)>=0)return!1;const a=r.x,l=s.x,f=o.x,d=r.y,h=s.y,p=o.y,m=a<l?a<f?a:f:l<f?l:f,v=d<h?d<p?d:p:h<p?h:p,y=a>l?a>f?a:f:l>f?l:f,_=d>h?d>p?d:p:h>p?h:p,x=cx(m,v,e,t,i),w=cx(y,_,e,t,i);let b=n.prevZ,M=n.nextZ;for(;b&&b.z>=x&&M&&M.z<=w;){if(b.x>=m&&b.x<=y&&b.y>=v&&b.y<=_&&b!==r&&b!==o&&Sc(a,d,l,h,f,p,b.x,b.y)&&ln(b.prev,b,b.next)>=0||(b=b.prevZ,M.x>=m&&M.x<=y&&M.y>=v&&M.y<=_&&M!==r&&M!==o&&Sc(a,d,l,h,f,p,M.x,M.y)&&ln(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;b&&b.z>=x;){if(b.x>=m&&b.x<=y&&b.y>=v&&b.y<=_&&b!==r&&b!==o&&Sc(a,d,l,h,f,p,b.x,b.y)&&ln(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;M&&M.z<=w;){if(M.x>=m&&M.x<=y&&M.y>=v&&M.y<=_&&M!==r&&M!==o&&Sc(a,d,l,h,f,p,M.x,M.y)&&ln(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function cN(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!qg(r,s)&&BA(r,i,i.next,s)&&cd(r,s)&&cd(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),ud(i),ud(i.next),i=n=s),i=i.next}while(i!==n);return cl(i)}function uN(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&xN(o,a)){let l=UA(o,a);o=cl(o,o.next),l=cl(l,l.next),ld(o,e,t,i,r,s,0),ld(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function fN(n,e,t,i){const r=[];let s,o,a,l,f;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,f=FA(n,a,l,i,!1),f===f.next&&(f.steiner=!0),r.push(yN(f));for(r.sort(dN),s=0;s<r.length;s++)t=hN(r[s],t);return t}function dN(n,e){return n.x-e.x}function hN(n,e){const t=pN(n,e);if(!t)return e;const i=UA(t,n);return cl(i,i.next),cl(t,t.next)}function pN(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,f=r.y;let d=1/0,h;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&Sc(o<f?s:i,o,l,f,o<f?i:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),cd(t,n)&&(h<d||h===d&&(t.x>r.x||t.x===r.x&&mN(r,t)))&&(r=t,d=h)),t=t.next;while(t!==a);return r}function mN(n,e){return ln(n.prev,n,e.prev)<0&&ln(e.next,n,n.next)<0}function gN(n,e,t,i){let r=n;do r.z===0&&(r.z=cx(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,vN(r)}function vN(n){let e,t,i,r,s,o,a,l,f=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<f&&(a++,i=i.nextZ,!!i);e++);for(l=f;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,f*=2}while(o>1);return n}function cx(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function yN(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Sc(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function xN(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!_N(n,e)&&(cd(n,e)&&cd(e,n)&&wN(n,e)&&(ln(n.prev,n,e.prev)||ln(n,e.prev,e))||qg(n,e)&&ln(n.prev,n,n.next)>0&&ln(e.prev,e,e.next)>0)}function ln(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function qg(n,e){return n.x===e.x&&n.y===e.y}function BA(n,e,t,i){const r=Vp(ln(n,e,t)),s=Vp(ln(n,e,i)),o=Vp(ln(t,i,n)),a=Vp(ln(t,i,e));return!!(r!==s&&o!==a||r===0&&Hp(n,t,e)||s===0&&Hp(n,i,e)||o===0&&Hp(t,n,i)||a===0&&Hp(t,e,i))}function Hp(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Vp(n){return n>0?1:n<0?-1:0}function _N(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&BA(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function cd(n,e){return ln(n.prev,n,n.next)<0?ln(n,e,n.next)>=0&&ln(n,n.prev,e)>=0:ln(n,e,n.prev)<0||ln(n,n.next,e)<0}function wN(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function UA(n,e){const t=new ux(n.i,n.x,n.y),i=new ux(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function OM(n,e,t,i){const r=new ux(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function ud(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function ux(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function SN(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class vs{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return vs.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];NM(e),zM(i,e);let o=e.length;t.forEach(NM);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,zM(i,t[l]);const a=oN.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function NM(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function zM(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class kd extends _t{constructor(e=new Qa([new ve(.5,.5),new ve(-.5,.5),new ve(-.5,-.5),new ve(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const f=e[a];o(f)}this.setAttribute("position",new Xe(r,3)),this.setAttribute("uv",new Xe(s,2)),this.computeVertexNormals();function o(a){const l=[],f=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,w=t.UVGenerator!==void 0?t.UVGenerator:bN;let b,M=!1,T,A,L,C;x&&(b=x.getSpacedPoints(d),M=!0,p=!1,T=x.computeFrenetFrames(d,!1),A=new z,L=new z,C=new z),p||(_=0,m=0,v=0,y=0);const k=a.extractPoints(f);let D=k.shape;const O=k.holes;if(!vs.isClockWise(D)){D=D.reverse();for(let de=0,le=O.length;de<le;de++){const Ee=O[de];vs.isClockWise(Ee)&&(O[de]=Ee.reverse())}}const W=vs.triangulateShape(D,O),H=D;for(let de=0,le=O.length;de<le;de++){const Ee=O[de];D=D.concat(Ee)}function q(de,le,Ee){return le||console.error("THREE.ExtrudeGeometry: vec does not exist"),le.clone().multiplyScalar(Ee).add(de)}const te=D.length,se=W.length;function N(de,le,Ee){let ke,Ae,st;const qe=de.x-le.x,Ke=de.y-le.y,Mt=Ee.x-de.x,ht=Ee.y-de.y,U=qe*qe+Ke*Ke,I=qe*ht-Ke*Mt;if(Math.abs(I)>Number.EPSILON){const Q=Math.sqrt(U),xe=Math.sqrt(Mt*Mt+ht*ht),Se=le.x-Ke/Q,Te=le.y+qe/Q,tt=Ee.x-ht/xe,Re=Ee.y+Mt/xe,me=((tt-Se)*ht-(Re-Te)*Mt)/(qe*ht-Ke*Mt);ke=Se+qe*me-de.x,Ae=Te+Ke*me-de.y;const je=ke*ke+Ae*Ae;if(je<=2)return new ve(ke,Ae);st=Math.sqrt(je/2)}else{let Q=!1;qe>Number.EPSILON?Mt>Number.EPSILON&&(Q=!0):qe<-Number.EPSILON?Mt<-Number.EPSILON&&(Q=!0):Math.sign(Ke)===Math.sign(ht)&&(Q=!0),Q?(ke=-Ke,Ae=qe,st=Math.sqrt(U)):(ke=qe,Ae=Ke,st=Math.sqrt(U/2))}return new ve(ke/st,Ae/st)}const Y=[];for(let de=0,le=H.length,Ee=le-1,ke=de+1;de<le;de++,Ee++,ke++)Ee===le&&(Ee=0),ke===le&&(ke=0),Y[de]=N(H[de],H[Ee],H[ke]);const G=[];let X,J=Y.concat();for(let de=0,le=O.length;de<le;de++){const Ee=O[de];X=[];for(let ke=0,Ae=Ee.length,st=Ae-1,qe=ke+1;ke<Ae;ke++,st++,qe++)st===Ae&&(st=0),qe===Ae&&(qe=0),X[ke]=N(Ee[ke],Ee[st],Ee[qe]);G.push(X),J=J.concat(X)}for(let de=0;de<_;de++){const le=de/_,Ee=m*Math.cos(le*Math.PI/2),ke=v*Math.sin(le*Math.PI/2)+y;for(let Ae=0,st=H.length;Ae<st;Ae++){const qe=q(H[Ae],Y[Ae],ke);Ue(qe.x,qe.y,-Ee)}for(let Ae=0,st=O.length;Ae<st;Ae++){const qe=O[Ae];X=G[Ae];for(let Ke=0,Mt=qe.length;Ke<Mt;Ke++){const ht=q(qe[Ke],X[Ke],ke);Ue(ht.x,ht.y,-Ee)}}}const pe=v+y;for(let de=0;de<te;de++){const le=p?q(D[de],J[de],pe):D[de];M?(L.copy(T.normals[0]).multiplyScalar(le.x),A.copy(T.binormals[0]).multiplyScalar(le.y),C.copy(b[0]).add(L).add(A),Ue(C.x,C.y,C.z)):Ue(le.x,le.y,0)}for(let de=1;de<=d;de++)for(let le=0;le<te;le++){const Ee=p?q(D[le],J[le],pe):D[le];M?(L.copy(T.normals[de]).multiplyScalar(Ee.x),A.copy(T.binormals[de]).multiplyScalar(Ee.y),C.copy(b[de]).add(L).add(A),Ue(C.x,C.y,C.z)):Ue(Ee.x,Ee.y,h/d*de)}for(let de=_-1;de>=0;de--){const le=de/_,Ee=m*Math.cos(le*Math.PI/2),ke=v*Math.sin(le*Math.PI/2)+y;for(let Ae=0,st=H.length;Ae<st;Ae++){const qe=q(H[Ae],Y[Ae],ke);Ue(qe.x,qe.y,h+Ee)}for(let Ae=0,st=O.length;Ae<st;Ae++){const qe=O[Ae];X=G[Ae];for(let Ke=0,Mt=qe.length;Ke<Mt;Ke++){const ht=q(qe[Ke],X[Ke],ke);M?Ue(ht.x,ht.y+b[d-1].y,b[d-1].x+Ee):Ue(ht.x,ht.y,h+Ee)}}}ye(),be();function ye(){const de=r.length/3;if(p){let le=0,Ee=te*le;for(let ke=0;ke<se;ke++){const Ae=W[ke];De(Ae[2]+Ee,Ae[1]+Ee,Ae[0]+Ee)}le=d+_*2,Ee=te*le;for(let ke=0;ke<se;ke++){const Ae=W[ke];De(Ae[0]+Ee,Ae[1]+Ee,Ae[2]+Ee)}}else{for(let le=0;le<se;le++){const Ee=W[le];De(Ee[2],Ee[1],Ee[0])}for(let le=0;le<se;le++){const Ee=W[le];De(Ee[0]+te*d,Ee[1]+te*d,Ee[2]+te*d)}}i.addGroup(de,r.length/3-de,0)}function be(){const de=r.length/3;let le=0;oe(H,le),le+=H.length;for(let Ee=0,ke=O.length;Ee<ke;Ee++){const Ae=O[Ee];oe(Ae,le),le+=Ae.length}i.addGroup(de,r.length/3-de,1)}function oe(de,le){let Ee=de.length;for(;--Ee>=0;){const ke=Ee;let Ae=Ee-1;Ae<0&&(Ae=de.length-1);for(let st=0,qe=d+_*2;st<qe;st++){const Ke=te*st,Mt=te*(st+1),ht=le+ke+Ke,U=le+Ae+Ke,I=le+Ae+Mt,Q=le+ke+Mt;Ye(ht,U,I,Q)}}}function Ue(de,le,Ee){l.push(de),l.push(le),l.push(Ee)}function De(de,le,Ee){Pe(de),Pe(le),Pe(Ee);const ke=r.length/3,Ae=w.generateTopUV(i,r,ke-3,ke-2,ke-1);Ze(Ae[0]),Ze(Ae[1]),Ze(Ae[2])}function Ye(de,le,Ee,ke){Pe(de),Pe(le),Pe(ke),Pe(le),Pe(Ee),Pe(ke);const Ae=r.length/3,st=w.generateSideWallUV(i,r,Ae-6,Ae-3,Ae-2,Ae-1);Ze(st[0]),Ze(st[1]),Ze(st[3]),Ze(st[1]),Ze(st[2]),Ze(st[3])}function Pe(de){r.push(l[de*3+0]),r.push(l[de*3+1]),r.push(l[de*3+2])}function Ze(de){s.push(de.x),s.push(de.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return MN(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new uw[r.type]().fromJSON(r)),new kd(i,e.options)}}const bN={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],f=e[r*3],d=e[r*3+1];return[new ve(s,o),new ve(a,l),new ve(f,d)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],f=e[i*3],d=e[i*3+1],h=e[i*3+2],p=e[r*3],m=e[r*3+1],v=e[r*3+2],y=e[s*3],_=e[s*3+1],x=e[s*3+2];return Math.abs(a-d)<Math.abs(o-f)?[new ve(o,1-l),new ve(f,1-h),new ve(p,1-v),new ve(y,1-x)]:[new ve(a,1-l),new ve(d,1-h),new ve(m,1-v),new ve(_,1-x)]}};function MN(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Od extends ho{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Od(e.radius,e.detail)}}class au extends ho{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new au(e.radius,e.detail)}}class Nd extends _t{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],f=[],d=[];let h=e;const p=(t-e)/r,m=new z,v=new ve;for(let y=0;y<=r;y++){for(let _=0;_<=i;_++){const x=s+_/i*o;m.x=h*Math.cos(x),m.y=h*Math.sin(x),l.push(m.x,m.y,m.z),f.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,d.push(v.x,v.y)}h+=p}for(let y=0;y<r;y++){const _=y*(i+1);for(let x=0;x<i;x++){const w=x+_,b=w,M=w+i+1,T=w+i+2,A=w+1;a.push(b,M,A),a.push(M,T,A)}}this.setIndex(a),this.setAttribute("position",new Xe(l,3)),this.setAttribute("normal",new Xe(f,3)),this.setAttribute("uv",new Xe(d,2))}static fromJSON(e){return new Nd(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class zd extends _t{constructor(e=new Qa([new ve(0,.5),new ve(-.5,-.5),new ve(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)f(e);else for(let d=0;d<e.length;d++)f(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Xe(r,3)),this.setAttribute("normal",new Xe(s,3)),this.setAttribute("uv",new Xe(o,2));function f(d){const h=r.length/3,p=d.extractPoints(t);let m=p.shape;const v=p.holes;vs.isClockWise(m)===!1&&(m=m.reverse());for(let _=0,x=v.length;_<x;_++){const w=v[_];vs.isClockWise(w)===!0&&(v[_]=w.reverse())}const y=vs.triangulateShape(m,v);for(let _=0,x=v.length;_<x;_++){const w=v[_];m=m.concat(w)}for(let _=0,x=m.length;_<x;_++){const w=m[_];r.push(w.x,w.y,0),s.push(0,0,1),o.push(w.x,w.y)}for(let _=0,x=y.length;_<x;_++){const w=y[_],b=w[0]+h,M=w[1]+h,T=w[2]+h;i.push(b,M,T),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return EN(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new zd(i,e.curveSegments)}}function EN(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class lu extends _t{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let f=0;const d=[],h=new z,p=new z,m=[],v=[],y=[],_=[];for(let x=0;x<=i;x++){const w=[],b=x/i;let M=0;x==0&&o==0?M=.5/t:x==i&&l==Math.PI&&(M=-.5/t);for(let T=0;T<=t;T++){const A=T/t;h.x=-e*Math.cos(r+A*s)*Math.sin(o+b*a),h.y=e*Math.cos(o+b*a),h.z=e*Math.sin(r+A*s)*Math.sin(o+b*a),v.push(h.x,h.y,h.z),p.copy(h).normalize(),y.push(p.x,p.y,p.z),_.push(A+M,1-b),w.push(f++)}d.push(w)}for(let x=0;x<i;x++)for(let w=0;w<t;w++){const b=d[x][w+1],M=d[x][w],T=d[x+1][w],A=d[x+1][w+1];(x!==0||o>0)&&m.push(b,M,A),(x!==i-1||l<Math.PI)&&m.push(M,T,A)}this.setIndex(m),this.setAttribute("position",new Xe(v,3)),this.setAttribute("normal",new Xe(y,3)),this.setAttribute("uv",new Xe(_,2))}static fromJSON(e){return new lu(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Fd extends ho{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Fd(e.radius,e.detail)}}class Bd extends _t{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],f=[],d=new z,h=new z,p=new z;for(let m=0;m<=i;m++)for(let v=0;v<=r;v++){const y=v/r*s,_=m/i*Math.PI*2;h.x=(e+t*Math.cos(_))*Math.cos(y),h.y=(e+t*Math.cos(_))*Math.sin(y),h.z=t*Math.sin(_),a.push(h.x,h.y,h.z),d.x=e*Math.cos(y),d.y=e*Math.sin(y),p.subVectors(h,d).normalize(),l.push(p.x,p.y,p.z),f.push(v/r),f.push(m/i)}for(let m=1;m<=i;m++)for(let v=1;v<=r;v++){const y=(r+1)*m+v-1,_=(r+1)*(m-1)+v-1,x=(r+1)*(m-1)+v,w=(r+1)*m+v;o.push(y,_,w),o.push(_,x,w)}this.setIndex(o),this.setAttribute("position",new Xe(a,3)),this.setAttribute("normal",new Xe(l,3)),this.setAttribute("uv",new Xe(f,2))}static fromJSON(e){return new Bd(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Ud extends _t{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],f=[],d=[],h=new z,p=new z,m=new z,v=new z,y=new z,_=new z,x=new z;for(let b=0;b<=i;++b){const M=b/i*s*Math.PI*2;w(M,s,o,e,m),w(M+.01,s,o,e,v),_.subVectors(v,m),x.addVectors(v,m),y.crossVectors(_,x),x.crossVectors(y,_),y.normalize(),x.normalize();for(let T=0;T<=r;++T){const A=T/r*Math.PI*2,L=-t*Math.cos(A),C=t*Math.sin(A);h.x=m.x+(L*x.x+C*y.x),h.y=m.y+(L*x.y+C*y.y),h.z=m.z+(L*x.z+C*y.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),f.push(p.x,p.y,p.z),d.push(b/i),d.push(T/r)}}for(let b=1;b<=i;b++)for(let M=1;M<=r;M++){const T=(r+1)*(b-1)+(M-1),A=(r+1)*b+(M-1),L=(r+1)*b+M,C=(r+1)*(b-1)+M;a.push(T,A,C),a.push(A,L,C)}this.setIndex(a),this.setAttribute("position",new Xe(l,3)),this.setAttribute("normal",new Xe(f,3)),this.setAttribute("uv",new Xe(d,2));function w(b,M,T,A,L){const C=Math.cos(b),k=Math.sin(b),D=T/M*b,O=Math.cos(D);L.x=A*(2+O)*.5*C,L.y=A*(2+O)*k*.5,L.z=A*Math.sin(D)*.5}}static fromJSON(e){return new Ud(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Hd extends _t{constructor(e=new lw(new z(-1,-1,0),new z(-1,1,0),new z(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new z,l=new z,f=new ve;let d=new z;const h=[],p=[],m=[],v=[];y(),this.setIndex(v),this.setAttribute("position",new Xe(h,3)),this.setAttribute("normal",new Xe(p,3)),this.setAttribute("uv",new Xe(m,2));function y(){for(let b=0;b<t;b++)_(b);_(s===!1?t:0),w(),x()}function _(b){d=e.getPointAt(b/t,d);const M=o.normals[b],T=o.binormals[b];for(let A=0;A<=r;A++){const L=A/r*Math.PI*2,C=Math.sin(L),k=-Math.cos(L);l.x=k*M.x+C*T.x,l.y=k*M.y+C*T.y,l.z=k*M.z+C*T.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=d.x+i*l.x,a.y=d.y+i*l.y,a.z=d.z+i*l.z,h.push(a.x,a.y,a.z)}}function x(){for(let b=1;b<=t;b++)for(let M=1;M<=r;M++){const T=(r+1)*(b-1)+(M-1),A=(r+1)*b+(M-1),L=(r+1)*b+M,C=(r+1)*(b-1)+M;v.push(T,A,C),v.push(A,L,C)}}function w(){for(let b=0;b<=t;b++)for(let M=0;M<=r;M++)f.x=b/t,f.y=M/r,m.push(f.x,f.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Hd(new uw[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class HA extends _t{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new z,s=new z;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let f=0,d=l.length;f<d;++f){const h=l[f],p=h.start,m=h.count;for(let v=p,y=p+m;v<y;v+=3)for(let _=0;_<3;_++){const x=a.getX(v+_),w=a.getX(v+(_+1)%3);r.fromBufferAttribute(o,x),s.fromBufferAttribute(o,w),FM(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let f=0;f<3;f++){const d=3*a+f,h=3*a+(f+1)%3;r.fromBufferAttribute(o,d),s.fromBufferAttribute(o,h),FM(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Xe(t,3))}}}function FM(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var BM=Object.freeze({__proto__:null,BoxGeometry:ua,CapsuleGeometry:Rd,CircleGeometry:Ld,ConeGeometry:Id,CylinderGeometry:vl,DodecahedronGeometry:Dd,EdgesGeometry:zA,ExtrudeGeometry:kd,IcosahedronGeometry:Od,LatheGeometry:ou,OctahedronGeometry:au,PlaneGeometry:ru,PolyhedronGeometry:ho,RingGeometry:Nd,ShapeGeometry:zd,SphereGeometry:lu,TetrahedronGeometry:Fd,TorusGeometry:Bd,TorusKnotGeometry:Ud,TubeGeometry:Hd,WireframeGeometry:HA});class VA extends ei{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Be(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class WA extends xs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class fw extends ei{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Be(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=la,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class $A extends fw{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ve(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Cn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Be(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Be(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Be(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class GA extends ei{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Be(16777215),this.specular=new Be(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=la,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Cd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class jA extends ei{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Be(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=la,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class XA extends ei{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=la,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class YA extends ei{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=la,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Cd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ZA extends ei{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Be(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=la,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class qA extends Ri{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function _r(n,e,t){return dw(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function $a(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function dw(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function KA(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function fx(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function hw(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function CN(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const f=s.tracks[l],d=f.getValueSize(),h=[],p=[];for(let m=0;m<f.times.length;++m){const v=f.times[m]*r;if(!(v<t||v>=i)){h.push(f.times[m]);for(let y=0;y<d;++y)p.push(f.values[m*d+y])}}h.length!==0&&(f.times=$a(h,f.times.constructor),f.values=$a(p,f.values.constructor),o.push(f))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function TN(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const f=n.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===l});if(f===void 0)continue;let d=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let p=0;const m=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let y;if(s<=a.times[0]){const x=d,w=h-d;y=_r(a.values,x,w)}else if(s>=a.times[v]){const x=v*h+d,w=x+h-d;y=_r(a.values,x,w)}else{const x=a.createInterpolant(),w=d,b=h-d;x.evaluate(s),y=_r(x.resultBuffer,w,b)}l==="quaternion"&&new pi().fromArray(y).normalize().conjugate().toArray(y);const _=f.times.length;for(let x=0;x<_;++x){const w=x*m+p;if(l==="quaternion")pi.multiplyQuaternionsFlat(f.values,w,y,0,f.values,w);else{const b=m-p*2;for(let M=0;M<b;++M)f.values[w+M]-=y[M]}}}return n.blendMode=G_,n}var AN=Object.freeze({__proto__:null,arraySlice:_r,convertArray:$a,isTypedArray:dw,getKeyframeOrder:KA,sortedArray:fx,flattenJSON:hw,subclip:CN,makeClipAdditive:TN});class Vd{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class JA extends Vd{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ha,endingEnd:Ha}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Va:s=e,a=2*t-i;break;case id:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Va:o=e,l=2*i-t;break;case id:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const f=(i-t)*.5,d=this.valueSize;this._weightPrev=f/(t-a),this._weightNext=f/(l-i),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,f=l-a,d=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(i-t)/(r-t),y=v*v,_=y*v,x=-p*_+2*p*y-p*v,w=(1+p)*_+(-1.5-2*p)*y+(-.5+p)*v+1,b=(-1-m)*_+(1.5+m)*y+.5*v,M=m*_-m*y;for(let T=0;T!==a;++T)s[T]=x*o[d+T]+w*o[f+T]+b*o[l+T]+M*o[h+T];return s}}class pw extends Vd{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,f=l-a,d=(i-t)/(r-t),h=1-d;for(let p=0;p!==a;++p)s[p]=o[f+p]*h+o[l+p]*d;return s}}class QA extends Vd{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class es{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=$a(t,this.TimeBufferType),this.values=$a(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:$a(e.times,Array),values:$a(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new QA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new pw(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new JA(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case td:t=this.InterpolantFactoryMethodDiscrete;break;case nd:t=this.InterpolantFactoryMethodLinear;break;case bm:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return td;case this.InterpolantFactoryMethodLinear:return nd;case this.InterpolantFactoryMethodSmooth:return bm}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=_r(i,s,o),this.values=_r(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&dw(r))for(let a=0,l=r.length;a!==l;++a){const f=r[a];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,f),e=!1;break}}return e}optimize(){const e=_r(this.times),t=_r(this.values),i=this.getValueSize(),r=this.getInterpolation()===bm,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const f=e[a],d=e[a+1];if(f!==d&&(a!==1||f!==e[0]))if(r)l=!0;else{const h=a*i,p=h-i,m=h+i;for(let v=0;v!==i;++v){const y=t[h+v];if(y!==t[p+v]||y!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,f=0;f!==i;++f)t[l+f]=t[a+f];++o}return o!==e.length?(this.times=_r(e,0,o),this.values=_r(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=_r(this.times,0),t=_r(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}es.prototype.TimeBufferType=Float32Array;es.prototype.ValueBufferType=Float32Array;es.prototype.DefaultInterpolation=nd;class yl extends es{}yl.prototype.ValueTypeName="bool";yl.prototype.ValueBufferType=Array;yl.prototype.DefaultInterpolation=td;yl.prototype.InterpolantFactoryMethodLinear=void 0;yl.prototype.InterpolantFactoryMethodSmooth=void 0;class mw extends es{}mw.prototype.ValueTypeName="color";class fd extends es{}fd.prototype.ValueTypeName="number";class e4 extends Vd{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let f=e*a;for(let d=f+a;f!==d;f+=4)pi.slerpFlat(s,0,o,f-a,o,f,l);return s}}class cu extends es{InterpolantFactoryMethodLinear(e){return new e4(this.times,this.values,this.getValueSize(),e)}}cu.prototype.ValueTypeName="quaternion";cu.prototype.DefaultInterpolation=nd;cu.prototype.InterpolantFactoryMethodSmooth=void 0;class xl extends es{}xl.prototype.ValueTypeName="string";xl.prototype.ValueBufferType=Array;xl.prototype.DefaultInterpolation=td;xl.prototype.InterpolantFactoryMethodLinear=void 0;xl.prototype.InterpolantFactoryMethodSmooth=void 0;class dd extends es{}dd.prototype.ValueTypeName="vector";class hd{constructor(e,t=-1,i,r=Ug){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=nr(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(RN(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(es.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],f=[];l.push((a+s-1)%s,a,(a+1)%s),f.push(0,1,0);const d=KA(l);l=fx(l,1,d),f=fx(f,1,d),!r&&l[0]===0&&(l.push(s),f.push(f[0])),o.push(new fd(".morphTargetInfluences["+t[a].name+"]",l,f).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const f=e[a],d=f.name.match(s);if(d&&d.length>1){const h=d[1];let p=r[h];p||(r[h]=p=[]),p.push(f)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,p,m,v,y){if(m.length!==0){const _=[],x=[];hw(m,_,x,v),_.length!==0&&y.push(new h(p,_,x))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const f=e.hierarchy||[];for(let h=0;h<f.length;h++){const p=f[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let y=0;y<p[v].morphTargets.length;y++)m[p[v].morphTargets[y]]=-1;for(const y in m){const _=[],x=[];for(let w=0;w!==p[v].morphTargets.length;++w){const b=p[v];_.push(b.time),x.push(b.morphTarget===y?1:0)}r.push(new fd(".morphTargetInfluence["+y+"]",_,x))}l=m.length*o}else{const m=".bones["+t[h].name+"]";i(dd,m+".position",p,"pos",r),i(cu,m+".quaternion",p,"rot",r),i(dd,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function PN(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return fd;case"vector":case"vector2":case"vector3":case"vector4":return dd;case"color":return mw;case"quaternion":return cu;case"bool":case"boolean":return yl;case"string":return xl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function RN(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=PN(n.type);if(n.times===void 0){const t=[],i=[];hw(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const ul={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class gw{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(d){a++,s===!1&&r.onStart!==void 0&&r.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,r.onProgress!==void 0&&r.onProgress(d,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,h){return f.push(d,h),this},this.removeHandler=function(d){const h=f.indexOf(d);return h!==-1&&f.splice(h,2),this},this.getHandler=function(d){for(let h=0,p=f.length;h<p;h+=2){const m=f[h],v=f[h+1];if(m.global&&(m.lastIndex=0),m.test(d))return v}return null}}}const t4=new gw;class ar{constructor(e){this.manager=e!==void 0?e:t4,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Bs={};class LN extends Error{constructor(e,t){super(e),this.response=t}}class oo extends ar{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=ul.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Bs[e]!==void 0){Bs[e].push({onLoad:t,onProgress:i,onError:r});return}Bs[e]=[],Bs[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const d=Bs[e],h=f.body.getReader(),p=f.headers.get("Content-Length")||f.headers.get("X-File-Size"),m=p?parseInt(p):0,v=m!==0;let y=0;const _=new ReadableStream({start(x){w();function w(){h.read().then(({done:b,value:M})=>{if(b)x.close();else{y+=M.byteLength;const T=new ProgressEvent("progress",{lengthComputable:v,loaded:y,total:m});for(let A=0,L=d.length;A<L;A++){const C=d[A];C.onProgress&&C.onProgress(T)}x.enqueue(M),w()}})}}});return new Response(_)}else throw new LN(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(l){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return f.json();default:if(a===void 0)return f.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return f.arrayBuffer().then(v=>m.decode(v))}}}).then(f=>{ul.add(e,f);const d=Bs[e];delete Bs[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onLoad&&m.onLoad(f)}}).catch(f=>{const d=Bs[e];if(d===void 0)throw this.manager.itemError(e),f;delete Bs[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onError&&m.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class IN extends ar{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new oo(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=hd.parse(e[i]);t.push(r)}return t}}class DN extends ar{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new rw,l=new oo(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let f=0;function d(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},f+=1,f===6&&(m.mipmapCount===1&&(a.minFilter=En),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)d(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let y=0;y<p.mipmapCount;y++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+y]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=En),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class pd extends ar{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ul.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=od("img");function l(){d(),ul.add(e,this),t&&t(this),s.manager.itemEnd(e)}function f(h){d(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",f,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class kN extends ar{constructor(e){super(e)}load(e,t,i,r){const s=new Pd,o=new pd(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(f){o.load(e[f],function(d){s.images[f]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let f=0;f<e.length;++f)l(f);return s}}class ON extends ar{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ic,a=new oo(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const f=s.parse(l);f&&(f.image!==void 0?o.image=f.image:f.data!==void 0&&(o.image.width=f.width,o.image.height=f.height,o.image.data=f.data),o.wrapS=f.wrapS!==void 0?f.wrapS:di,o.wrapT=f.wrapT!==void 0?f.wrapT:di,o.magFilter=f.magFilter!==void 0?f.magFilter:En,o.minFilter=f.minFilter!==void 0?f.minFilter:En,o.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.encoding!==void 0&&(o.encoding=f.encoding),f.flipY!==void 0&&(o.flipY=f.flipY),f.format!==void 0&&(o.format=f.format),f.type!==void 0&&(o.type=f.type),f.mipmaps!==void 0&&(o.mipmaps=f.mipmaps,o.minFilter=Jo),f.mipmapCount===1&&(o.minFilter=En),f.generateMipmaps!==void 0&&(o.generateMipmaps=f.generateMipmaps),o.needsUpdate=!0,t&&t(o,f))},i,r),o}}class NN extends ar{constructor(e){super(e)}load(e,t,i,r){const s=new fn,o=new pd(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class fa extends bt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Be(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class n4 extends fa{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(bt.DefaultUp),this.updateMatrix(),this.groundColor=new Be(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const pv=new pt,UM=new z,HM=new z;class vw{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ve(512,512),this.map=null,this.mapPass=null,this.matrix=new pt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Vg,this._frameExtents=new ve(1,1),this._viewportCount=1,this._viewports=[new Bt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;UM.setFromMatrixPosition(e.matrixWorld),t.position.copy(UM),HM.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(HM),t.updateMatrixWorld(),pv.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(pv),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(pv)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class zN extends vw{constructor(){super(new xn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=sd*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class i4 extends fa{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(bt.DefaultUp),this.updateMatrix(),this.target=new bt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new zN}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const VM=new pt,rf=new z,mv=new z;class FN extends vw{constructor(){super(new xn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ve(4,2),this._viewportCount=6,this._viewports=[new Bt(2,1,1,1),new Bt(0,1,1,1),new Bt(3,1,1,1),new Bt(1,1,1,1),new Bt(3,0,1,1),new Bt(1,0,1,1)],this._cubeDirections=[new z(1,0,0),new z(-1,0,0),new z(0,0,1),new z(0,0,-1),new z(0,1,0),new z(0,-1,0)],this._cubeUps=[new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,0,1),new z(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),rf.setFromMatrixPosition(e.matrixWorld),i.position.copy(rf),mv.copy(i.position),mv.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(mv),i.updateMatrixWorld(),r.makeTranslation(-rf.x,-rf.y,-rf.z),VM.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(VM)}}class r4 extends fa{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new FN}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class BN extends vw{constructor(){super(new Ks(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class s4 extends fa{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(bt.DefaultUp),this.updateMatrix(),this.target=new bt,this.shadow=new BN}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class o4 extends fa{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class a4 extends fa{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class l4{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new z)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class Kg extends fa{constructor(e=new l4,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Jg extends ar{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new oo(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=Jg.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Be().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Be().setHex(o.value);break;case"v2":r.uniforms[s].value=new ve().fromArray(o.value);break;case"v3":r.uniforms[s].value=new z().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Bt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Ei().fromArray(o.value);break;case"m4":r.uniforms[s].value=new pt().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new ve().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ve().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:VA,SpriteMaterial:ew,RawShaderMaterial:WA,ShaderMaterial:xs,PointsMaterial:nw,MeshPhysicalMaterial:$A,MeshStandardMaterial:fw,MeshPhongMaterial:GA,MeshToonMaterial:jA,MeshNormalMaterial:XA,MeshLambertMaterial:YA,MeshDepthMaterial:K_,MeshDistanceMaterial:J_,MeshBasicMaterial:ca,MeshMatcapMaterial:ZA,LineDashedMaterial:qA,LineBasicMaterial:Ri,Material:ei};return new t[e]}}class dx{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class c4 extends _t{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class u4 extends ar{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new oo(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,v){if(t[v]!==void 0)return t[v];const _=m.interleavedBuffers[v],x=s(m,_.buffer),w=xc(_.type,x),b=new jg(w,_.stride);return b.uuid=_.uuid,t[v]=b,b}function s(m,v){if(i[v]!==void 0)return i[v];const _=m.arrayBuffers[v],x=new Uint32Array(_).buffer;return i[v]=x,x}const o=e.isInstancedBufferGeometry?new c4:new _t,a=e.data.index;if(a!==void 0){const m=xc(a.type,a.array);o.setIndex(new jt(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let y;if(v.isInterleavedBufferAttribute){const _=r(e.data,v.data);y=new ll(_,v.itemSize,v.offset,v.normalized)}else{const _=xc(v.type,v.array),x=v.isInstancedBufferAttribute?jc:jt;y=new x(_,v.itemSize,v.normalized)}v.name!==void 0&&(y.name=v.name),v.usage!==void 0&&y.setUsage(v.usage),v.updateRange!==void 0&&(y.updateRange.offset=v.updateRange.offset,y.updateRange.count=v.updateRange.count),o.setAttribute(m,y)}const f=e.data.morphAttributes;if(f)for(const m in f){const v=f[m],y=[];for(let _=0,x=v.length;_<x;_++){const w=v[_];let b;if(w.isInterleavedBufferAttribute){const M=r(e.data,w.data);b=new ll(M,w.itemSize,w.offset,w.normalized)}else{const M=xc(w.type,w.array);b=new jt(M,w.itemSize,w.normalized)}w.name!==void 0&&(b.name=w.name),y.push(b)}o.morphAttributes[m]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,v=h.length;m!==v;++m){const y=h[m];o.addGroup(y.start,y.count,y.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new z;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new gl(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class UN extends ar{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?dx.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new oo(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let f=null;try{f=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const d=f.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(f,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?dx.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new oo(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(f)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),f=this.parseObject(e.object,s,l,a,i),d=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,d),t!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(f)}return f}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),f=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,f),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Qa().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Xg().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new u4;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in BM?a=BM[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new Jg;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=hd.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const f=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:i.resourcePath+f;return o(d)}else return l.data?{data:xc(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new gw(t);s=new pd(l),s.setCrossOrigin(this.crossOrigin);for(let f=0,d=e.length;f<d;f++){const h=e[f],p=h.url;if(Array.isArray(p)){const m=[];for(let v=0,y=p.length;v<y;v++){const _=p[v],x=a(_);x!==null&&(x instanceof HTMLImageElement?m.push(x):m.push(new Ic(x.data,x.width,x.height)))}r[h.uuid]=new Wa(m)}else{const m=a(h.url);r[h.uuid]=new Wa(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:xc(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new pd(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],f=l.url;if(Array.isArray(f)){const d=[];for(let h=0,p=f.length;h<p;h++){const m=f[h],v=await s(m);v!==null&&(v instanceof HTMLImageElement?d.push(v):d.push(new Ic(v.data,v.width,v.height)))}i[l.uuid]=new Wa(d)}else{const d=await s(l.url);i[l.uuid]=new Wa(d)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],f=l.data;let d;Array.isArray(f)?(d=new Pd,f.length===6&&(d.needsUpdate=!0)):(f&&f.data?d=new Ic:d=new fn,f&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=i(a.mapping,HN)),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=i(a.wrap[0],WM),d.wrapT=i(a.wrap[1],WM)),a.format!==void 0&&(d.format=a.format),a.type!==void 0&&(d.type=a.type),a.encoding!==void 0&&(d.encoding=a.encoding),a.minFilter!==void 0&&(d.minFilter=i(a.minFilter,$M)),a.magFilter!==void 0&&(d.magFilter=i(a.magFilter,$M)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(d.userData=a.userData),r[a.uuid]=d}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,y=p.length;v<y;v++){const _=p[v];i[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),m.push(i[_])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function f(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let d,h;switch(e.type){case"Scene":o=new Gc,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Be(e.background):o.background=f(e.background)),e.environment!==void 0&&(o.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Gg(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new $g(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":o=new xn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Ks(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new o4(e.color,e.intensity);break;case"DirectionalLight":o=new s4(e.color,e.intensity);break;case"PointLight":o=new r4(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new a4(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new i4(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new n4(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Kg().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),h=l(e.material),o=new PA(d,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),h=l(e.material),o=new Yn(d,h);break;case"InstancedMesh":d=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new RA(d,h,p),o.instanceMatrix=new jc(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new jc(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new AA;break;case"Line":o=new ea(a(e.geometry),l(e.material));break;case"LineLoop":o=new LA(a(e.geometry),l(e.material));break;case"LineSegments":o=new bs(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new iw(a(e.geometry),l(e.material));break;case"Sprite":o=new TA(l(e.material));break;case"Group":o=new wc;break;case"Bone":o=new tw;break;default:o=new bt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],y=o.getObjectByProperty("uuid",v.object);y!==void 0&&o.addLevel(y,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const HN={UVMapping:Bg,CubeReflectionMapping:qo,CubeRefractionMapping:Ko,EquirectangularReflectionMapping:Kf,EquirectangularRefractionMapping:Jf,CubeUVReflectionMapping:tu},WM={RepeatWrapping:Qf,ClampToEdgeWrapping:di,MirroredRepeatWrapping:ed},$M={NearestFilter:bn,NearestMipmapNearestFilter:tg,NearestMipmapLinearFilter:Tf,LinearFilter:En,LinearMipmapNearestFilter:W_,LinearMipmapLinearFilter:Jo};class VN extends ar{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=ul.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){ul.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Wp;class yw{static getContext(){return Wp===void 0&&(Wp=new(window.AudioContext||window.webkitAudioContext)),Wp}static setContext(e){Wp=e}}class WN extends ar{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new oo(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);yw.getContext().decodeAudioData(l,function(d){t(d)})}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}}class $N extends Kg{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new Be().set(e),s=new Be().set(t),o=new z(r.r,r.g,r.b),a=new z(s.r,s.g,s.b),l=Math.sqrt(Math.PI),f=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(f)}}class GN extends Kg{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new Be().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const GM=new pt,jM=new pt,Ea=new pt;class jN{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new xn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new xn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Ea.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(qa*t.fov*.5)/t.zoom;let a,l;jM.elements[12]=-r,GM.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,Ea.elements[0]=2*t.near/(l-a),Ea.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Ea),a=-o*t.aspect-s,l=o*t.aspect-s,Ea.elements[0]=2*t.near/(l-a),Ea.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Ea)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(jM),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(GM)}}class xw{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=XM(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=XM();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function XM(){return(typeof performance>"u"?Date:performance).now()}const Ca=new z,YM=new pi,XN=new z,Ta=new z;class YN extends bt{constructor(){super(),this.type="AudioListener",this.context=yw.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new xw}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ca,YM,XN),Ta.set(0,0,-1).applyQuaternion(YM),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Ca.x,r),t.positionY.linearRampToValueAtTime(Ca.y,r),t.positionZ.linearRampToValueAtTime(Ca.z,r),t.forwardX.linearRampToValueAtTime(Ta.x,r),t.forwardY.linearRampToValueAtTime(Ta.y,r),t.forwardZ.linearRampToValueAtTime(Ta.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(Ca.x,Ca.y,Ca.z),t.setOrientation(Ta.x,Ta.y,Ta.z,i.x,i.y,i.z)}}class f4 extends bt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Aa=new z,ZM=new pi,ZN=new z,Pa=new z;class qN extends f4{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Aa,ZM,ZN),Pa.set(0,0,1).applyQuaternion(ZM);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Aa.x,i),t.positionY.linearRampToValueAtTime(Aa.y,i),t.positionZ.linearRampToValueAtTime(Aa.z,i),t.orientationX.linearRampToValueAtTime(Pa.x,i),t.orientationY.linearRampToValueAtTime(Pa.y,i),t.orientationZ.linearRampToValueAtTime(Pa.z,i)}else t.setPosition(Aa.x,Aa.y,Aa.z),t.setOrientation(Pa.x,Pa.y,Pa.z)}}class KN{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class d4{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,f=t+t;l!==f;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){pi.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;pi.multiplyQuaternionsFlat(e,o,e,t,e,i),pi.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const _w="\\[\\]\\.:\\/",JN=new RegExp("["+_w+"]","g"),ww="[^"+_w+"]",QN="[^"+_w.replace("\\.","")+"]",ez=/((?:WC+[\/:])*)/.source.replace("WC",ww),tz=/(WCOD+)?/.source.replace("WCOD",QN),nz=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ww),iz=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ww),rz=new RegExp("^"+ez+tz+nz+iz+"$"),sz=["material","materials","bones","map"];class oz{constructor(e,t,i){const r=i||It.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class It{constructor(e,t,i){this.path=t,this.parsedPath=i||It.parseTrackName(t),this.node=It.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new It.Composite(e,t,i):new It(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(JN,"")}static parseTrackName(e){const t=rz.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);sz.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=It.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let f=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===f){f=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(f!==void 0){if(e[f]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const o=e[r];if(o===void 0){const f=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}It.Composite=oz;It.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};It.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};It.prototype.GetterByBindingType=[It.prototype._getValue_direct,It.prototype._getValue_array,It.prototype._getValue_arrayElement,It.prototype._getValue_toArray];It.prototype.SetterByBindingTypeAndVersioning=[[It.prototype._setValue_direct,It.prototype._setValue_direct_setNeedsUpdate,It.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[It.prototype._setValue_array,It.prototype._setValue_array_setNeedsUpdate,It.prototype._setValue_array_setMatrixWorldNeedsUpdate],[It.prototype._setValue_arrayElement,It.prototype._setValue_arrayElement_setNeedsUpdate,It.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[It.prototype._setValue_fromArray,It.prototype._setValue_fromArray_setNeedsUpdate,It.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class az{constructor(){this.isAnimationObjectGroup=!0,this.uuid=nr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,f=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const p=arguments[d],m=p.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(p);for(let y=0,_=o;y!==_;++y)s[y].push(new It(p,i[y],r[y]))}else if(v<f){a=e[v];const y=--f,_=e[y];t[_.uuid]=v,e[v]=_,t[m]=y,e[y]=p;for(let x=0,w=o;x!==w;++x){const b=s[x],M=b[y];let T=b[v];b[v]=M,T===void 0&&(T=new It(p,i[x],r[x])),b[y]=T}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],f=l.uuid,d=t[f];if(d!==void 0&&d>=s){const h=s++,p=e[h];t[p.uuid]=d,e[d]=p,t[f]=h,e[h]=l;for(let m=0,v=r;m!==v;++m){const y=i[m],_=y[h],x=y[d];y[d]=_,y[h]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const f=arguments[a],d=f.uuid,h=t[d];if(h!==void 0)if(delete t[d],h<s){const p=--s,m=e[p],v=--o,y=e[v];t[m.uuid]=h,e[h]=m,t[y.uuid]=p,e[p]=y,e.pop();for(let _=0,x=r;_!==x;++_){const w=i[_],b=w[p],M=w[v];w[h]=b,w[p]=M,w.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let v=0,y=r;v!==y;++v){const _=i[v];_[h]=_[p],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,f=l.length,d=this.nCachedObjects_,h=new Array(f);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(h);for(let p=d,m=l.length;p!==m;++p){const v=l[p];h[p]=new It(v,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],f=e[a];t[f]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class lz{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Ha,endingEnd:Ha};for(let f=0;f!==o;++f){const d=s[f].createInterpolant(null);a[f]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=iA,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,f=a.sampleValues;return l[0]=s,l[1]=s+i,f[0]=e/o,f[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case G_:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),f[d].accumulateAdditive(a);break;case Ug:default:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),f[d].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===rA;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===nA){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const f=e<0;this._setEndings(f,!f,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Va,r.endingEnd=Va):(e?r.endingStart=this.zeroSlopeAtStart?Va:Ha:r.endingStart=id,t?r.endingEnd=this.zeroSlopeAtEnd?Va:Ha:r.endingEnd=id)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const cz=new Float32Array(1);class uz extends Ss{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,f=this._bindingsByRootAndName;let d=f[l];d===void 0&&(d={},f[l]=d);for(let h=0;h!==s;++h){const p=r[h],m=p.name;let v=d[m];if(v!==void 0)++v.referenceCount,o[h]=v;else{if(v=o[h],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const y=t&&t._propertyBindings[h].binding.parsedPath;v=new d4(It.create(i,m,y),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[h]=v}a[h].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,f=l[l.length-1],d=e._byClipCacheIndex;f._byClipCacheIndex=d,l[d]=f,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],f=e._cacheIndex;l._cacheIndex=f,t[f]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new pw(new Float32Array(2),new Float32Array(2),1,cz),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?hd.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let f=null;if(i===void 0&&(o!==null?i=o.blendMode:i=Ug),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;f=l.knownActions[0],o===null&&(o=f._clip)}if(o===null)return null;const d=new lz(this,o,t,i);return this._bindAction(d,f),this._addInactiveAction(d,a,s),d}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?hd.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let f=0;f!==i;++f)t[f]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let f=0;f!==l;++f)a[f].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const f=o[a];this._deactivateAction(f);const d=f._cacheIndex,h=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,h._cacheIndex=d,t[d]=h,t.pop(),this._removeInactiveBindingsForAction(f)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class Sw{constructor(e){this.value=e}clone(){return new Sw(this.value.clone===void 0?this.value:this.value.clone())}}let fz=0;class dz extends Ss{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:fz++}),this.name="",this.usage=rd,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class hz extends jg{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class pz{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class h4{constructor(e,t,i=0,r=1/0){this.ray=new nu(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Ja,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return hx(e,this,i,t),i.sort(qM),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)hx(e[r],this,i,t);return i.sort(qM),i}}function qM(n,e){return n.distance-e.distance}function hx(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)hx(r[s],e,t,!0)}}class px{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Cn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class mz{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const KM=new ve;class gz{constructor(e=new ve(1/0,1/0),t=new ve(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=KM.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return KM.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const JM=new z,$p=new z;class vz{constructor(e=new z,t=new z){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){JM.subVectors(e,this.start),$p.subVectors(this.end,this.start);const i=$p.dot($p);let s=$p.dot(JM)/i;return t&&(s=Cn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const QM=new z;class yz extends bt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new _t,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const f=o/l*Math.PI*2,d=a/l*Math.PI*2;r.push(Math.cos(f),Math.sin(f),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new Xe(r,3));const s=new Ri({fog:!1,toneMapped:!1});this.cone=new bs(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),QM.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(QM),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Po=new z,Gp=new pt,gv=new pt;class xz extends bs{constructor(e){const t=p4(e),i=new _t,r=[],s=[],o=new Be(0,0,1),a=new Be(0,1,0);for(let f=0;f<t.length;f++){const d=t[f];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Xe(r,3)),i.setAttribute("color",new Xe(s,3));const l=new Ri({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");gv.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Gp.multiplyMatrices(gv,a.matrixWorld),Po.setFromMatrixPosition(Gp),r.setXYZ(o,Po.x,Po.y,Po.z),Gp.multiplyMatrices(gv,a.parent.matrixWorld),Po.setFromMatrixPosition(Gp),r.setXYZ(o+1,Po.x,Po.y,Po.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function p4(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,p4(n.children[t]));return e}class _z extends Yn{constructor(e,t,i){const r=new lu(t,4,2),s=new ca({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const wz=new z,e3=new Be,t3=new Be;class Sz extends bt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new au(t);r.rotateY(Math.PI*.5),this.material=new ca({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new jt(o,3)),this.add(new Yn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");e3.copy(this.light.color),t3.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?e3:t3;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(wz.setFromMatrixPosition(this.light.matrixWorld).negate())}}class bz extends bs{constructor(e=10,t=10,i=4473924,r=8947848){i=new Be(i),r=new Be(r);const s=t/2,o=e/t,a=e/2,l=[],f=[];for(let p=0,m=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const y=p===s?i:r;y.toArray(f,m),m+=3,y.toArray(f,m),m+=3,y.toArray(f,m),m+=3,y.toArray(f,m),m+=3}const d=new _t;d.setAttribute("position",new Xe(l,3)),d.setAttribute("color",new Xe(f,3));const h=new Ri({vertexColors:!0,toneMapped:!1});super(d,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Mz extends bs{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new Be(s),o=new Be(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const p=h/t*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const y=h&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let h=0;h<i;h++){const p=h&1?s:o,m=e-e/i*h;for(let v=0;v<r;v++){let y=v/r*(Math.PI*2),_=Math.sin(y)*m,x=Math.cos(y)*m;a.push(_,0,x),l.push(p.r,p.g,p.b),y=(v+1)/r*(Math.PI*2),_=Math.sin(y)*m,x=Math.cos(y)*m,a.push(_,0,x),l.push(p.r,p.g,p.b)}}const f=new _t;f.setAttribute("position",new Xe(a,3)),f.setAttribute("color",new Xe(l,3));const d=new Ri({vertexColors:!0,toneMapped:!1});super(f,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const n3=new z,jp=new z,i3=new z;class Ez extends bt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new _t;r.setAttribute("position",new Xe([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Ri({fog:!1,toneMapped:!1});this.lightPlane=new ea(r,s),this.add(this.lightPlane),r=new _t,r.setAttribute("position",new Xe([0,0,0,0,0,1],3)),this.targetLine=new ea(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),n3.setFromMatrixPosition(this.light.matrixWorld),jp.setFromMatrixPosition(this.light.target.matrixWorld),i3.subVectors(jp,n3),this.lightPlane.lookAt(jp),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(jp),this.targetLine.scale.z=i3.length()}}const Xp=new z,vn=new Ad;class Cz extends bs{constructor(e){const t=new _t,i=new Ri({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,y){l(v),l(y)}function l(v){r.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(r.length/3-1)}t.setAttribute("position",new Xe(r,3)),t.setAttribute("color",new Xe(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const f=new Be(16755200),d=new Be(16711680),h=new Be(43775),p=new Be(16777215),m=new Be(3355443);this.setColors(f,d,h,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;vn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Sn("c",t,e,vn,0,0,-1),Sn("t",t,e,vn,0,0,1),Sn("n1",t,e,vn,-i,-r,-1),Sn("n2",t,e,vn,i,-r,-1),Sn("n3",t,e,vn,-i,r,-1),Sn("n4",t,e,vn,i,r,-1),Sn("f1",t,e,vn,-i,-r,1),Sn("f2",t,e,vn,i,-r,1),Sn("f3",t,e,vn,-i,r,1),Sn("f4",t,e,vn,i,r,1),Sn("u1",t,e,vn,i*.7,r*1.1,-1),Sn("u2",t,e,vn,-i*.7,r*1.1,-1),Sn("u3",t,e,vn,0,r*2,-1),Sn("cf1",t,e,vn,-i,0,1),Sn("cf2",t,e,vn,i,0,1),Sn("cf3",t,e,vn,0,-r,1),Sn("cf4",t,e,vn,0,r,1),Sn("cn1",t,e,vn,-i,0,-1),Sn("cn2",t,e,vn,i,0,-1),Sn("cn3",t,e,vn,0,-r,-1),Sn("cn4",t,e,vn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Sn(n,e,t,i,r,s,o){Xp.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let f=0,d=a.length;f<d;f++)l.setXYZ(a[f],Xp.x,Xp.y,Xp.z)}}const Yp=new ml;class Tz extends bs{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new _t;s.setIndex(new jt(i,1)),s.setAttribute("position",new jt(r,3)),super(s,new Ri({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Yp.setFromObject(this.object),Yp.isEmpty())return;const t=Yp.min,i=Yp.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Az extends bs{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new _t;s.setIndex(new jt(i,1)),s.setAttribute("position",new Xe(r,3)),super(s,new Ri({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Pz extends ea{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new _t;o.setAttribute("position",new Xe(s,3)),o.computeBoundingSphere(),super(o,new Ri({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new _t;l.setAttribute("position",new Xe(a,3)),l.computeBoundingSphere(),this.add(new Yn(l,new ca({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const r3=new z;let Zp,vv;class Rz extends bt{constructor(e=new z(0,0,1),t=new z(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",Zp===void 0&&(Zp=new _t,Zp.setAttribute("position",new Xe([0,0,0,0,1,0],3)),vv=new vl(0,.5,1,5,1),vv.translate(0,-.5,0)),this.position.copy(t),this.line=new ea(Zp,new Ri({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Yn(vv,new ca({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{r3.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(r3,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Lz extends bs{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new _t;r.setAttribute("position",new Xe(t,3)),r.setAttribute("color",new Xe(i,3));const s=new Ri({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Be,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Iz{constructor(){this.type="ShapePath",this.color=new Be,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new ad,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const w=[];for(let b=0,M=x.length;b<M;b++){const T=x[b],A=new Qa;A.curves=T.curves,w.push(A)}return w}function i(x,w){const b=w.length;let M=!1;for(let T=b-1,A=0;A<b;T=A++){let L=w[T],C=w[A],k=C.x-L.x,D=C.y-L.y;if(Math.abs(D)>Number.EPSILON){if(D<0&&(L=w[A],k=-k,C=w[T],D=-D),x.y<L.y||x.y>C.y)continue;if(x.y===L.y){if(x.x===L.x)return!0}else{const O=D*(x.x-L.x)-k*(x.y-L.y);if(O===0)return!0;if(O<0)continue;M=!M}}else{if(x.y!==L.y)continue;if(C.x<=x.x&&x.x<=L.x||L.x<=x.x&&x.x<=C.x)return!0}}return M}const r=vs.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const f=[];if(s.length===1)return a=s[0],l=new Qa,l.curves=a.curves,f.push(l),f;let d=!r(s[0].getPoints());d=e?!d:d;const h=[],p=[];let m=[],v=0,y;p[v]=void 0,m[v]=[];for(let x=0,w=s.length;x<w;x++)a=s[x],y=a.getPoints(),o=r(y),o=e?!o:o,o?(!d&&p[v]&&v++,p[v]={s:new Qa,p:y},p[v].s.curves=a.curves,d&&v++,m[v]=[]):m[v].push({h:a,p:y[0]});if(!p[0])return t(s);if(p.length>1){let x=!1,w=0;for(let b=0,M=p.length;b<M;b++)h[b]=[];for(let b=0,M=p.length;b<M;b++){const T=m[b];for(let A=0;A<T.length;A++){const L=T[A];let C=!0;for(let k=0;k<p.length;k++)i(L.p,p[k].p)&&(b!==k&&w++,C?(C=!1,h[k].push(L)):x=!0);C&&h[b].push(L)}}w>0&&x===!1&&(m=h)}let _;for(let x=0,w=p.length;x<w;x++){l=p[x].s,f.push(l),_=m[x];for(let b=0,M=_.length;b<M;b++)l.holes.push(_[b].h)}return f}}const Gs=Dz();function Dz(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const f=l-127;f<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):f<-14?(i[l]=1024>>-f-14,i[l|256]=1024>>-f-14|32768,r[l]=-f-1,r[l|256]=-f-1):f<=15?(i[l]=f+15<<10,i[l|256]=f+15<<10|32768,r[l]=13,r[l|256]=13):f<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let f=l<<13,d=0;for(;!(f&8388608);)f<<=1,d-=8388608;f&=-8388609,d+=947912704,s[l]=f|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function kz(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Cn(n,-65504,65504),Gs.floatView[0]=n;const e=Gs.uint32View[0],t=e>>23&511;return Gs.baseTable[t]+((e&8388607)>>Gs.shiftTable[t])}function Oz(n){const e=n>>10;return Gs.uint32View[0]=Gs.mantissaTable[Gs.offsetTable[e]+(n&1023)]+Gs.exponentTable[e],Gs.floatView[0]}var Nz=Object.freeze({__proto__:null,toHalfFloat:kz,fromHalfFloat:Oz});function zz(){console.error("THREE.ImmediateRenderObject has been removed.")}class Fz extends Ir{constructor(e,t,i){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,i),this.samples=4}}class Bz extends Td{constructor(e,t,i,r){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,i,r)}}class Uz extends Hg{constructor(e,t,i,r){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,i,r)}}class Hz extends ua{constructor(e,t,i,r,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,i,r,s,o)}}class Vz extends Rd{constructor(e,t,i,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,i,r)}}class Wz extends Ld{constructor(e,t,i,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,i,r)}}class $z extends Id{constructor(e,t,i,r,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,i,r,s,o,a)}}class Gz extends vl{constructor(e,t,i,r,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,i,r,s,o,a,l)}}class jz extends Dd{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class Xz extends kd{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class Yz extends Od{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class Zz extends ou{constructor(e,t,i,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,i,r)}}class qz extends au{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class Kz extends ru{constructor(e,t,i,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,i,r)}}class Jz extends ho{constructor(e,t,i,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,i,r)}}class Qz extends Nd{constructor(e,t,i,r,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,i,r,s,o)}}class eF extends zd{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class tF extends lu{constructor(e,t,i,r,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,i,r,s,o,a)}}class nF extends Fd{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class iF extends Bd{constructor(e,t,i,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,i,r,s)}}class rF extends Ud{constructor(e,t,i,r,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,i,r,s,o)}}class sF extends Hd{constructor(e,t,i,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ng}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ng);const oF=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:V_,AddEquation:Oa,AddOperation:N5,AdditiveAnimationBlendMode:G_,AdditiveBlending:Iy,AlphaFormat:j5,AlwaysDepth:P5,AlwaysStencilFunc:lA,AmbientLight:o4,AmbientLightProbe:GN,AnimationClip:hd,AnimationLoader:IN,AnimationMixer:uz,AnimationObjectGroup:az,AnimationUtils:AN,ArcCurve:IA,ArrayCamera:bA,ArrowHelper:Rz,Audio:f4,AudioAnalyser:KN,AudioContext:yw,AudioListener:YN,AudioLoader:WN,AxesHelper:Lz,BackSide:tr,BasicDepthPacking:sA,BasicShadowMap:m5,Bone:tw,BooleanKeyframeTrack:yl,Box2:gz,Box3:ml,Box3Helper:Az,BoxBufferGeometry:Hz,BoxGeometry:ua,BoxHelper:Tz,BufferAttribute:jt,BufferGeometry:_t,BufferGeometryLoader:u4,ByteType:H5,Cache:ul,Camera:Ad,CameraHelper:Cz,CanvasTexture:J7,CapsuleBufferGeometry:Vz,CapsuleGeometry:Rd,CatmullRomCurve3:DA,CineonToneMapping:B5,CircleBufferGeometry:Wz,CircleGeometry:Ld,ClampToEdgeWrapping:di,Clock:xw,Color:Be,ColorKeyframeTrack:mw,ColorManagement:ci,CompressedArrayTexture:K7,CompressedTexture:rw,CompressedTextureLoader:DN,ConeBufferGeometry:$z,ConeGeometry:Id,CubeCamera:mA,CubeReflectionMapping:qo,CubeRefractionMapping:Ko,CubeTexture:Pd,CubeTextureLoader:kN,CubeUVReflectionMapping:tu,CubicBezierCurve:ow,CubicBezierCurve3:kA,CubicInterpolant:JA,CullFaceBack:Ly,CullFaceFront:p5,CullFaceFrontBack:tD,CullFaceNone:h5,Curve:Qr,CurvePath:NA,CustomBlending:g5,CustomToneMapping:U5,CylinderBufferGeometry:Gz,CylinderGeometry:vl,Cylindrical:mz,Data3DTexture:Hg,DataArrayTexture:Td,DataTexture:Ic,DataTexture2DArray:Bz,DataTexture3D:Uz,DataTextureLoader:ON,DataUtils:Nz,DecrementStencilOp:hD,DecrementWrapStencilOp:mD,DefaultLoadingManager:t4,DepthFormat:jo,DepthStencilFormat:al,DepthTexture:MA,DirectionalLight:s4,DirectionalLightHelper:Ez,DiscreteInterpolant:QA,DodecahedronBufferGeometry:jz,DodecahedronGeometry:Dd,DoubleSide:Fg,DstAlphaFactor:b5,DstColorFactor:E5,DynamicCopyUsage:RD,DynamicDrawUsage:MD,DynamicReadUsage:TD,EdgesGeometry:zA,EllipseCurve:Yg,EqualDepth:L5,EqualStencilFunc:xD,EquirectangularReflectionMapping:Kf,EquirectangularRefractionMapping:Jf,Euler:iu,EventDispatcher:Ss,ExtrudeBufferGeometry:Xz,ExtrudeGeometry:kd,FileLoader:oo,Float16BufferAttribute:uk,Float32BufferAttribute:Xe,Float64BufferAttribute:fk,FloatType:Zs,Fog:Gg,FogExp2:$g,FramebufferTexture:q7,FrontSide:Zo,Frustum:Vg,GLBufferAttribute:pz,GLSL1:ID,GLSL3:rx,GreaterDepth:D5,GreaterEqualDepth:I5,GreaterEqualStencilFunc:bD,GreaterStencilFunc:wD,GridHelper:bz,Group:wc,HalfFloatType:Vc,HemisphereLight:n4,HemisphereLightHelper:Sz,HemisphereLightProbe:$N,IcosahedronBufferGeometry:Yz,IcosahedronGeometry:Od,ImageBitmapLoader:VN,ImageLoader:pd,ImageUtils:X_,ImmediateRenderObject:zz,IncrementStencilOp:dD,IncrementWrapStencilOp:pD,InstancedBufferAttribute:jc,InstancedBufferGeometry:c4,InstancedInterleavedBuffer:hz,InstancedMesh:RA,Int16BufferAttribute:lk,Int32BufferAttribute:ck,Int8BufferAttribute:sk,IntType:W5,InterleavedBuffer:jg,InterleavedBufferAttribute:ll,Interpolant:Vd,InterpolateDiscrete:td,InterpolateLinear:nd,InterpolateSmooth:bm,InvertStencilOp:gD,KeepStencilOp:Mm,KeyframeTrack:es,LOD:AA,LatheBufferGeometry:Zz,LatheGeometry:ou,Layers:Ja,LessDepth:R5,LessEqualDepth:eg,LessEqualStencilFunc:_D,LessStencilFunc:yD,Light:fa,LightProbe:Kg,Line:ea,Line3:vz,LineBasicMaterial:Ri,LineCurve:Zg,LineCurve3:OA,LineDashedMaterial:qA,LineLoop:LA,LineSegments:bs,LinearEncoding:Qo,LinearFilter:En,LinearInterpolant:pw,LinearMipMapLinearFilter:sD,LinearMipMapNearestFilter:rD,LinearMipmapLinearFilter:Jo,LinearMipmapNearestFilter:W_,LinearSRGBColorSpace:Wc,LinearToneMapping:z5,Loader:ar,LoaderUtils:dx,LoadingManager:gw,LoopOnce:nA,LoopPingPong:rA,LoopRepeat:iA,LuminanceAlphaFormat:Z5,LuminanceFormat:Y5,MOUSE:Ia,Material:ei,MaterialLoader:Jg,MathUtils:uA,Matrix3:Ei,Matrix4:pt,MaxEquation:Ny,Mesh:Yn,MeshBasicMaterial:ca,MeshDepthMaterial:K_,MeshDistanceMaterial:J_,MeshLambertMaterial:YA,MeshMatcapMaterial:ZA,MeshNormalMaterial:XA,MeshPhongMaterial:GA,MeshPhysicalMaterial:$A,MeshStandardMaterial:fw,MeshToonMaterial:jA,MinEquation:Oy,MirroredRepeatWrapping:ed,MixOperation:O5,MultiplyBlending:ky,MultiplyOperation:Cd,NearestFilter:bn,NearestMipMapLinearFilter:iD,NearestMipMapNearestFilter:nD,NearestMipmapLinearFilter:Tf,NearestMipmapNearestFilter:tg,NeverDepth:A5,NeverStencilFunc:vD,NoBlending:Qs,NoColorSpace:cD,NoToneMapping:qr,NormalAnimationBlendMode:Ug,NormalBlending:Ya,NotEqualDepth:k5,NotEqualStencilFunc:SD,NumberKeyframeTrack:fd,Object3D:bt,ObjectLoader:UN,ObjectSpaceNormalMap:aA,OctahedronBufferGeometry:qz,OctahedronGeometry:au,OneFactor:_5,OneMinusDstAlphaFactor:M5,OneMinusDstColorFactor:C5,OneMinusSrcAlphaFactor:H_,OneMinusSrcColorFactor:S5,OrthographicCamera:Ks,PCFShadowMap:zg,PCFSoftShadowMap:Cf,PMREMGenerator:ox,Path:ad,PerspectiveCamera:xn,Plane:Ws,PlaneBufferGeometry:Kz,PlaneGeometry:ru,PlaneHelper:Pz,PointLight:r4,PointLightHelper:_z,Points:iw,PointsMaterial:nw,PolarGridHelper:Mz,PolyhedronBufferGeometry:Jz,PolyhedronGeometry:ho,PositionalAudio:qN,PropertyBinding:It,PropertyMixer:d4,QuadraticBezierCurve:aw,QuadraticBezierCurve3:lw,Quaternion:pi,QuaternionKeyframeTrack:cu,QuaternionLinearInterpolant:e4,REVISION:Ng,RGBADepthPacking:oA,RGBAFormat:Fi,RGBAIntegerFormat:eA,RGBA_ASTC_10x10_Format:ex,RGBA_ASTC_10x5_Format:Ky,RGBA_ASTC_10x6_Format:Jy,RGBA_ASTC_10x8_Format:Qy,RGBA_ASTC_12x10_Format:tx,RGBA_ASTC_12x12_Format:nx,RGBA_ASTC_4x4_Format:Wy,RGBA_ASTC_5x4_Format:$y,RGBA_ASTC_5x5_Format:Gy,RGBA_ASTC_6x5_Format:jy,RGBA_ASTC_6x6_Format:Xy,RGBA_ASTC_8x5_Format:Yy,RGBA_ASTC_8x6_Format:Zy,RGBA_ASTC_8x8_Format:qy,RGBA_BPTC_Format:ix,RGBA_ETC2_EAC_Format:Vy,RGBA_PVRTC_2BPPV1_Format:Uy,RGBA_PVRTC_4BPPV1_Format:By,RGBA_S3TC_DXT1_Format:_m,RGBA_S3TC_DXT3_Format:wm,RGBA_S3TC_DXT5_Format:Sm,RGBFormat:X5,RGB_ETC1_Format:tA,RGB_ETC2_Format:Hy,RGB_PVRTC_2BPPV1_Format:Fy,RGB_PVRTC_4BPPV1_Format:zy,RGB_S3TC_DXT1_Format:xm,RGFormat:J5,RGIntegerFormat:Q5,RawShaderMaterial:WA,Ray:nu,Raycaster:h4,RectAreaLight:a4,RedFormat:q5,RedIntegerFormat:K5,ReinhardToneMapping:F5,RepeatWrapping:Qf,ReplaceStencilOp:fD,ReverseSubtractEquation:y5,RingBufferGeometry:Qz,RingGeometry:Nd,SRGBColorSpace:Gr,Scene:Gc,ShaderChunk:xt,ShaderLib:Xr,ShaderMaterial:xs,ShadowMaterial:VA,Shape:Qa,ShapeBufferGeometry:eF,ShapeGeometry:zd,ShapePath:Iz,ShapeUtils:vs,ShortType:V5,Skeleton:Xg,SkeletonHelper:xz,SkinnedMesh:PA,Source:Wa,Sphere:gl,SphereBufferGeometry:tF,SphereGeometry:lu,Spherical:px,SphericalHarmonics3:l4,SplineCurve:cw,SpotLight:i4,SpotLightHelper:yz,Sprite:TA,SpriteMaterial:ew,SrcAlphaFactor:U_,SrcAlphaSaturateFactor:T5,SrcColorFactor:w5,StaticCopyUsage:PD,StaticDrawUsage:rd,StaticReadUsage:CD,StereoCamera:jN,StreamCopyUsage:LD,StreamDrawUsage:ED,StreamReadUsage:AD,StringKeyframeTrack:xl,SubtractEquation:v5,SubtractiveBlending:Dy,TOUCH:Da,TangentSpaceNormalMap:la,TetrahedronBufferGeometry:nF,TetrahedronGeometry:Fd,Texture:fn,TextureLoader:NN,TorusBufferGeometry:iF,TorusGeometry:Bd,TorusKnotBufferGeometry:rF,TorusKnotGeometry:Ud,Triangle:Er,TriangleFanDrawMode:lD,TriangleStripDrawMode:aD,TrianglesDrawMode:oD,TubeBufferGeometry:sF,TubeGeometry:Hd,TwoPassDoubleSide:pf,UVMapping:Bg,Uint16BufferAttribute:Y_,Uint32BufferAttribute:Z_,Uint8BufferAttribute:ok,Uint8ClampedBufferAttribute:ak,Uniform:Sw,UniformsGroup:dz,UniformsLib:Le,UniformsUtils:pA,UnsignedByteType:so,UnsignedInt248Type:Za,UnsignedIntType:zo,UnsignedShort4444Type:$5,UnsignedShort5551Type:G5,UnsignedShortType:$_,VSMShadowMap:Ua,Vector2:ve,Vector3:z,Vector4:Bt,VectorKeyframeTrack:dd,VideoTexture:Z7,WebGL1Renderer:EA,WebGL3DRenderTarget:ZD,WebGLArrayRenderTarget:YD,WebGLCubeRenderTarget:gA,WebGLMultipleRenderTargets:qD,WebGLMultisampleRenderTarget:Fz,WebGLRenderTarget:Ir,WebGLRenderer:Q_,WebGLUtils:SA,WireframeGeometry:HA,WrapAroundEnding:id,ZeroCurvatureEnding:Ha,ZeroFactor:x5,ZeroSlopeEnding:Va,ZeroStencilOp:uD,_SRGBAFormat:ng,sRGBEncoding:Yt},Symbol.toStringTag,{value:"Module"}));var m4={exports:{}},_l={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */_l.ConcurrentRoot=1;_l.ContinuousEventPriority=4;_l.DefaultEventPriority=16;_l.DiscreteEventPriority=1;_l.IdleEventPriority=536870912;_l.LegacyRoot=0;m4.exports=_l;var bc=m4.exports;function aF(n){let e;const t=new Set,i=(f,d)=>{const h=typeof f=="function"?f(e):f;if(h!==e){const p=e;e=d?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},r=()=>e,s=(f,d=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=d(e);function m(){const v=d(e);if(!h(p,v)){const y=p;f(p=v,y)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(f,d,h)=>d||h?s(f,d,h):(t.add(f),()=>t.delete(f)),destroy:()=>t.clear()};return e=n(i,r,l),l}const lF=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),s3=lF?R.useEffect:R.useLayoutEffect;function bw(n){const e=typeof n=="function"?aF(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=R.useReducer(_=>_+1,0),o=e.getState(),a=R.useRef(o),l=R.useRef(i),f=R.useRef(r),d=R.useRef(!1),h=R.useRef();h.current===void 0&&(h.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||f.current!==r||d.current)&&(p=i(o),m=!r(h.current,p)),s3(()=>{m&&(h.current=p),a.current=o,l.current=i,f.current=r,d.current=!1});const v=R.useRef(o);s3(()=>{const _=()=>{try{const w=e.getState(),b=l.current(w);f.current(h.current,b)||(a.current=w,h.current=b,s())}catch{d.current=!0,s()}},x=e.subscribe(_);return e.getState()!==v.current&&_(),x},[]);const y=m?p:h.current;return R.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var g4={exports:{}},v4={exports:{}},y4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,Y){var G=N.length;N.push(Y);e:for(;0<G;){var X=G-1>>>1,J=N[X];if(0<r(J,Y))N[X]=Y,N[G]=J,G=X;else break e}}function t(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var Y=N[0],G=N.pop();if(G!==Y){N[0]=G;e:for(var X=0,J=N.length,pe=J>>>1;X<pe;){var ye=2*(X+1)-1,be=N[ye],oe=ye+1,Ue=N[oe];if(0>r(be,G))oe<J&&0>r(Ue,be)?(N[X]=Ue,N[oe]=G,X=oe):(N[X]=be,N[ye]=G,X=ye);else if(oe<J&&0>r(Ue,G))N[X]=Ue,N[oe]=G,X=oe;else break e}}return Y}function r(N,Y){var G=N.sortIndex-Y.sortIndex;return G!==0?G:N.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],f=[],d=1,h=null,p=3,m=!1,v=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(N){for(var Y=t(f);Y!==null;){if(Y.callback===null)i(f);else if(Y.startTime<=N)i(f),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=t(f)}}function M(N){if(y=!1,b(N),!v)if(t(l)!==null)v=!0,te(T);else{var Y=t(f);Y!==null&&se(M,Y.startTime-N)}}function T(N,Y){v=!1,y&&(y=!1,x(C),C=-1),m=!0;var G=p;try{for(b(Y),h=t(l);h!==null&&(!(h.expirationTime>Y)||N&&!O());){var X=h.callback;if(typeof X=="function"){h.callback=null,p=h.priorityLevel;var J=X(h.expirationTime<=Y);Y=n.unstable_now(),typeof J=="function"?h.callback=J:h===t(l)&&i(l),b(Y)}else i(l);h=t(l)}if(h!==null)var pe=!0;else{var ye=t(f);ye!==null&&se(M,ye.startTime-Y),pe=!1}return pe}finally{h=null,p=G,m=!1}}var A=!1,L=null,C=-1,k=5,D=-1;function O(){return!(n.unstable_now()-D<k)}function $(){if(L!==null){var N=n.unstable_now();D=N;var Y=!0;try{Y=L(!0,N)}finally{Y?W():(A=!1,L=null)}}else A=!1}var W;if(typeof w=="function")W=function(){w($)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,q=H.port2;H.port1.onmessage=$,W=function(){q.postMessage(null)}}else W=function(){_($,0)};function te(N){L=N,A||(A=!0,W())}function se(N,Y){C=_(function(){N(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,te(T))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var G=p;p=Y;try{return N()}finally{p=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,Y){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var G=p;p=N;try{return Y()}finally{p=G}},n.unstable_scheduleCallback=function(N,Y,G){var X=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?X+G:X):G=X,N){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=G+J,N={id:d++,callback:Y,priorityLevel:N,startTime:G,expirationTime:J,sortIndex:-1},G>X?(N.sortIndex=G,e(f,N),t(l)===null&&N===t(f)&&(y?(x(C),C=-1):y=!0,se(M,G-X))):(N.sortIndex=J,e(l,N),v||m||(v=!0,te(T))),N},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(N){var Y=p;return function(){var G=p;p=Y;try{return N.apply(this,arguments)}finally{p=G}}}})(y4);v4.exports=y4;var mx=v4.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cF=function(e){var t={},i=R,r=mx,s=Object.assign;function o(c){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)u+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),f=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),T=Symbol.iterator;function A(c){return c===null||typeof c!="object"?null:(c=T&&c[T]||c["@@iterator"],typeof c=="function"?c:null)}function L(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case d:return"Fragment";case f:return"Portal";case p:return"Profiler";case h:return"StrictMode";case _:return"Suspense";case x:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case v:return(c.displayName||"Context")+".Consumer";case m:return(c._context.displayName||"Context")+".Provider";case y:var u=c.render;return c=c.displayName,c||(c=u.displayName||u.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case w:return u=c.displayName||null,u!==null?u:L(c.type)||"Memo";case b:u=c._payload,c=c._init;try{return L(c(u))}catch{}}return null}function C(c){var u=c.type;switch(c.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=u.render,c=c.displayName||c.name||"",u.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(u);case 8:return u===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function k(c){var u=c,g=c;if(c.alternate)for(;u.return;)u=u.return;else{c=u;do u=c,u.flags&4098&&(g=u.return),c=u.return;while(c)}return u.tag===3?g:null}function D(c){if(k(c)!==c)throw Error(o(188))}function O(c){var u=c.alternate;if(!u){if(u=k(c),u===null)throw Error(o(188));return u!==c?null:c}for(var g=c,S=u;;){var E=g.return;if(E===null)break;var P=E.alternate;if(P===null){if(S=E.return,S!==null){g=S;continue}break}if(E.child===P.child){for(P=E.child;P;){if(P===g)return D(E),c;if(P===S)return D(E),u;P=P.sibling}throw Error(o(188))}if(g.return!==S.return)g=E,S=P;else{for(var B=!1,K=E.child;K;){if(K===g){B=!0,g=E,S=P;break}if(K===S){B=!0,S=E,g=P;break}K=K.sibling}if(!B){for(K=P.child;K;){if(K===g){B=!0,g=P,S=E;break}if(K===S){B=!0,S=P,g=E;break}K=K.sibling}if(!B)throw Error(o(189))}}if(g.alternate!==S)throw Error(o(190))}if(g.tag!==3)throw Error(o(188));return g.stateNode.current===g?c:u}function $(c){return c=O(c),c!==null?W(c):null}function W(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var u=W(c);if(u!==null)return u;c=c.sibling}return null}function H(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var u=H(c);if(u!==null)return u}c=c.sibling}return null}var q=Array.isArray,te=e.getPublicInstance,se=e.getRootHostContext,N=e.getChildHostContext,Y=e.prepareForCommit,G=e.resetAfterCommit,X=e.createInstance,J=e.appendInitialChild,pe=e.finalizeInitialChildren,ye=e.prepareUpdate,be=e.shouldSetTextContent,oe=e.createTextInstance,Ue=e.scheduleTimeout,De=e.cancelTimeout,Ye=e.noTimeout,Pe=e.isPrimaryRenderer,Ze=e.supportsMutation,de=e.supportsPersistence,le=e.supportsHydration,Ee=e.getInstanceFromNode,ke=e.preparePortalMount,Ae=e.getCurrentEventPriority,st=e.detachDeletedInstance,qe=e.supportsMicrotasks,Ke=e.scheduleMicrotask,Mt=e.supportsTestSelectors,ht=e.findFiberRoot,U=e.getBoundingRect,I=e.getTextContent,Q=e.isHiddenSubtree,xe=e.matchAccessibilityRole,Se=e.setFocusIfFocusable,Te=e.setupIntersectionObserver,tt=e.appendChild,Re=e.appendChildToContainer,me=e.commitTextUpdate,je=e.commitMount,it=e.commitUpdate,Fe=e.insertBefore,Je=e.insertInContainerBefore,Ge=e.removeChild,Z=e.removeChildFromContainer,_e=e.resetTextContent,ze=e.hideInstance,j=e.hideTextInstance,ae=e.unhideInstance,we=e.unhideTextInstance,Ie=e.clearContainer,Qe=e.cloneInstance,Et=e.createContainerChildSet,zt=e.appendChildToContainerChildSet,Ht=e.finalizeContainerChildren,ti=e.replaceContainerChildren,Lt=e.cloneHiddenInstance,Un=e.cloneHiddenTextInstance,In=e.canHydrateInstance,Jd=e.canHydrateTextInstance,a0=e.canHydrateSuspenseInstance,Qd=e.isSuspenseInstancePending,yu=e.isSuspenseInstanceFallback,F=e.registerSuspenseInstanceRetry,ie=e.getNextHydratableSibling,he=e.getFirstHydratableChild,ne=e.getFirstHydratableChildWithinContainer,ge=e.getFirstHydratableChildWithinSuspenseInstance,rt=e.hydrateInstance,ut=e.hydrateTextInstance,gt=e.hydrateSuspenseInstance,wt=e.getNextHydratableInstanceAfterSuspenseInstance,Pt=e.commitHydratedContainer,Ct=e.commitHydratedSuspenseInstance,Tt=e.clearSuspenseBoundary,pn=e.clearSuspenseBoundaryFromContainer,vi=e.shouldDeleteUnhydratedTailInstances,Or=e.didNotMatchHydratedContainerTextInstance,Ms=e.didNotMatchHydratedTextInstance,Jt;function vt(c){if(Jt===void 0)try{throw Error()}catch(g){var u=g.stack.trim().match(/\n( *(at )?)/);Jt=u&&u[1]||""}return`
`+Jt+c}var da=!1;function mn(c,u){if(!c||da)return"";da=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Ce){var S=Ce}Reflect.construct(c,[],u)}else{try{u.call()}catch(Ce){S=Ce}c.call(u.prototype)}else{try{throw Error()}catch(Ce){S=Ce}c()}}catch(Ce){if(Ce&&S&&typeof Ce.stack=="string"){for(var E=Ce.stack.split(`
`),P=S.stack.split(`
`),B=E.length-1,K=P.length-1;1<=B&&0<=K&&E[B]!==P[K];)K--;for(;1<=B&&0<=K;B--,K--)if(E[B]!==P[K]){if(B!==1||K!==1)do if(B--,K--,0>K||E[B]!==P[K]){var ue=`
`+E[B].replace(" at new "," at ");return c.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",c.displayName)),ue}while(1<=B&&0<=K);break}}}finally{da=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?vt(c):""}var Es=Object.prototype.hasOwnProperty,Sl=[],lr=-1;function cr(c){return{current:c}}function mt(c){0>lr||(c.current=Sl[lr],Sl[lr]=null,lr--)}function Rt(c,u){lr++,Sl[lr]=c.current,c.current=u}var ur={},Ft=cr(ur),Hn=cr(!1),Cs=ur;function Ts(c,u){var g=c.type.contextTypes;if(!g)return ur;var S=c.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===u)return S.__reactInternalMemoizedMaskedChildContext;var E={},P;for(P in g)E[P]=u[P];return S&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=u,c.__reactInternalMemoizedMaskedChildContext=E),E}function Li(c){return c=c.childContextTypes,c!=null}function eh(){mt(Hn),mt(Ft)}function qw(c,u,g){if(Ft.current!==ur)throw Error(o(168));Rt(Ft,u),Rt(Hn,g)}function Kw(c,u,g){var S=c.stateNode;if(u=u.childContextTypes,typeof S.getChildContext!="function")return g;S=S.getChildContext();for(var E in S)if(!(E in u))throw Error(o(108,C(c)||"Unknown",E));return s({},g,S)}function th(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||ur,Cs=Ft.current,Rt(Ft,c),Rt(Hn,Hn.current),!0}function Jw(c,u,g){var S=c.stateNode;if(!S)throw Error(o(169));g?(c=Kw(c,u,Cs),S.__reactInternalMemoizedMergedChildContext=c,mt(Hn),mt(Ft),Rt(Ft,c)):mt(Hn),Rt(Hn,g)}var Nr=Math.clz32?Math.clz32:UR,FR=Math.log,BR=Math.LN2;function UR(c){return c>>>=0,c===0?32:31-(FR(c)/BR|0)|0}var nh=64,ih=4194304;function xu(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function rh(c,u){var g=c.pendingLanes;if(g===0)return 0;var S=0,E=c.suspendedLanes,P=c.pingedLanes,B=g&268435455;if(B!==0){var K=B&~E;K!==0?S=xu(K):(P&=B,P!==0&&(S=xu(P)))}else B=g&~E,B!==0?S=xu(B):P!==0&&(S=xu(P));if(S===0)return 0;if(u!==0&&u!==S&&!(u&E)&&(E=S&-S,P=u&-u,E>=P||E===16&&(P&4194240)!==0))return u;if(S&4&&(S|=g&16),u=c.entangledLanes,u!==0)for(c=c.entanglements,u&=S;0<u;)g=31-Nr(u),E=1<<g,S|=c[g],u&=~E;return S}function HR(c,u){switch(c){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VR(c,u){for(var g=c.suspendedLanes,S=c.pingedLanes,E=c.expirationTimes,P=c.pendingLanes;0<P;){var B=31-Nr(P),K=1<<B,ue=E[B];ue===-1?(!(K&g)||K&S)&&(E[B]=HR(K,u)):ue<=u&&(c.expiredLanes|=K),P&=~K}}function l0(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function c0(c){for(var u=[],g=0;31>g;g++)u.push(c);return u}function _u(c,u,g){c.pendingLanes|=u,u!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,u=31-Nr(u),c[u]=g}function WR(c,u){var g=c.pendingLanes&~u;c.pendingLanes=u,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=u,c.mutableReadLanes&=u,c.entangledLanes&=u,u=c.entanglements;var S=c.eventTimes;for(c=c.expirationTimes;0<g;){var E=31-Nr(g),P=1<<E;u[E]=0,S[E]=-1,c[E]=-1,g&=~P}}function u0(c,u){var g=c.entangledLanes|=u;for(c=c.entanglements;g;){var S=31-Nr(g),E=1<<S;E&u|c[S]&u&&(c[S]|=u),g&=~E}}var kt=0;function Qw(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var f0=r.unstable_scheduleCallback,e2=r.unstable_cancelCallback,$R=r.unstable_shouldYield,GR=r.unstable_requestPaint,Vn=r.unstable_now,d0=r.unstable_ImmediatePriority,jR=r.unstable_UserBlockingPriority,h0=r.unstable_NormalPriority,XR=r.unstable_IdlePriority,sh=null,ns=null;function YR(c){if(ns&&typeof ns.onCommitFiberRoot=="function")try{ns.onCommitFiberRoot(sh,c,void 0,(c.current.flags&128)===128)}catch{}}function ZR(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var is=typeof Object.is=="function"?Object.is:ZR,As=null,oh=!1,p0=!1;function t2(c){As===null?As=[c]:As.push(c)}function qR(c){oh=!0,t2(c)}function rs(){if(!p0&&As!==null){p0=!0;var c=0,u=kt;try{var g=As;for(kt=1;c<g.length;c++){var S=g[c];do S=S(!0);while(S!==null)}As=null,oh=!1}catch(E){throw As!==null&&(As=As.slice(c+1)),f0(d0,rs),E}finally{kt=u,p0=!1}}return null}var KR=a.ReactCurrentBatchConfig;function ah(c,u){if(is(c,u))return!0;if(typeof c!="object"||c===null||typeof u!="object"||u===null)return!1;var g=Object.keys(c),S=Object.keys(u);if(g.length!==S.length)return!1;for(S=0;S<g.length;S++){var E=g[S];if(!Es.call(u,E)||!is(c[E],u[E]))return!1}return!0}function JR(c){switch(c.tag){case 5:return vt(c.type);case 16:return vt("Lazy");case 13:return vt("Suspense");case 19:return vt("SuspenseList");case 0:case 2:case 15:return c=mn(c.type,!1),c;case 11:return c=mn(c.type.render,!1),c;case 1:return c=mn(c.type,!0),c;default:return""}}function zr(c,u){if(c&&c.defaultProps){u=s({},u),c=c.defaultProps;for(var g in c)u[g]===void 0&&(u[g]=c[g]);return u}return u}var lh=cr(null),ch=null,bl=null,m0=null;function g0(){m0=bl=ch=null}function n2(c,u,g){Pe?(Rt(lh,u._currentValue),u._currentValue=g):(Rt(lh,u._currentValue2),u._currentValue2=g)}function v0(c){var u=lh.current;mt(lh),Pe?c._currentValue=u:c._currentValue2=u}function y0(c,u,g){for(;c!==null;){var S=c.alternate;if((c.childLanes&u)!==u?(c.childLanes|=u,S!==null&&(S.childLanes|=u)):S!==null&&(S.childLanes&u)!==u&&(S.childLanes|=u),c===g)break;c=c.return}}function Ml(c,u){ch=c,m0=bl=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&u&&(ji=!0),c.firstContext=null)}function fr(c){var u=Pe?c._currentValue:c._currentValue2;if(m0!==c)if(c={context:c,memoizedValue:u,next:null},bl===null){if(ch===null)throw Error(o(308));bl=c,ch.dependencies={lanes:0,firstContext:c}}else bl=bl.next=c;return u}var ss=null,go=!1;function x0(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i2(c,u){c=c.updateQueue,u.updateQueue===c&&(u.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Ps(c,u){return{eventTime:c,lane:u,tag:0,payload:null,callback:null,next:null}}function vo(c,u){var g=c.updateQueue;g!==null&&(g=g.shared,An!==null&&c.mode&1&&!(St&2)?(c=g.interleaved,c===null?(u.next=u,ss===null?ss=[g]:ss.push(g)):(u.next=c.next,c.next=u),g.interleaved=u):(c=g.pending,c===null?u.next=u:(u.next=c.next,c.next=u),g.pending=u))}function uh(c,u,g){if(u=u.updateQueue,u!==null&&(u=u.shared,(g&4194240)!==0)){var S=u.lanes;S&=c.pendingLanes,g|=S,u.lanes=g,u0(c,g)}}function r2(c,u){var g=c.updateQueue,S=c.alternate;if(S!==null&&(S=S.updateQueue,g===S)){var E=null,P=null;if(g=g.firstBaseUpdate,g!==null){do{var B={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};P===null?E=P=B:P=P.next=B,g=g.next}while(g!==null);P===null?E=P=u:P=P.next=u}else E=P=u;g={baseState:S.baseState,firstBaseUpdate:E,lastBaseUpdate:P,shared:S.shared,effects:S.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=u:c.next=u,g.lastBaseUpdate=u}function fh(c,u,g,S){var E=c.updateQueue;go=!1;var P=E.firstBaseUpdate,B=E.lastBaseUpdate,K=E.shared.pending;if(K!==null){E.shared.pending=null;var ue=K,Ce=ue.next;ue.next=null,B===null?P=Ce:B.next=Ce,B=ue;var Ve=c.alternate;Ve!==null&&(Ve=Ve.updateQueue,K=Ve.lastBaseUpdate,K!==B&&(K===null?Ve.firstBaseUpdate=Ce:K.next=Ce,Ve.lastBaseUpdate=ue))}if(P!==null){var ft=E.baseState;B=0,Ve=Ce=ue=null,K=P;do{var ot=K.lane,$t=K.eventTime;if((S&ot)===ot){Ve!==null&&(Ve=Ve.next={eventTime:$t,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var nt=c,si=K;switch(ot=u,$t=g,si.tag){case 1:if(nt=si.payload,typeof nt=="function"){ft=nt.call($t,ft,ot);break e}ft=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=si.payload,ot=typeof nt=="function"?nt.call($t,ft,ot):nt,ot==null)break e;ft=s({},ft,ot);break e;case 2:go=!0}}K.callback!==null&&K.lane!==0&&(c.flags|=64,ot=E.effects,ot===null?E.effects=[K]:ot.push(K))}else $t={eventTime:$t,lane:ot,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Ve===null?(Ce=Ve=$t,ue=ft):Ve=Ve.next=$t,B|=ot;if(K=K.next,K===null){if(K=E.shared.pending,K===null)break;ot=K,K=ot.next,ot.next=null,E.lastBaseUpdate=ot,E.shared.pending=null}}while(1);if(Ve===null&&(ue=ft),E.baseState=ue,E.firstBaseUpdate=Ce,E.lastBaseUpdate=Ve,u=E.shared.interleaved,u!==null){E=u;do B|=E.lane,E=E.next;while(E!==u)}else P===null&&(E.shared.lanes=0);Dl|=B,c.lanes=B,c.memoizedState=ft}}function s2(c,u,g){if(c=u.effects,u.effects=null,c!==null)for(u=0;u<c.length;u++){var S=c[u],E=S.callback;if(E!==null){if(S.callback=null,S=g,typeof E!="function")throw Error(o(191,E));E.call(S)}}}var o2=new i.Component().refs;function _0(c,u,g,S){u=c.memoizedState,g=g(S,u),g=g==null?u:s({},u,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var dh={isMounted:function(c){return(c=c._reactInternals)?k(c)===c:!1},enqueueSetState:function(c,u,g){c=c._reactInternals;var S=xi(),E=_o(c),P=Ps(S,E);P.payload=u,g!=null&&(P.callback=g),vo(c,P),u=gr(c,E,S),u!==null&&uh(u,c,E)},enqueueReplaceState:function(c,u,g){c=c._reactInternals;var S=xi(),E=_o(c),P=Ps(S,E);P.tag=1,P.payload=u,g!=null&&(P.callback=g),vo(c,P),u=gr(c,E,S),u!==null&&uh(u,c,E)},enqueueForceUpdate:function(c,u){c=c._reactInternals;var g=xi(),S=_o(c),E=Ps(g,S);E.tag=2,u!=null&&(E.callback=u),vo(c,E),u=gr(c,S,g),u!==null&&uh(u,c,S)}};function a2(c,u,g,S,E,P,B){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(S,P,B):u.prototype&&u.prototype.isPureReactComponent?!ah(g,S)||!ah(E,P):!0}function l2(c,u,g){var S=!1,E=ur,P=u.contextType;return typeof P=="object"&&P!==null?P=fr(P):(E=Li(u)?Cs:Ft.current,S=u.contextTypes,P=(S=S!=null)?Ts(c,E):ur),u=new u(g,P),c.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=dh,c.stateNode=u,u._reactInternals=c,S&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=E,c.__reactInternalMemoizedMaskedChildContext=P),u}function c2(c,u,g,S){c=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(g,S),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(g,S),u.state!==c&&dh.enqueueReplaceState(u,u.state,null)}function w0(c,u,g,S){var E=c.stateNode;E.props=g,E.state=c.memoizedState,E.refs=o2,x0(c);var P=u.contextType;typeof P=="object"&&P!==null?E.context=fr(P):(P=Li(u)?Cs:Ft.current,E.context=Ts(c,P)),E.state=c.memoizedState,P=u.getDerivedStateFromProps,typeof P=="function"&&(_0(c,u,P,g),E.state=c.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(u=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),u!==E.state&&dh.enqueueReplaceState(E,E.state,null),fh(c,g,E,S),E.state=c.memoizedState),typeof E.componentDidMount=="function"&&(c.flags|=4194308)}var El=[],Cl=0,hh=null,ph=0,dr=[],hr=0,ha=null,Rs=1,Ls="";function pa(c,u){El[Cl++]=ph,El[Cl++]=hh,hh=c,ph=u}function u2(c,u,g){dr[hr++]=Rs,dr[hr++]=Ls,dr[hr++]=ha,ha=c;var S=Rs;c=Ls;var E=32-Nr(S)-1;S&=~(1<<E),g+=1;var P=32-Nr(u)+E;if(30<P){var B=E-E%5;P=(S&(1<<B)-1).toString(32),S>>=B,E-=B,Rs=1<<32-Nr(u)+E|g<<E|S,Ls=P+c}else Rs=1<<P|g<<E|S,Ls=c}function S0(c){c.return!==null&&(pa(c,1),u2(c,1,0))}function b0(c){for(;c===hh;)hh=El[--Cl],El[Cl]=null,ph=El[--Cl],El[Cl]=null;for(;c===ha;)ha=dr[--hr],dr[hr]=null,Ls=dr[--hr],dr[hr]=null,Rs=dr[--hr],dr[hr]=null}var $i=null,Gi=null,Qt=!1,wu=!1,Fr=null;function f2(c,u){var g=vr(5,null,null,0);g.elementType="DELETED",g.stateNode=u,g.return=c,u=c.deletions,u===null?(c.deletions=[g],c.flags|=16):u.push(g)}function d2(c,u){switch(c.tag){case 5:return u=In(u,c.type,c.pendingProps),u!==null?(c.stateNode=u,$i=c,Gi=he(u),!0):!1;case 6:return u=Jd(u,c.pendingProps),u!==null?(c.stateNode=u,$i=c,Gi=null,!0):!1;case 13:if(u=a0(u),u!==null){var g=ha!==null?{id:Rs,overflow:Ls}:null;return c.memoizedState={dehydrated:u,treeContext:g,retryLane:1073741824},g=vr(18,null,null,0),g.stateNode=u,g.return=c,c.child=g,$i=c,Gi=null,!0}return!1;default:return!1}}function M0(c){return(c.mode&1)!==0&&(c.flags&128)===0}function E0(c){if(Qt){var u=Gi;if(u){var g=u;if(!d2(c,u)){if(M0(c))throw Error(o(418));u=ie(g);var S=$i;u&&d2(c,u)?f2(S,g):(c.flags=c.flags&-4097|2,Qt=!1,$i=c)}}else{if(M0(c))throw Error(o(418));c.flags=c.flags&-4097|2,Qt=!1,$i=c}}}function h2(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;$i=c}function Su(c){if(!le||c!==$i)return!1;if(!Qt)return h2(c),Qt=!0,!1;if(c.tag!==3&&(c.tag!==5||vi(c.type)&&!be(c.type,c.memoizedProps))){var u=Gi;if(u){if(M0(c)){for(c=Gi;c;)c=ie(c);throw Error(o(418))}for(;u;)f2(c,u),u=ie(u)}}if(h2(c),c.tag===13){if(!le)throw Error(o(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));Gi=wt(c)}else Gi=$i?ie(c.stateNode):null;return!0}function Tl(){le&&(Gi=$i=null,wu=Qt=!1)}function C0(c){Fr===null?Fr=[c]:Fr.push(c)}function bu(c,u,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(o(309));var S=g.stateNode}if(!S)throw Error(o(147,c));var E=S,P=""+c;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===P?u.ref:(u=function(B){var K=E.refs;K===o2&&(K=E.refs={}),B===null?delete K[P]:K[P]=B},u._stringRef=P,u)}if(typeof c!="string")throw Error(o(284));if(!g._owner)throw Error(o(290,c))}return c}function mh(c,u){throw c=Object.prototype.toString.call(u),Error(o(31,c==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":c))}function p2(c){var u=c._init;return u(c._payload)}function m2(c){function u(re,ee){if(c){var ce=re.deletions;ce===null?(re.deletions=[ee],re.flags|=16):ce.push(ee)}}function g(re,ee){if(!c)return null;for(;ee!==null;)u(re,ee),ee=ee.sibling;return null}function S(re,ee){for(re=new Map;ee!==null;)ee.key!==null?re.set(ee.key,ee):re.set(ee.index,ee),ee=ee.sibling;return re}function E(re,ee){return re=So(re,ee),re.index=0,re.sibling=null,re}function P(re,ee,ce){return re.index=ce,c?(ce=re.alternate,ce!==null?(ce=ce.index,ce<ee?(re.flags|=2,ee):ce):(re.flags|=2,ee)):(re.flags|=1048576,ee)}function B(re){return c&&re.alternate===null&&(re.flags|=2),re}function K(re,ee,ce,Ne){return ee===null||ee.tag!==6?(ee=c1(ce,re.mode,Ne),ee.return=re,ee):(ee=E(ee,ce),ee.return=re,ee)}function ue(re,ee,ce,Ne){var et=ce.type;return et===d?Ve(re,ee,ce.props.children,Ne,ce.key):ee!==null&&(ee.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===b&&p2(et)===ee.type)?(Ne=E(ee,ce.props),Ne.ref=bu(re,ee,ce),Ne.return=re,Ne):(Ne=jh(ce.type,ce.key,ce.props,null,re.mode,Ne),Ne.ref=bu(re,ee,ce),Ne.return=re,Ne)}function Ce(re,ee,ce,Ne){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ce.containerInfo||ee.stateNode.implementation!==ce.implementation?(ee=u1(ce,re.mode,Ne),ee.return=re,ee):(ee=E(ee,ce.children||[]),ee.return=re,ee)}function Ve(re,ee,ce,Ne,et){return ee===null||ee.tag!==7?(ee=wa(ce,re.mode,Ne,et),ee.return=re,ee):(ee=E(ee,ce),ee.return=re,ee)}function ft(re,ee,ce){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=c1(""+ee,re.mode,ce),ee.return=re,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case l:return ce=jh(ee.type,ee.key,ee.props,null,re.mode,ce),ce.ref=bu(re,null,ee),ce.return=re,ce;case f:return ee=u1(ee,re.mode,ce),ee.return=re,ee;case b:var Ne=ee._init;return ft(re,Ne(ee._payload),ce)}if(q(ee)||A(ee))return ee=wa(ee,re.mode,ce,null),ee.return=re,ee;mh(re,ee)}return null}function ot(re,ee,ce,Ne){var et=ee!==null?ee.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return et!==null?null:K(re,ee,""+ce,Ne);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:return ce.key===et?ue(re,ee,ce,Ne):null;case f:return ce.key===et?Ce(re,ee,ce,Ne):null;case b:return et=ce._init,ot(re,ee,et(ce._payload),Ne)}if(q(ce)||A(ce))return et!==null?null:Ve(re,ee,ce,Ne,null);mh(re,ce)}return null}function $t(re,ee,ce,Ne,et){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return re=re.get(ce)||null,K(ee,re,""+Ne,et);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case l:return re=re.get(Ne.key===null?ce:Ne.key)||null,ue(ee,re,Ne,et);case f:return re=re.get(Ne.key===null?ce:Ne.key)||null,Ce(ee,re,Ne,et);case b:var yt=Ne._init;return $t(re,ee,ce,yt(Ne._payload),et)}if(q(Ne)||A(Ne))return re=re.get(ce)||null,Ve(ee,re,Ne,et,null);mh(ee,Ne)}return null}function nt(re,ee,ce,Ne){for(var et=null,yt=null,dt=ee,Ot=ee=0,$n=null;dt!==null&&Ot<ce.length;Ot++){dt.index>Ot?($n=dt,dt=null):$n=dt.sibling;var Nt=ot(re,dt,ce[Ot],Ne);if(Nt===null){dt===null&&(dt=$n);break}c&&dt&&Nt.alternate===null&&u(re,dt),ee=P(Nt,ee,Ot),yt===null?et=Nt:yt.sibling=Nt,yt=Nt,dt=$n}if(Ot===ce.length)return g(re,dt),Qt&&pa(re,Ot),et;if(dt===null){for(;Ot<ce.length;Ot++)dt=ft(re,ce[Ot],Ne),dt!==null&&(ee=P(dt,ee,Ot),yt===null?et=dt:yt.sibling=dt,yt=dt);return Qt&&pa(re,Ot),et}for(dt=S(re,dt);Ot<ce.length;Ot++)$n=$t(dt,re,Ot,ce[Ot],Ne),$n!==null&&(c&&$n.alternate!==null&&dt.delete($n.key===null?Ot:$n.key),ee=P($n,ee,Ot),yt===null?et=$n:yt.sibling=$n,yt=$n);return c&&dt.forEach(function(bo){return u(re,bo)}),Qt&&pa(re,Ot),et}function si(re,ee,ce,Ne){var et=A(ce);if(typeof et!="function")throw Error(o(150));if(ce=et.call(ce),ce==null)throw Error(o(151));for(var yt=et=null,dt=ee,Ot=ee=0,$n=null,Nt=ce.next();dt!==null&&!Nt.done;Ot++,Nt=ce.next()){dt.index>Ot?($n=dt,dt=null):$n=dt.sibling;var bo=ot(re,dt,Nt.value,Ne);if(bo===null){dt===null&&(dt=$n);break}c&&dt&&bo.alternate===null&&u(re,dt),ee=P(bo,ee,Ot),yt===null?et=bo:yt.sibling=bo,yt=bo,dt=$n}if(Nt.done)return g(re,dt),Qt&&pa(re,Ot),et;if(dt===null){for(;!Nt.done;Ot++,Nt=ce.next())Nt=ft(re,Nt.value,Ne),Nt!==null&&(ee=P(Nt,ee,Ot),yt===null?et=Nt:yt.sibling=Nt,yt=Nt);return Qt&&pa(re,Ot),et}for(dt=S(re,dt);!Nt.done;Ot++,Nt=ce.next())Nt=$t(dt,re,Ot,Nt.value,Ne),Nt!==null&&(c&&Nt.alternate!==null&&dt.delete(Nt.key===null?Ot:Nt.key),ee=P(Nt,ee,Ot),yt===null?et=Nt:yt.sibling=Nt,yt=Nt);return c&&dt.forEach(function(AL){return u(re,AL)}),Qt&&pa(re,Ot),et}function yr(re,ee,ce,Ne){if(typeof ce=="object"&&ce!==null&&ce.type===d&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:e:{for(var et=ce.key,yt=ee;yt!==null;){if(yt.key===et){if(et=ce.type,et===d){if(yt.tag===7){g(re,yt.sibling),ee=E(yt,ce.props.children),ee.return=re,re=ee;break e}}else if(yt.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===b&&p2(et)===yt.type){g(re,yt.sibling),ee=E(yt,ce.props),ee.ref=bu(re,yt,ce),ee.return=re,re=ee;break e}g(re,yt);break}else u(re,yt);yt=yt.sibling}ce.type===d?(ee=wa(ce.props.children,re.mode,Ne,ce.key),ee.return=re,re=ee):(Ne=jh(ce.type,ce.key,ce.props,null,re.mode,Ne),Ne.ref=bu(re,ee,ce),Ne.return=re,re=Ne)}return B(re);case f:e:{for(yt=ce.key;ee!==null;){if(ee.key===yt)if(ee.tag===4&&ee.stateNode.containerInfo===ce.containerInfo&&ee.stateNode.implementation===ce.implementation){g(re,ee.sibling),ee=E(ee,ce.children||[]),ee.return=re,re=ee;break e}else{g(re,ee);break}else u(re,ee);ee=ee.sibling}ee=u1(ce,re.mode,Ne),ee.return=re,re=ee}return B(re);case b:return yt=ce._init,yr(re,ee,yt(ce._payload),Ne)}if(q(ce))return nt(re,ee,ce,Ne);if(A(ce))return si(re,ee,ce,Ne);mh(re,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,ee!==null&&ee.tag===6?(g(re,ee.sibling),ee=E(ee,ce),ee.return=re,re=ee):(g(re,ee),ee=c1(ce,re.mode,Ne),ee.return=re,re=ee),B(re)):g(re,ee)}return yr}var Al=m2(!0),g2=m2(!1),Mu={},pr=cr(Mu),Eu=cr(Mu),Pl=cr(Mu);function os(c){if(c===Mu)throw Error(o(174));return c}function T0(c,u){Rt(Pl,u),Rt(Eu,c),Rt(pr,Mu),c=se(u),mt(pr),Rt(pr,c)}function Rl(){mt(pr),mt(Eu),mt(Pl)}function v2(c){var u=os(Pl.current),g=os(pr.current);u=N(g,c.type,u),g!==u&&(Rt(Eu,c),Rt(pr,u))}function A0(c){Eu.current===c&&(mt(pr),mt(Eu))}var rn=cr(0);function gh(c){for(var u=c;u!==null;){if(u.tag===13){var g=u.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||Qd(g)||yu(g)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var P0=[];function R0(){for(var c=0;c<P0.length;c++){var u=P0[c];Pe?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}P0.length=0}var vh=a.ReactCurrentDispatcher,mr=a.ReactCurrentBatchConfig,Ll=0,gn=null,ni=null,Wn=null,yh=!1,Cu=!1,Tu=0,QR=0;function ii(){throw Error(o(321))}function L0(c,u){if(u===null)return!1;for(var g=0;g<u.length&&g<c.length;g++)if(!is(c[g],u[g]))return!1;return!0}function I0(c,u,g,S,E,P){if(Ll=P,gn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,vh.current=c===null||c.memoizedState===null?iL:rL,c=g(S,E),Cu){P=0;do{if(Cu=!1,Tu=0,25<=P)throw Error(o(301));P+=1,Wn=ni=null,u.updateQueue=null,vh.current=sL,c=g(S,E)}while(Cu)}if(vh.current=bh,u=ni!==null&&ni.next!==null,Ll=0,Wn=ni=gn=null,yh=!1,u)throw Error(o(300));return c}function D0(){var c=Tu!==0;return Tu=0,c}function Is(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?gn.memoizedState=Wn=c:Wn=Wn.next=c,Wn}function as(){if(ni===null){var c=gn.alternate;c=c!==null?c.memoizedState:null}else c=ni.next;var u=Wn===null?gn.memoizedState:Wn.next;if(u!==null)Wn=u,ni=c;else{if(c===null)throw Error(o(310));ni=c,c={memoizedState:ni.memoizedState,baseState:ni.baseState,baseQueue:ni.baseQueue,queue:ni.queue,next:null},Wn===null?gn.memoizedState=Wn=c:Wn=Wn.next=c}return Wn}function ma(c,u){return typeof u=="function"?u(c):u}function xh(c){var u=as(),g=u.queue;if(g===null)throw Error(o(311));g.lastRenderedReducer=c;var S=ni,E=S.baseQueue,P=g.pending;if(P!==null){if(E!==null){var B=E.next;E.next=P.next,P.next=B}S.baseQueue=E=P,g.pending=null}if(E!==null){P=E.next,S=S.baseState;var K=B=null,ue=null,Ce=P;do{var Ve=Ce.lane;if((Ll&Ve)===Ve)ue!==null&&(ue=ue.next={lane:0,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),S=Ce.hasEagerState?Ce.eagerState:c(S,Ce.action);else{var ft={lane:Ve,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null};ue===null?(K=ue=ft,B=S):ue=ue.next=ft,gn.lanes|=Ve,Dl|=Ve}Ce=Ce.next}while(Ce!==null&&Ce!==P);ue===null?B=S:ue.next=K,is(S,u.memoizedState)||(ji=!0),u.memoizedState=S,u.baseState=B,u.baseQueue=ue,g.lastRenderedState=S}if(c=g.interleaved,c!==null){E=c;do P=E.lane,gn.lanes|=P,Dl|=P,E=E.next;while(E!==c)}else E===null&&(g.lanes=0);return[u.memoizedState,g.dispatch]}function _h(c){var u=as(),g=u.queue;if(g===null)throw Error(o(311));g.lastRenderedReducer=c;var S=g.dispatch,E=g.pending,P=u.memoizedState;if(E!==null){g.pending=null;var B=E=E.next;do P=c(P,B.action),B=B.next;while(B!==E);is(P,u.memoizedState)||(ji=!0),u.memoizedState=P,u.baseQueue===null&&(u.baseState=P),g.lastRenderedState=P}return[P,S]}function y2(){}function x2(c,u){var g=gn,S=as(),E=u(),P=!is(S.memoizedState,E);if(P&&(S.memoizedState=E,ji=!0),S=S.queue,Pu(S2.bind(null,g,S,c),[c]),S.getSnapshot!==u||P||Wn!==null&&Wn.memoizedState.tag&1){if(g.flags|=2048,Au(9,w2.bind(null,g,S,E,u),void 0,null),An===null)throw Error(o(349));Ll&30||_2(g,u,E)}return E}function _2(c,u,g){c.flags|=16384,c={getSnapshot:u,value:g},u=gn.updateQueue,u===null?(u={lastEffect:null,stores:null},gn.updateQueue=u,u.stores=[c]):(g=u.stores,g===null?u.stores=[c]:g.push(c))}function w2(c,u,g,S){u.value=g,u.getSnapshot=S,b2(u)&&gr(c,1,-1)}function S2(c,u,g){return g(function(){b2(u)&&gr(c,1,-1)})}function b2(c){var u=c.getSnapshot;c=c.value;try{var g=u();return!is(c,g)}catch{return!0}}function k0(c){var u=Is();return typeof c=="function"&&(c=c()),u.memoizedState=u.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:c},u.queue=c,c=c.dispatch=nL.bind(null,gn,c),[u.memoizedState,c]}function Au(c,u,g,S){return c={tag:c,create:u,destroy:g,deps:S,next:null},u=gn.updateQueue,u===null?(u={lastEffect:null,stores:null},gn.updateQueue=u,u.lastEffect=c.next=c):(g=u.lastEffect,g===null?u.lastEffect=c.next=c:(S=g.next,g.next=c,c.next=S,u.lastEffect=c)),c}function M2(){return as().memoizedState}function wh(c,u,g,S){var E=Is();gn.flags|=c,E.memoizedState=Au(1|u,g,void 0,S===void 0?null:S)}function Sh(c,u,g,S){var E=as();S=S===void 0?null:S;var P=void 0;if(ni!==null){var B=ni.memoizedState;if(P=B.destroy,S!==null&&L0(S,B.deps)){E.memoizedState=Au(u,g,P,S);return}}gn.flags|=c,E.memoizedState=Au(1|u,g,P,S)}function O0(c,u){return wh(8390656,8,c,u)}function Pu(c,u){return Sh(2048,8,c,u)}function E2(c,u){return Sh(4,2,c,u)}function C2(c,u){return Sh(4,4,c,u)}function T2(c,u){if(typeof u=="function")return c=c(),u(c),function(){u(null)};if(u!=null)return c=c(),u.current=c,function(){u.current=null}}function A2(c,u,g){return g=g!=null?g.concat([c]):null,Sh(4,4,T2.bind(null,u,c),g)}function N0(){}function P2(c,u){var g=as();u=u===void 0?null:u;var S=g.memoizedState;return S!==null&&u!==null&&L0(u,S[1])?S[0]:(g.memoizedState=[c,u],c)}function R2(c,u){var g=as();u=u===void 0?null:u;var S=g.memoizedState;return S!==null&&u!==null&&L0(u,S[1])?S[0]:(c=c(),g.memoizedState=[c,u],c)}function eL(c,u){var g=kt;kt=g!==0&&4>g?g:4,c(!0);var S=mr.transition;mr.transition={};try{c(!1),u()}finally{kt=g,mr.transition=S}}function L2(){return as().memoizedState}function tL(c,u,g){var S=_o(c);g={lane:S,action:g,hasEagerState:!1,eagerState:null,next:null},I2(c)?D2(u,g):(k2(c,u,g),g=xi(),c=gr(c,S,g),c!==null&&O2(c,u,S))}function nL(c,u,g){var S=_o(c),E={lane:S,action:g,hasEagerState:!1,eagerState:null,next:null};if(I2(c))D2(u,E);else{k2(c,u,E);var P=c.alternate;if(c.lanes===0&&(P===null||P.lanes===0)&&(P=u.lastRenderedReducer,P!==null))try{var B=u.lastRenderedState,K=P(B,g);if(E.hasEagerState=!0,E.eagerState=K,is(K,B))return}catch{}finally{}g=xi(),c=gr(c,S,g),c!==null&&O2(c,u,S)}}function I2(c){var u=c.alternate;return c===gn||u!==null&&u===gn}function D2(c,u){Cu=yh=!0;var g=c.pending;g===null?u.next=u:(u.next=g.next,g.next=u),c.pending=u}function k2(c,u,g){An!==null&&c.mode&1&&!(St&2)?(c=u.interleaved,c===null?(g.next=g,ss===null?ss=[u]:ss.push(u)):(g.next=c.next,c.next=g),u.interleaved=g):(c=u.pending,c===null?g.next=g:(g.next=c.next,c.next=g),u.pending=g)}function O2(c,u,g){if(g&4194240){var S=u.lanes;S&=c.pendingLanes,g|=S,u.lanes=g,u0(c,g)}}var bh={readContext:fr,useCallback:ii,useContext:ii,useEffect:ii,useImperativeHandle:ii,useInsertionEffect:ii,useLayoutEffect:ii,useMemo:ii,useReducer:ii,useRef:ii,useState:ii,useDebugValue:ii,useDeferredValue:ii,useTransition:ii,useMutableSource:ii,useSyncExternalStore:ii,useId:ii,unstable_isNewReconciler:!1},iL={readContext:fr,useCallback:function(c,u){return Is().memoizedState=[c,u===void 0?null:u],c},useContext:fr,useEffect:O0,useImperativeHandle:function(c,u,g){return g=g!=null?g.concat([c]):null,wh(4194308,4,T2.bind(null,u,c),g)},useLayoutEffect:function(c,u){return wh(4194308,4,c,u)},useInsertionEffect:function(c,u){return wh(4,2,c,u)},useMemo:function(c,u){var g=Is();return u=u===void 0?null:u,c=c(),g.memoizedState=[c,u],c},useReducer:function(c,u,g){var S=Is();return u=g!==void 0?g(u):u,S.memoizedState=S.baseState=u,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:u},S.queue=c,c=c.dispatch=tL.bind(null,gn,c),[S.memoizedState,c]},useRef:function(c){var u=Is();return c={current:c},u.memoizedState=c},useState:k0,useDebugValue:N0,useDeferredValue:function(c){var u=k0(c),g=u[0],S=u[1];return O0(function(){var E=mr.transition;mr.transition={};try{S(c)}finally{mr.transition=E}},[c]),g},useTransition:function(){var c=k0(!1),u=c[0];return c=eL.bind(null,c[1]),Is().memoizedState=c,[u,c]},useMutableSource:function(){},useSyncExternalStore:function(c,u,g){var S=gn,E=Is();if(Qt){if(g===void 0)throw Error(o(407));g=g()}else{if(g=u(),An===null)throw Error(o(349));Ll&30||_2(S,u,g)}E.memoizedState=g;var P={value:g,getSnapshot:u};return E.queue=P,O0(S2.bind(null,S,P,c),[c]),S.flags|=2048,Au(9,w2.bind(null,S,P,g,u),void 0,null),g},useId:function(){var c=Is(),u=An.identifierPrefix;if(Qt){var g=Ls,S=Rs;g=(S&~(1<<32-Nr(S)-1)).toString(32)+g,u=":"+u+"R"+g,g=Tu++,0<g&&(u+="H"+g.toString(32)),u+=":"}else g=QR++,u=":"+u+"r"+g.toString(32)+":";return c.memoizedState=u},unstable_isNewReconciler:!1},rL={readContext:fr,useCallback:P2,useContext:fr,useEffect:Pu,useImperativeHandle:A2,useInsertionEffect:E2,useLayoutEffect:C2,useMemo:R2,useReducer:xh,useRef:M2,useState:function(){return xh(ma)},useDebugValue:N0,useDeferredValue:function(c){var u=xh(ma),g=u[0],S=u[1];return Pu(function(){var E=mr.transition;mr.transition={};try{S(c)}finally{mr.transition=E}},[c]),g},useTransition:function(){var c=xh(ma)[0],u=as().memoizedState;return[c,u]},useMutableSource:y2,useSyncExternalStore:x2,useId:L2,unstable_isNewReconciler:!1},sL={readContext:fr,useCallback:P2,useContext:fr,useEffect:Pu,useImperativeHandle:A2,useInsertionEffect:E2,useLayoutEffect:C2,useMemo:R2,useReducer:_h,useRef:M2,useState:function(){return _h(ma)},useDebugValue:N0,useDeferredValue:function(c){var u=_h(ma),g=u[0],S=u[1];return Pu(function(){var E=mr.transition;mr.transition={};try{S(c)}finally{mr.transition=E}},[c]),g},useTransition:function(){var c=_h(ma)[0],u=as().memoizedState;return[c,u]},useMutableSource:y2,useSyncExternalStore:x2,useId:L2,unstable_isNewReconciler:!1};function z0(c,u){try{var g="",S=u;do g+=JR(S),S=S.return;while(S);var E=g}catch(P){E=`
Error generating stack: `+P.message+`
`+P.stack}return{value:c,source:u,stack:E}}function F0(c,u){try{console.error(u.value)}catch(g){setTimeout(function(){throw g})}}var oL=typeof WeakMap=="function"?WeakMap:Map;function N2(c,u,g){g=Ps(-1,g),g.tag=3,g.payload={element:null};var S=u.value;return g.callback=function(){Bh||(Bh=!0,n1=S),F0(c,u)},g}function z2(c,u,g){g=Ps(-1,g),g.tag=3;var S=c.type.getDerivedStateFromError;if(typeof S=="function"){var E=u.value;g.payload=function(){return S(E)},g.callback=function(){F0(c,u)}}var P=c.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(g.callback=function(){F0(c,u),typeof S!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var B=u.stack;this.componentDidCatch(u.value,{componentStack:B!==null?B:""})}),g}function F2(c,u,g){var S=c.pingCache;if(S===null){S=c.pingCache=new oL;var E=new Set;S.set(u,E)}else E=S.get(u),E===void 0&&(E=new Set,S.set(u,E));E.has(g)||(E.add(g),c=_L.bind(null,c,u,g),u.then(c,c))}function B2(c){do{var u;if((u=c.tag===13)&&(u=c.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return c;c=c.return}while(c!==null);return null}function U2(c,u,g,S,E){return c.mode&1?(c.flags|=65536,c.lanes=E,c):(c===u?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(u=Ps(-1,1),u.tag=2,vo(g,u))),g.lanes|=1),c)}function ls(c){c.flags|=4}function H2(c,u){if(c!==null&&c.child===u.child)return!0;if(u.flags&16)return!1;for(c=u.child;c!==null;){if(c.flags&12854||c.subtreeFlags&12854)return!1;c=c.sibling}return!0}var Ru,Lu,Mh,Eh;if(Ze)Ru=function(c,u){for(var g=u.child;g!==null;){if(g.tag===5||g.tag===6)J(c,g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===u)break;for(;g.sibling===null;){if(g.return===null||g.return===u)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},Lu=function(){},Mh=function(c,u,g,S,E){if(c=c.memoizedProps,c!==S){var P=u.stateNode,B=os(pr.current);g=ye(P,g,c,S,E,B),(u.updateQueue=g)&&ls(u)}},Eh=function(c,u,g,S){g!==S&&ls(u)};else if(de){Ru=function(c,u,g,S){for(var E=u.child;E!==null;){if(E.tag===5){var P=E.stateNode;g&&S&&(P=Lt(P,E.type,E.memoizedProps,E)),J(c,P)}else if(E.tag===6)P=E.stateNode,g&&S&&(P=Un(P,E.memoizedProps,E)),J(c,P);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)P=E.child,P!==null&&(P.return=E),Ru(c,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===u)break;for(;E.sibling===null;){if(E.return===null||E.return===u)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var V2=function(c,u,g,S){for(var E=u.child;E!==null;){if(E.tag===5){var P=E.stateNode;g&&S&&(P=Lt(P,E.type,E.memoizedProps,E)),zt(c,P)}else if(E.tag===6)P=E.stateNode,g&&S&&(P=Un(P,E.memoizedProps,E)),zt(c,P);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)P=E.child,P!==null&&(P.return=E),V2(c,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===u)break;for(;E.sibling===null;){if(E.return===null||E.return===u)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};Lu=function(c,u){var g=u.stateNode;if(!H2(c,u)){c=g.containerInfo;var S=Et(c);V2(S,u,!1,!1),g.pendingChildren=S,ls(u),Ht(c,S)}},Mh=function(c,u,g,S,E){var P=c.stateNode,B=c.memoizedProps;if((c=H2(c,u))&&B===S)u.stateNode=P;else{var K=u.stateNode,ue=os(pr.current),Ce=null;B!==S&&(Ce=ye(K,g,B,S,E,ue)),c&&Ce===null?u.stateNode=P:(P=Qe(P,Ce,g,B,S,u,c,K),pe(P,g,S,E,ue)&&ls(u),u.stateNode=P,c?ls(u):Ru(P,u,!1,!1))}},Eh=function(c,u,g,S){g!==S?(c=os(Pl.current),g=os(pr.current),u.stateNode=oe(S,c,g,u),ls(u)):u.stateNode=c.stateNode}}else Lu=function(){},Mh=function(){},Eh=function(){};function Iu(c,u){if(!Qt)switch(c.tailMode){case"hidden":u=c.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?u||c.tail===null?c.tail=null:c.tail.sibling=null:S.sibling=null}}function ri(c){var u=c.alternate!==null&&c.alternate.child===c.child,g=0,S=0;if(u)for(var E=c.child;E!==null;)g|=E.lanes|E.childLanes,S|=E.subtreeFlags&14680064,S|=E.flags&14680064,E.return=c,E=E.sibling;else for(E=c.child;E!==null;)g|=E.lanes|E.childLanes,S|=E.subtreeFlags,S|=E.flags,E.return=c,E=E.sibling;return c.subtreeFlags|=S,c.childLanes=g,u}function aL(c,u,g){var S=u.pendingProps;switch(b0(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(u),null;case 1:return Li(u.type)&&eh(),ri(u),null;case 3:return S=u.stateNode,Rl(),mt(Hn),mt(Ft),R0(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(c===null||c.child===null)&&(Su(u)?ls(u):c===null||c.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,Fr!==null&&(s1(Fr),Fr=null))),Lu(c,u),ri(u),null;case 5:A0(u),g=os(Pl.current);var E=u.type;if(c!==null&&u.stateNode!=null)Mh(c,u,E,S,g),c.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!S){if(u.stateNode===null)throw Error(o(166));return ri(u),null}if(c=os(pr.current),Su(u)){if(!le)throw Error(o(175));c=rt(u.stateNode,u.type,u.memoizedProps,g,c,u,!wu),u.updateQueue=c,c!==null&&ls(u)}else{var P=X(E,S,g,c,u);Ru(P,u,!1,!1),u.stateNode=P,pe(P,E,S,g,c)&&ls(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return ri(u),null;case 6:if(c&&u.stateNode!=null)Eh(c,u,c.memoizedProps,S);else{if(typeof S!="string"&&u.stateNode===null)throw Error(o(166));if(c=os(Pl.current),g=os(pr.current),Su(u)){if(!le)throw Error(o(176));if(c=u.stateNode,S=u.memoizedProps,(g=ut(c,S,u,!wu))&&(E=$i,E!==null))switch(P=(E.mode&1)!==0,E.tag){case 3:Or(E.stateNode.containerInfo,c,S,P);break;case 5:Ms(E.type,E.memoizedProps,E.stateNode,c,S,P)}g&&ls(u)}else u.stateNode=oe(S,c,g,u)}return ri(u),null;case 13:if(mt(rn),S=u.memoizedState,Qt&&Gi!==null&&u.mode&1&&!(u.flags&128)){for(c=Gi;c;)c=ie(c);return Tl(),u.flags|=98560,u}if(S!==null&&S.dehydrated!==null){if(S=Su(u),c===null){if(!S)throw Error(o(318));if(!le)throw Error(o(344));if(c=u.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));gt(c,u)}else Tl(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;return ri(u),null}return Fr!==null&&(s1(Fr),Fr=null),u.flags&128?(u.lanes=g,u):(S=S!==null,g=!1,c===null?Su(u):g=c.memoizedState!==null,S&&!g&&(u.child.flags|=8192,u.mode&1&&(c===null||rn.current&1?Dn===0&&(Dn=3):a1())),u.updateQueue!==null&&(u.flags|=4),ri(u),null);case 4:return Rl(),Lu(c,u),c===null&&ke(u.stateNode.containerInfo),ri(u),null;case 10:return v0(u.type._context),ri(u),null;case 17:return Li(u.type)&&eh(),ri(u),null;case 19:if(mt(rn),E=u.memoizedState,E===null)return ri(u),null;if(S=(u.flags&128)!==0,P=E.rendering,P===null)if(S)Iu(E,!1);else{if(Dn!==0||c!==null&&c.flags&128)for(c=u.child;c!==null;){if(P=gh(c),P!==null){for(u.flags|=128,Iu(E,!1),c=P.updateQueue,c!==null&&(u.updateQueue=c,u.flags|=4),u.subtreeFlags=0,c=g,S=u.child;S!==null;)g=S,E=c,g.flags&=14680066,P=g.alternate,P===null?(g.childLanes=0,g.lanes=E,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=P.childLanes,g.lanes=P.lanes,g.child=P.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=P.memoizedProps,g.memoizedState=P.memoizedState,g.updateQueue=P.updateQueue,g.type=P.type,E=P.dependencies,g.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),S=S.sibling;return Rt(rn,rn.current&1|2),u.child}c=c.sibling}E.tail!==null&&Vn()>t1&&(u.flags|=128,S=!0,Iu(E,!1),u.lanes=4194304)}else{if(!S)if(c=gh(P),c!==null){if(u.flags|=128,S=!0,c=c.updateQueue,c!==null&&(u.updateQueue=c,u.flags|=4),Iu(E,!0),E.tail===null&&E.tailMode==="hidden"&&!P.alternate&&!Qt)return ri(u),null}else 2*Vn()-E.renderingStartTime>t1&&g!==1073741824&&(u.flags|=128,S=!0,Iu(E,!1),u.lanes=4194304);E.isBackwards?(P.sibling=u.child,u.child=P):(c=E.last,c!==null?c.sibling=P:u.child=P,E.last=P)}return E.tail!==null?(u=E.tail,E.rendering=u,E.tail=u.sibling,E.renderingStartTime=Vn(),u.sibling=null,c=rn.current,Rt(rn,S?c&1|2:c&1),u):(ri(u),null);case 22:case 23:return o1(),S=u.memoizedState!==null,c!==null&&c.memoizedState!==null!==S&&(u.flags|=8192),S&&u.mode&1?Xi&1073741824&&(ri(u),Ze&&u.subtreeFlags&6&&(u.flags|=8192)):ri(u),null;case 24:return null;case 25:return null}throw Error(o(156,u.tag))}var lL=a.ReactCurrentOwner,ji=!1;function yi(c,u,g,S){u.child=c===null?g2(u,null,g,S):Al(u,c.child,g,S)}function W2(c,u,g,S,E){g=g.render;var P=u.ref;return Ml(u,E),S=I0(c,u,g,S,P,E),g=D0(),c!==null&&!ji?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~E,Ds(c,u,E)):(Qt&&g&&S0(u),u.flags|=1,yi(c,u,S,E),u.child)}function $2(c,u,g,S,E){if(c===null){var P=g.type;return typeof P=="function"&&!l1(P)&&P.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(u.tag=15,u.type=P,G2(c,u,P,S,E)):(c=jh(g.type,null,S,u,u.mode,E),c.ref=u.ref,c.return=u,u.child=c)}if(P=c.child,!(c.lanes&E)){var B=P.memoizedProps;if(g=g.compare,g=g!==null?g:ah,g(B,S)&&c.ref===u.ref)return Ds(c,u,E)}return u.flags|=1,c=So(P,S),c.ref=u.ref,c.return=u,u.child=c}function G2(c,u,g,S,E){if(c!==null&&ah(c.memoizedProps,S)&&c.ref===u.ref)if(ji=!1,(c.lanes&E)!==0)c.flags&131072&&(ji=!0);else return u.lanes=c.lanes,Ds(c,u,E);return B0(c,u,g,S,E)}function j2(c,u,g){var S=u.pendingProps,E=S.children,P=c!==null?c.memoizedState:null;if(S.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null},Rt(Il,Xi),Xi|=g;else if(g&1073741824)u.memoizedState={baseLanes:0,cachePool:null},S=P!==null?P.baseLanes:g,Rt(Il,Xi),Xi|=S;else return c=P!==null?P.baseLanes|g:g,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:c,cachePool:null},u.updateQueue=null,Rt(Il,Xi),Xi|=c,null;else P!==null?(S=P.baseLanes|g,u.memoizedState=null):S=g,Rt(Il,Xi),Xi|=S;return yi(c,u,E,g),u.child}function X2(c,u){var g=u.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(u.flags|=512,u.flags|=2097152)}function B0(c,u,g,S,E){var P=Li(g)?Cs:Ft.current;return P=Ts(u,P),Ml(u,E),g=I0(c,u,g,S,P,E),S=D0(),c!==null&&!ji?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~E,Ds(c,u,E)):(Qt&&S&&S0(u),u.flags|=1,yi(c,u,g,E),u.child)}function Y2(c,u,g,S,E){if(Li(g)){var P=!0;th(u)}else P=!1;if(Ml(u,E),u.stateNode===null)c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2),l2(u,g,S),w0(u,g,S,E),S=!0;else if(c===null){var B=u.stateNode,K=u.memoizedProps;B.props=K;var ue=B.context,Ce=g.contextType;typeof Ce=="object"&&Ce!==null?Ce=fr(Ce):(Ce=Li(g)?Cs:Ft.current,Ce=Ts(u,Ce));var Ve=g.getDerivedStateFromProps,ft=typeof Ve=="function"||typeof B.getSnapshotBeforeUpdate=="function";ft||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(K!==S||ue!==Ce)&&c2(u,B,S,Ce),go=!1;var ot=u.memoizedState;B.state=ot,fh(u,S,B,E),ue=u.memoizedState,K!==S||ot!==ue||Hn.current||go?(typeof Ve=="function"&&(_0(u,g,Ve,S),ue=u.memoizedState),(K=go||a2(u,g,K,S,ot,ue,Ce))?(ft||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(u.flags|=4194308)):(typeof B.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=S,u.memoizedState=ue),B.props=S,B.state=ue,B.context=Ce,S=K):(typeof B.componentDidMount=="function"&&(u.flags|=4194308),S=!1)}else{B=u.stateNode,i2(c,u),K=u.memoizedProps,Ce=u.type===u.elementType?K:zr(u.type,K),B.props=Ce,ft=u.pendingProps,ot=B.context,ue=g.contextType,typeof ue=="object"&&ue!==null?ue=fr(ue):(ue=Li(g)?Cs:Ft.current,ue=Ts(u,ue));var $t=g.getDerivedStateFromProps;(Ve=typeof $t=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(K!==ft||ot!==ue)&&c2(u,B,S,ue),go=!1,ot=u.memoizedState,B.state=ot,fh(u,S,B,E);var nt=u.memoizedState;K!==ft||ot!==nt||Hn.current||go?(typeof $t=="function"&&(_0(u,g,$t,S),nt=u.memoizedState),(Ce=go||a2(u,g,Ce,S,ot,nt,ue)||!1)?(Ve||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(S,nt,ue),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(S,nt,ue)),typeof B.componentDidUpdate=="function"&&(u.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof B.componentDidUpdate!="function"||K===c.memoizedProps&&ot===c.memoizedState||(u.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&ot===c.memoizedState||(u.flags|=1024),u.memoizedProps=S,u.memoizedState=nt),B.props=S,B.state=nt,B.context=ue,S=Ce):(typeof B.componentDidUpdate!="function"||K===c.memoizedProps&&ot===c.memoizedState||(u.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&ot===c.memoizedState||(u.flags|=1024),S=!1)}return U0(c,u,g,S,P,E)}function U0(c,u,g,S,E,P){X2(c,u);var B=(u.flags&128)!==0;if(!S&&!B)return E&&Jw(u,g,!1),Ds(c,u,P);S=u.stateNode,lL.current=u;var K=B&&typeof g.getDerivedStateFromError!="function"?null:S.render();return u.flags|=1,c!==null&&B?(u.child=Al(u,c.child,null,P),u.child=Al(u,null,K,P)):yi(c,u,K,P),u.memoizedState=S.state,E&&Jw(u,g,!0),u.child}function Z2(c){var u=c.stateNode;u.pendingContext?qw(c,u.pendingContext,u.pendingContext!==u.context):u.context&&qw(c,u.context,!1),T0(c,u.containerInfo)}function q2(c,u,g,S,E){return Tl(),C0(E),u.flags|=256,yi(c,u,g,S),u.child}var Ch={dehydrated:null,treeContext:null,retryLane:0};function Th(c){return{baseLanes:c,cachePool:null}}function K2(c,u,g){var S=u.pendingProps,E=rn.current,P=!1,B=(u.flags&128)!==0,K;if((K=B)||(K=c!==null&&c.memoizedState===null?!1:(E&2)!==0),K?(P=!0,u.flags&=-129):(c===null||c.memoizedState!==null)&&(E|=1),Rt(rn,E&1),c===null)return E0(u),c=u.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(u.mode&1?yu(c)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(E=S.children,c=S.fallback,P?(S=u.mode,P=u.child,E={mode:"hidden",children:E},!(S&1)&&P!==null?(P.childLanes=0,P.pendingProps=E):P=Xh(E,S,0,null),c=wa(c,S,g,null),P.return=u,c.return=u,P.sibling=c,u.child=P,u.child.memoizedState=Th(g),u.memoizedState=Ch,c):H0(u,E));if(E=c.memoizedState,E!==null){if(K=E.dehydrated,K!==null){if(B)return u.flags&256?(u.flags&=-257,Ah(c,u,g,Error(o(422)))):u.memoizedState!==null?(u.child=c.child,u.flags|=128,null):(P=S.fallback,E=u.mode,S=Xh({mode:"visible",children:S.children},E,0,null),P=wa(P,E,g,null),P.flags|=2,S.return=u,P.return=u,S.sibling=P,u.child=S,u.mode&1&&Al(u,c.child,null,g),u.child.memoizedState=Th(g),u.memoizedState=Ch,P);if(!(u.mode&1))u=Ah(c,u,g,null);else if(yu(K))u=Ah(c,u,g,Error(o(419)));else if(S=(g&c.childLanes)!==0,ji||S){if(S=An,S!==null){switch(g&-g){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}S=P&(S.suspendedLanes|g)?0:P,S!==0&&S!==E.retryLane&&(E.retryLane=S,gr(c,S,-1))}a1(),u=Ah(c,u,g,Error(o(421)))}else Qd(K)?(u.flags|=128,u.child=c.child,u=wL.bind(null,c),F(K,u),u=null):(g=E.treeContext,le&&(Gi=ge(K),$i=u,Qt=!0,Fr=null,wu=!1,g!==null&&(dr[hr++]=Rs,dr[hr++]=Ls,dr[hr++]=ha,Rs=g.id,Ls=g.overflow,ha=u)),u=H0(u,u.pendingProps.children),u.flags|=4096);return u}return P?(S=Q2(c,u,S.children,S.fallback,g),P=u.child,E=c.child.memoizedState,P.memoizedState=E===null?Th(g):{baseLanes:E.baseLanes|g,cachePool:null},P.childLanes=c.childLanes&~g,u.memoizedState=Ch,S):(g=J2(c,u,S.children,g),u.memoizedState=null,g)}return P?(S=Q2(c,u,S.children,S.fallback,g),P=u.child,E=c.child.memoizedState,P.memoizedState=E===null?Th(g):{baseLanes:E.baseLanes|g,cachePool:null},P.childLanes=c.childLanes&~g,u.memoizedState=Ch,S):(g=J2(c,u,S.children,g),u.memoizedState=null,g)}function H0(c,u){return u=Xh({mode:"visible",children:u},c.mode,0,null),u.return=c,c.child=u}function J2(c,u,g,S){var E=c.child;return c=E.sibling,g=So(E,{mode:"visible",children:g}),!(u.mode&1)&&(g.lanes=S),g.return=u,g.sibling=null,c!==null&&(S=u.deletions,S===null?(u.deletions=[c],u.flags|=16):S.push(c)),u.child=g}function Q2(c,u,g,S,E){var P=u.mode;c=c.child;var B=c.sibling,K={mode:"hidden",children:g};return!(P&1)&&u.child!==c?(g=u.child,g.childLanes=0,g.pendingProps=K,u.deletions=null):(g=So(c,K),g.subtreeFlags=c.subtreeFlags&14680064),B!==null?S=So(B,S):(S=wa(S,P,E,null),S.flags|=2),S.return=u,g.return=u,g.sibling=S,u.child=g,S}function Ah(c,u,g,S){return S!==null&&C0(S),Al(u,c.child,null,g),c=H0(u,u.pendingProps.children),c.flags|=2,u.memoizedState=null,c}function eS(c,u,g){c.lanes|=u;var S=c.alternate;S!==null&&(S.lanes|=u),y0(c.return,u,g)}function V0(c,u,g,S,E){var P=c.memoizedState;P===null?c.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:S,tail:g,tailMode:E}:(P.isBackwards=u,P.rendering=null,P.renderingStartTime=0,P.last=S,P.tail=g,P.tailMode=E)}function tS(c,u,g){var S=u.pendingProps,E=S.revealOrder,P=S.tail;if(yi(c,u,S.children,g),S=rn.current,S&2)S=S&1|2,u.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=u.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&eS(c,g,u);else if(c.tag===19)eS(c,g,u);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}S&=1}if(Rt(rn,S),!(u.mode&1))u.memoizedState=null;else switch(E){case"forwards":for(g=u.child,E=null;g!==null;)c=g.alternate,c!==null&&gh(c)===null&&(E=g),g=g.sibling;g=E,g===null?(E=u.child,u.child=null):(E=g.sibling,g.sibling=null),V0(u,!1,E,g,P);break;case"backwards":for(g=null,E=u.child,u.child=null;E!==null;){if(c=E.alternate,c!==null&&gh(c)===null){u.child=E;break}c=E.sibling,E.sibling=g,g=E,E=c}V0(u,!0,g,null,P);break;case"together":V0(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Ds(c,u,g){if(c!==null&&(u.dependencies=c.dependencies),Dl|=u.lanes,!(g&u.childLanes))return null;if(c!==null&&u.child!==c.child)throw Error(o(153));if(u.child!==null){for(c=u.child,g=So(c,c.pendingProps),u.child=g,g.return=u;c.sibling!==null;)c=c.sibling,g=g.sibling=So(c,c.pendingProps),g.return=u;g.sibling=null}return u.child}function cL(c,u,g){switch(u.tag){case 3:Z2(u),Tl();break;case 5:v2(u);break;case 1:Li(u.type)&&th(u);break;case 4:T0(u,u.stateNode.containerInfo);break;case 10:n2(u,u.type._context,u.memoizedProps.value);break;case 13:var S=u.memoizedState;if(S!==null)return S.dehydrated!==null?(Rt(rn,rn.current&1),u.flags|=128,null):g&u.child.childLanes?K2(c,u,g):(Rt(rn,rn.current&1),c=Ds(c,u,g),c!==null?c.sibling:null);Rt(rn,rn.current&1);break;case 19:if(S=(g&u.childLanes)!==0,c.flags&128){if(S)return tS(c,u,g);u.flags|=128}var E=u.memoizedState;if(E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Rt(rn,rn.current),S)break;return null;case 22:case 23:return u.lanes=0,j2(c,u,g)}return Ds(c,u,g)}function uL(c,u){switch(b0(u),u.tag){case 1:return Li(u.type)&&eh(),c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 3:return Rl(),mt(Hn),mt(Ft),R0(),c=u.flags,c&65536&&!(c&128)?(u.flags=c&-65537|128,u):null;case 5:return A0(u),null;case 13:if(mt(rn),c=u.memoizedState,c!==null&&c.dehydrated!==null){if(u.alternate===null)throw Error(o(340));Tl()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 19:return mt(rn),null;case 4:return Rl(),null;case 10:return v0(u.type._context),null;case 22:case 23:return o1(),null;case 24:return null;default:return null}}var Ph=!1,ga=!1,fL=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Rh(c,u){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(S){ki(c,u,S)}else g.current=null}function W0(c,u,g){try{g()}catch(S){ki(c,u,S)}}var nS=!1;function dL(c,u){for(Y(c.containerInfo),Oe=u;Oe!==null;)if(c=Oe,u=c.child,(c.subtreeFlags&1028)!==0&&u!==null)u.return=c,Oe=u;else for(;Oe!==null;){c=Oe;try{var g=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var S=g.memoizedProps,E=g.memoizedState,P=c.stateNode,B=P.getSnapshotBeforeUpdate(c.elementType===c.type?S:zr(c.type,S),E);P.__reactInternalSnapshotBeforeUpdate=B}break;case 3:Ze&&Ie(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(K){ki(c,c.return,K)}if(u=c.sibling,u!==null){u.return=c.return,Oe=u;break}Oe=c.return}return g=nS,nS=!1,g}function va(c,u,g){var S=u.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var E=S=S.next;do{if((E.tag&c)===c){var P=E.destroy;E.destroy=void 0,P!==void 0&&W0(u,g,P)}E=E.next}while(E!==S)}}function Du(c,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var g=u=u.next;do{if((g.tag&c)===c){var S=g.create;g.destroy=S()}g=g.next}while(g!==u)}}function $0(c){var u=c.ref;if(u!==null){var g=c.stateNode;switch(c.tag){case 5:c=te(g);break;default:c=g}typeof u=="function"?u(c):u.current=c}}function iS(c,u,g){if(ns&&typeof ns.onCommitFiberUnmount=="function")try{ns.onCommitFiberUnmount(sh,u)}catch{}switch(u.tag){case 0:case 11:case 14:case 15:if(c=u.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var S=c=c.next;do{var E=S,P=E.destroy;E=E.tag,P!==void 0&&(E&2||E&4)&&W0(u,g,P),S=S.next}while(S!==c)}break;case 1:if(Rh(u,g),c=u.stateNode,typeof c.componentWillUnmount=="function")try{c.props=u.memoizedProps,c.state=u.memoizedState,c.componentWillUnmount()}catch(B){ki(u,g,B)}break;case 5:Rh(u,g);break;case 4:Ze?cS(c,u,g):de&&de&&(u=u.stateNode.containerInfo,g=Et(u),ti(u,g))}}function rS(c,u,g){for(var S=u;;)if(iS(c,S,g),S.child===null||Ze&&S.tag===4){if(S===u)break;for(;S.sibling===null;){if(S.return===null||S.return===u)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else S.child.return=S,S=S.child}function sS(c){var u=c.alternate;u!==null&&(c.alternate=null,sS(u)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(u=c.stateNode,u!==null&&st(u)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function oS(c){return c.tag===5||c.tag===3||c.tag===4}function aS(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||oS(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function lS(c){if(Ze){e:{for(var u=c.return;u!==null;){if(oS(u))break e;u=u.return}throw Error(o(160))}var g=u;switch(g.tag){case 5:u=g.stateNode,g.flags&32&&(_e(u),g.flags&=-33),g=aS(c),j0(c,g,u);break;case 3:case 4:u=g.stateNode.containerInfo,g=aS(c),G0(c,g,u);break;default:throw Error(o(161))}}}function G0(c,u,g){var S=c.tag;if(S===5||S===6)c=c.stateNode,u?Je(g,c,u):Re(g,c);else if(S!==4&&(c=c.child,c!==null))for(G0(c,u,g),c=c.sibling;c!==null;)G0(c,u,g),c=c.sibling}function j0(c,u,g){var S=c.tag;if(S===5||S===6)c=c.stateNode,u?Fe(g,c,u):tt(g,c);else if(S!==4&&(c=c.child,c!==null))for(j0(c,u,g),c=c.sibling;c!==null;)j0(c,u,g),c=c.sibling}function cS(c,u,g){for(var S=u,E=!1,P,B;;){if(!E){E=S.return;e:for(;;){if(E===null)throw Error(o(160));switch(P=E.stateNode,E.tag){case 5:B=!1;break e;case 3:P=P.containerInfo,B=!0;break e;case 4:P=P.containerInfo,B=!0;break e}E=E.return}E=!0}if(S.tag===5||S.tag===6)rS(c,S,g),B?Z(P,S.stateNode):Ge(P,S.stateNode);else if(S.tag===18)B?pn(P,S.stateNode):Tt(P,S.stateNode);else if(S.tag===4){if(S.child!==null){P=S.stateNode.containerInfo,B=!0,S.child.return=S,S=S.child;continue}}else if(iS(c,S,g),S.child!==null){S.child.return=S,S=S.child;continue}if(S===u)break;for(;S.sibling===null;){if(S.return===null||S.return===u)return;S=S.return,S.tag===4&&(E=!1)}S.sibling.return=S.return,S=S.sibling}}function X0(c,u){if(Ze){switch(u.tag){case 0:case 11:case 14:case 15:va(3,u,u.return),Du(3,u),va(5,u,u.return);return;case 1:return;case 5:var g=u.stateNode;if(g!=null){var S=u.memoizedProps;c=c!==null?c.memoizedProps:S;var E=u.type,P=u.updateQueue;u.updateQueue=null,P!==null&&it(g,P,E,c,S,u)}return;case 6:if(u.stateNode===null)throw Error(o(162));g=u.memoizedProps,me(u.stateNode,c!==null?c.memoizedProps:g,g);return;case 3:le&&c!==null&&c.memoizedState.isDehydrated&&Pt(u.stateNode.containerInfo);return;case 12:return;case 13:Lh(u);return;case 19:Lh(u);return;case 17:return}throw Error(o(163))}switch(u.tag){case 0:case 11:case 14:case 15:va(3,u,u.return),Du(3,u),va(5,u,u.return);return;case 12:return;case 13:Lh(u);return;case 19:Lh(u);return;case 3:le&&c!==null&&c.memoizedState.isDehydrated&&Pt(u.stateNode.containerInfo);break;case 22:case 23:return}e:if(de){switch(u.tag){case 1:case 5:case 6:break e;case 3:case 4:u=u.stateNode,ti(u.containerInfo,u.pendingChildren);break e}throw Error(o(163))}}function Lh(c){var u=c.updateQueue;if(u!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new fL),u.forEach(function(S){var E=SL.bind(null,c,S);g.has(S)||(g.add(S),S.then(E,E))})}}function hL(c,u){for(Oe=u;Oe!==null;){u=Oe;var g=u.deletions;if(g!==null)for(var S=0;S<g.length;S++){var E=g[S];try{var P=c;Ze?cS(P,E,u):rS(P,E,u);var B=E.alternate;B!==null&&(B.return=null),E.return=null}catch(et){ki(E,u,et)}}if(g=u.child,u.subtreeFlags&12854&&g!==null)g.return=u,Oe=g;else for(;Oe!==null;){u=Oe;try{var K=u.flags;if(K&32&&Ze&&_e(u.stateNode),K&512){var ue=u.alternate;if(ue!==null){var Ce=ue.ref;Ce!==null&&(typeof Ce=="function"?Ce(null):Ce.current=null)}}if(K&8192)switch(u.tag){case 13:if(u.memoizedState!==null){var Ve=u.alternate;(Ve===null||Ve.memoizedState===null)&&(e1=Vn())}break;case 22:var ft=u.memoizedState!==null,ot=u.alternate,$t=ot!==null&&ot.memoizedState!==null;if(g=u,Ze){e:if(S=g,E=ft,P=null,Ze)for(var nt=S;;){if(nt.tag===5){if(P===null){P=nt;var si=nt.stateNode;E?ze(si):ae(nt.stateNode,nt.memoizedProps)}}else if(nt.tag===6){if(P===null){var yr=nt.stateNode;E?j(yr):we(yr,nt.memoizedProps)}}else if((nt.tag!==22&&nt.tag!==23||nt.memoizedState===null||nt===S)&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===S)break;for(;nt.sibling===null;){if(nt.return===null||nt.return===S)break e;P===nt&&(P=null),nt=nt.return}P===nt&&(P=null),nt.sibling.return=nt.return,nt=nt.sibling}}if(ft&&!$t&&g.mode&1){Oe=g;for(var re=g.child;re!==null;){for(g=Oe=re;Oe!==null;){S=Oe;var ee=S.child;switch(S.tag){case 0:case 11:case 14:case 15:va(4,S,S.return);break;case 1:Rh(S,S.return);var ce=S.stateNode;if(typeof ce.componentWillUnmount=="function"){var Ne=S.return;try{ce.props=S.memoizedProps,ce.state=S.memoizedState,ce.componentWillUnmount()}catch(et){ki(S,Ne,et)}}break;case 5:Rh(S,S.return);break;case 22:if(S.memoizedState!==null){dS(g);continue}}ee!==null?(ee.return=S,Oe=ee):dS(g)}re=re.sibling}}}switch(K&4102){case 2:lS(u),u.flags&=-3;break;case 6:lS(u),u.flags&=-3,X0(u.alternate,u);break;case 4096:u.flags&=-4097;break;case 4100:u.flags&=-4097,X0(u.alternate,u);break;case 4:X0(u.alternate,u)}}catch(et){ki(u,u.return,et)}if(g=u.sibling,g!==null){g.return=u.return,Oe=g;break}Oe=u.return}}}function pL(c,u,g){Oe=c,uS(c)}function uS(c,u,g){for(var S=(c.mode&1)!==0;Oe!==null;){var E=Oe,P=E.child;if(E.tag===22&&S){var B=E.memoizedState!==null||Ph;if(!B){var K=E.alternate,ue=K!==null&&K.memoizedState!==null||ga;K=Ph;var Ce=ga;if(Ph=B,(ga=ue)&&!Ce)for(Oe=E;Oe!==null;)B=Oe,ue=B.child,B.tag===22&&B.memoizedState!==null?hS(E):ue!==null?(ue.return=B,Oe=ue):hS(E);for(;P!==null;)Oe=P,uS(P),P=P.sibling;Oe=E,Ph=K,ga=Ce}fS(c)}else E.subtreeFlags&8772&&P!==null?(P.return=E,Oe=P):fS(c)}}function fS(c){for(;Oe!==null;){var u=Oe;if(u.flags&8772){var g=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:ga||Du(5,u);break;case 1:var S=u.stateNode;if(u.flags&4&&!ga)if(g===null)S.componentDidMount();else{var E=u.elementType===u.type?g.memoizedProps:zr(u.type,g.memoizedProps);S.componentDidUpdate(E,g.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var P=u.updateQueue;P!==null&&s2(u,P,S);break;case 3:var B=u.updateQueue;if(B!==null){if(g=null,u.child!==null)switch(u.child.tag){case 5:g=te(u.child.stateNode);break;case 1:g=u.child.stateNode}s2(u,B,g)}break;case 5:var K=u.stateNode;g===null&&u.flags&4&&je(K,u.type,u.memoizedProps,u);break;case 6:break;case 4:break;case 12:break;case 13:if(le&&u.memoizedState===null){var ue=u.alternate;if(ue!==null){var Ce=ue.memoizedState;if(Ce!==null){var Ve=Ce.dehydrated;Ve!==null&&Ct(Ve)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}ga||u.flags&512&&$0(u)}catch(ft){ki(u,u.return,ft)}}if(u===c){Oe=null;break}if(g=u.sibling,g!==null){g.return=u.return,Oe=g;break}Oe=u.return}}function dS(c){for(;Oe!==null;){var u=Oe;if(u===c){Oe=null;break}var g=u.sibling;if(g!==null){g.return=u.return,Oe=g;break}Oe=u.return}}function hS(c){for(;Oe!==null;){var u=Oe;try{switch(u.tag){case 0:case 11:case 15:var g=u.return;try{Du(4,u)}catch(ue){ki(u,g,ue)}break;case 1:var S=u.stateNode;if(typeof S.componentDidMount=="function"){var E=u.return;try{S.componentDidMount()}catch(ue){ki(u,E,ue)}}var P=u.return;try{$0(u)}catch(ue){ki(u,P,ue)}break;case 5:var B=u.return;try{$0(u)}catch(ue){ki(u,B,ue)}}}catch(ue){ki(u,u.return,ue)}if(u===c){Oe=null;break}var K=u.sibling;if(K!==null){K.return=u.return,Oe=K;break}Oe=u.return}}var Ih=0,Dh=1,kh=2,Oh=3,Nh=4;if(typeof Symbol=="function"&&Symbol.for){var ku=Symbol.for;Ih=ku("selector.component"),Dh=ku("selector.has_pseudo_class"),kh=ku("selector.role"),Oh=ku("selector.test_id"),Nh=ku("selector.text")}function Y0(c){var u=Ee(c);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(o(364));return u}if(c=ht(c),c===null)throw Error(o(362));return c.stateNode.current}function Z0(c,u){switch(u.$$typeof){case Ih:if(c.type===u.value)return!0;break;case Dh:e:{u=u.value,c=[c,0];for(var g=0;g<c.length;){var S=c[g++],E=c[g++],P=u[E];if(S.tag!==5||!Q(S)){for(;P!=null&&Z0(S,P);)E++,P=u[E];if(E===u.length){u=!0;break e}else for(S=S.child;S!==null;)c.push(S,E),S=S.sibling}}u=!1}return u;case kh:if(c.tag===5&&xe(c.stateNode,u.value))return!0;break;case Nh:if((c.tag===5||c.tag===6)&&(c=I(c),c!==null&&0<=c.indexOf(u.value)))return!0;break;case Oh:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===u.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function q0(c){switch(c.$$typeof){case Ih:return"<"+(L(c.value)||"Unknown")+">";case Dh:return":has("+(q0(c)||"")+")";case kh:return'[role="'+c.value+'"]';case Nh:return'"'+c.value+'"';case Oh:return'[data-testname="'+c.value+'"]';default:throw Error(o(365))}}function pS(c,u){var g=[];c=[c,0];for(var S=0;S<c.length;){var E=c[S++],P=c[S++],B=u[P];if(E.tag!==5||!Q(E)){for(;B!=null&&Z0(E,B);)P++,B=u[P];if(P===u.length)g.push(E);else for(E=E.child;E!==null;)c.push(E,P),E=E.sibling}}return g}function K0(c,u){if(!Mt)throw Error(o(363));c=Y0(c),c=pS(c,u),u=[],c=Array.from(c);for(var g=0;g<c.length;){var S=c[g++];if(S.tag===5)Q(S)||u.push(S.stateNode);else for(S=S.child;S!==null;)c.push(S),S=S.sibling}return u}var mL=Math.ceil,zh=a.ReactCurrentDispatcher,J0=a.ReactCurrentOwner,wn=a.ReactCurrentBatchConfig,St=0,An=null,Pn=null,qn=0,Xi=0,Il=cr(0),Dn=0,Ou=null,Dl=0,Fh=0,Q0=0,Nu=null,Ii=null,e1=0,t1=1/0;function kl(){t1=Vn()+500}var Bh=!1,n1=null,yo=null,Uh=!1,xo=null,Hh=0,zu=0,i1=null,Vh=-1,Wh=0;function xi(){return St&6?Vn():Vh!==-1?Vh:Vh=Vn()}function _o(c){return c.mode&1?St&2&&qn!==0?qn&-qn:KR.transition!==null?(Wh===0&&(c=nh,nh<<=1,!(nh&4194240)&&(nh=64),Wh=c),Wh):(c=kt,c!==0?c:Ae()):1}function gr(c,u,g){if(50<zu)throw zu=0,i1=null,Error(o(185));var S=$h(c,u);return S===null?null:(_u(S,u,g),(!(St&2)||S!==An)&&(S===An&&(!(St&2)&&(Fh|=u),Dn===4&&wo(S,qn)),Di(S,g),u===1&&St===0&&!(c.mode&1)&&(kl(),oh&&rs())),S)}function $h(c,u){c.lanes|=u;var g=c.alternate;for(g!==null&&(g.lanes|=u),g=c,c=c.return;c!==null;)c.childLanes|=u,g=c.alternate,g!==null&&(g.childLanes|=u),g=c,c=c.return;return g.tag===3?g.stateNode:null}function Di(c,u){var g=c.callbackNode;VR(c,u);var S=rh(c,c===An?qn:0);if(S===0)g!==null&&e2(g),c.callbackNode=null,c.callbackPriority=0;else if(u=S&-S,c.callbackPriority!==u){if(g!=null&&e2(g),u===1)c.tag===0?qR(gS.bind(null,c)):t2(gS.bind(null,c)),qe?Ke(function(){St===0&&rs()}):f0(d0,rs),g=null;else{switch(Qw(S)){case 1:g=d0;break;case 4:g=jR;break;case 16:g=h0;break;case 536870912:g=XR;break;default:g=h0}g=ES(g,mS.bind(null,c))}c.callbackPriority=u,c.callbackNode=g}}function mS(c,u){if(Vh=-1,Wh=0,St&6)throw Error(o(327));var g=c.callbackNode;if(_a()&&c.callbackNode!==g)return null;var S=rh(c,c===An?qn:0);if(S===0)return null;if(S&30||S&c.expiredLanes||u)u=Gh(c,S);else{u=S;var E=St;St|=2;var P=xS();(An!==c||qn!==u)&&(kl(),ya(c,u));do try{yL();break}catch(K){yS(c,K)}while(1);g0(),zh.current=P,St=E,Pn!==null?u=0:(An=null,qn=0,u=Dn)}if(u!==0){if(u===2&&(E=l0(c),E!==0&&(S=E,u=r1(c,E))),u===1)throw g=Ou,ya(c,0),wo(c,S),Di(c,Vn()),g;if(u===6)wo(c,S);else{if(E=c.current.alternate,!(S&30)&&!gL(E)&&(u=Gh(c,S),u===2&&(P=l0(c),P!==0&&(S=P,u=r1(c,P))),u===1))throw g=Ou,ya(c,0),wo(c,S),Di(c,Vn()),g;switch(c.finishedWork=E,c.finishedLanes=S,u){case 0:case 1:throw Error(o(345));case 2:xa(c,Ii);break;case 3:if(wo(c,S),(S&130023424)===S&&(u=e1+500-Vn(),10<u)){if(rh(c,0)!==0)break;if(E=c.suspendedLanes,(E&S)!==S){xi(),c.pingedLanes|=c.suspendedLanes&E;break}c.timeoutHandle=Ue(xa.bind(null,c,Ii),u);break}xa(c,Ii);break;case 4:if(wo(c,S),(S&4194240)===S)break;for(u=c.eventTimes,E=-1;0<S;){var B=31-Nr(S);P=1<<B,B=u[B],B>E&&(E=B),S&=~P}if(S=E,S=Vn()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*mL(S/1960))-S,10<S){c.timeoutHandle=Ue(xa.bind(null,c,Ii),S);break}xa(c,Ii);break;case 5:xa(c,Ii);break;default:throw Error(o(329))}}}return Di(c,Vn()),c.callbackNode===g?mS.bind(null,c):null}function r1(c,u){var g=Nu;return c.current.memoizedState.isDehydrated&&(ya(c,u).flags|=256),c=Gh(c,u),c!==2&&(u=Ii,Ii=g,u!==null&&s1(u)),c}function s1(c){Ii===null?Ii=c:Ii.push.apply(Ii,c)}function gL(c){for(var u=c;;){if(u.flags&16384){var g=u.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var S=0;S<g.length;S++){var E=g[S],P=E.getSnapshot;E=E.value;try{if(!is(P(),E))return!1}catch{return!1}}}if(g=u.child,u.subtreeFlags&16384&&g!==null)g.return=u,u=g;else{if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function wo(c,u){for(u&=~Q0,u&=~Fh,c.suspendedLanes|=u,c.pingedLanes&=~u,c=c.expirationTimes;0<u;){var g=31-Nr(u),S=1<<g;c[g]=-1,u&=~S}}function gS(c){if(St&6)throw Error(o(327));_a();var u=rh(c,0);if(!(u&1))return Di(c,Vn()),null;var g=Gh(c,u);if(c.tag!==0&&g===2){var S=l0(c);S!==0&&(u=S,g=r1(c,S))}if(g===1)throw g=Ou,ya(c,0),wo(c,u),Di(c,Vn()),g;if(g===6)throw Error(o(345));return c.finishedWork=c.current.alternate,c.finishedLanes=u,xa(c,Ii),Di(c,Vn()),null}function vS(c){xo!==null&&xo.tag===0&&!(St&6)&&_a();var u=St;St|=1;var g=wn.transition,S=kt;try{if(wn.transition=null,kt=1,c)return c()}finally{kt=S,wn.transition=g,St=u,!(St&6)&&rs()}}function o1(){Xi=Il.current,mt(Il)}function ya(c,u){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==Ye&&(c.timeoutHandle=Ye,De(g)),Pn!==null)for(g=Pn.return;g!==null;){var S=g;switch(b0(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&eh();break;case 3:Rl(),mt(Hn),mt(Ft),R0();break;case 5:A0(S);break;case 4:Rl();break;case 13:mt(rn);break;case 19:mt(rn);break;case 10:v0(S.type._context);break;case 22:case 23:o1()}g=g.return}if(An=c,Pn=c=So(c.current,null),qn=Xi=u,Dn=0,Ou=null,Q0=Fh=Dl=0,Ii=Nu=null,ss!==null){for(u=0;u<ss.length;u++)if(g=ss[u],S=g.interleaved,S!==null){g.interleaved=null;var E=S.next,P=g.pending;if(P!==null){var B=P.next;P.next=E,S.next=B}g.pending=S}ss=null}return c}function yS(c,u){do{var g=Pn;try{if(g0(),vh.current=bh,yh){for(var S=gn.memoizedState;S!==null;){var E=S.queue;E!==null&&(E.pending=null),S=S.next}yh=!1}if(Ll=0,Wn=ni=gn=null,Cu=!1,Tu=0,J0.current=null,g===null||g.return===null){Dn=1,Ou=u,Pn=null;break}e:{var P=c,B=g.return,K=g,ue=u;if(u=qn,K.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Ce=ue,Ve=K,ft=Ve.tag;if(!(Ve.mode&1)&&(ft===0||ft===11||ft===15)){var ot=Ve.alternate;ot?(Ve.updateQueue=ot.updateQueue,Ve.memoizedState=ot.memoizedState,Ve.lanes=ot.lanes):(Ve.updateQueue=null,Ve.memoizedState=null)}var $t=B2(B);if($t!==null){$t.flags&=-257,U2($t,B,K,P,u),$t.mode&1&&F2(P,Ce,u),u=$t,ue=Ce;var nt=u.updateQueue;if(nt===null){var si=new Set;si.add(ue),u.updateQueue=si}else nt.add(ue);break e}else{if(!(u&1)){F2(P,Ce,u),a1();break e}ue=Error(o(426))}}else if(Qt&&K.mode&1){var yr=B2(B);if(yr!==null){!(yr.flags&65536)&&(yr.flags|=256),U2(yr,B,K,P,u),C0(ue);break e}}P=ue,Dn!==4&&(Dn=2),Nu===null?Nu=[P]:Nu.push(P),ue=z0(ue,K),K=B;do{switch(K.tag){case 3:K.flags|=65536,u&=-u,K.lanes|=u;var re=N2(K,ue,u);r2(K,re);break e;case 1:P=ue;var ee=K.type,ce=K.stateNode;if(!(K.flags&128)&&(typeof ee.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(yo===null||!yo.has(ce)))){K.flags|=65536,u&=-u,K.lanes|=u;var Ne=z2(K,P,u);r2(K,Ne);break e}}K=K.return}while(K!==null)}wS(g)}catch(et){u=et,Pn===g&&g!==null&&(Pn=g=g.return);continue}break}while(1)}function xS(){var c=zh.current;return zh.current=bh,c===null?bh:c}function a1(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),An===null||!(Dl&268435455)&&!(Fh&268435455)||wo(An,qn)}function Gh(c,u){var g=St;St|=2;var S=xS();An===c&&qn===u||ya(c,u);do try{vL();break}catch(E){yS(c,E)}while(1);if(g0(),St=g,zh.current=S,Pn!==null)throw Error(o(261));return An=null,qn=0,Dn}function vL(){for(;Pn!==null;)_S(Pn)}function yL(){for(;Pn!==null&&!$R();)_S(Pn)}function _S(c){var u=MS(c.alternate,c,Xi);c.memoizedProps=c.pendingProps,u===null?wS(c):Pn=u,J0.current=null}function wS(c){var u=c;do{var g=u.alternate;if(c=u.return,u.flags&32768){if(g=uL(g,u),g!==null){g.flags&=32767,Pn=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Dn=6,Pn=null;return}}else if(g=aL(g,u,Xi),g!==null){Pn=g;return}if(u=u.sibling,u!==null){Pn=u;return}Pn=u=c}while(u!==null);Dn===0&&(Dn=5)}function xa(c,u){var g=kt,S=wn.transition;try{wn.transition=null,kt=1,xL(c,u,g)}finally{wn.transition=S,kt=g}return null}function xL(c,u,g){do _a();while(xo!==null);if(St&6)throw Error(o(327));var S=c.finishedWork,E=c.finishedLanes;if(S===null)return null;if(c.finishedWork=null,c.finishedLanes=0,S===c.current)throw Error(o(177));c.callbackNode=null,c.callbackPriority=0;var P=S.lanes|S.childLanes;if(WR(c,P),c===An&&(Pn=An=null,qn=0),!(S.subtreeFlags&2064)&&!(S.flags&2064)||Uh||(Uh=!0,ES(h0,function(){return _a(),null})),P=(S.flags&15990)!==0,S.subtreeFlags&15990||P){P=wn.transition,wn.transition=null;var B=kt;kt=1;var K=St;St|=4,J0.current=null,dL(c,S),hL(c,S),G(c.containerInfo),c.current=S,pL(S),GR(),St=K,kt=B,wn.transition=P}else c.current=S;if(Uh&&(Uh=!1,xo=c,Hh=E),P=c.pendingLanes,P===0&&(yo=null),YR(S.stateNode),Di(c,Vn()),u!==null)for(g=c.onRecoverableError,S=0;S<u.length;S++)g(u[S]);if(Bh)throw Bh=!1,c=n1,n1=null,c;return Hh&1&&c.tag!==0&&_a(),P=c.pendingLanes,P&1?c===i1?zu++:(zu=0,i1=c):zu=0,rs(),null}function _a(){if(xo!==null){var c=Qw(Hh),u=wn.transition,g=kt;try{if(wn.transition=null,kt=16>c?16:c,xo===null)var S=!1;else{if(c=xo,xo=null,Hh=0,St&6)throw Error(o(331));var E=St;for(St|=4,Oe=c.current;Oe!==null;){var P=Oe,B=P.child;if(Oe.flags&16){var K=P.deletions;if(K!==null){for(var ue=0;ue<K.length;ue++){var Ce=K[ue];for(Oe=Ce;Oe!==null;){var Ve=Oe;switch(Ve.tag){case 0:case 11:case 15:va(8,Ve,P)}var ft=Ve.child;if(ft!==null)ft.return=Ve,Oe=ft;else for(;Oe!==null;){Ve=Oe;var ot=Ve.sibling,$t=Ve.return;if(sS(Ve),Ve===Ce){Oe=null;break}if(ot!==null){ot.return=$t,Oe=ot;break}Oe=$t}}}var nt=P.alternate;if(nt!==null){var si=nt.child;if(si!==null){nt.child=null;do{var yr=si.sibling;si.sibling=null,si=yr}while(si!==null)}}Oe=P}}if(P.subtreeFlags&2064&&B!==null)B.return=P,Oe=B;else e:for(;Oe!==null;){if(P=Oe,P.flags&2048)switch(P.tag){case 0:case 11:case 15:va(9,P,P.return)}var re=P.sibling;if(re!==null){re.return=P.return,Oe=re;break e}Oe=P.return}}var ee=c.current;for(Oe=ee;Oe!==null;){B=Oe;var ce=B.child;if(B.subtreeFlags&2064&&ce!==null)ce.return=B,Oe=ce;else e:for(B=ee;Oe!==null;){if(K=Oe,K.flags&2048)try{switch(K.tag){case 0:case 11:case 15:Du(9,K)}}catch(et){ki(K,K.return,et)}if(K===B){Oe=null;break e}var Ne=K.sibling;if(Ne!==null){Ne.return=K.return,Oe=Ne;break e}Oe=K.return}}if(St=E,rs(),ns&&typeof ns.onPostCommitFiberRoot=="function")try{ns.onPostCommitFiberRoot(sh,c)}catch{}S=!0}return S}finally{kt=g,wn.transition=u}}return!1}function SS(c,u,g){u=z0(g,u),u=N2(c,u,1),vo(c,u),u=xi(),c=$h(c,1),c!==null&&(_u(c,1,u),Di(c,u))}function ki(c,u,g){if(c.tag===3)SS(c,c,g);else for(;u!==null;){if(u.tag===3){SS(u,c,g);break}else if(u.tag===1){var S=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(yo===null||!yo.has(S))){c=z0(g,c),c=z2(u,c,1),vo(u,c),c=xi(),u=$h(u,1),u!==null&&(_u(u,1,c),Di(u,c));break}}u=u.return}}function _L(c,u,g){var S=c.pingCache;S!==null&&S.delete(u),u=xi(),c.pingedLanes|=c.suspendedLanes&g,An===c&&(qn&g)===g&&(Dn===4||Dn===3&&(qn&130023424)===qn&&500>Vn()-e1?ya(c,0):Q0|=g),Di(c,u)}function bS(c,u){u===0&&(c.mode&1?(u=ih,ih<<=1,!(ih&130023424)&&(ih=4194304)):u=1);var g=xi();c=$h(c,u),c!==null&&(_u(c,u,g),Di(c,g))}function wL(c){var u=c.memoizedState,g=0;u!==null&&(g=u.retryLane),bS(c,g)}function SL(c,u){var g=0;switch(c.tag){case 13:var S=c.stateNode,E=c.memoizedState;E!==null&&(g=E.retryLane);break;case 19:S=c.stateNode;break;default:throw Error(o(314))}S!==null&&S.delete(u),bS(c,g)}var MS;MS=function(c,u,g){if(c!==null)if(c.memoizedProps!==u.pendingProps||Hn.current)ji=!0;else{if(!(c.lanes&g)&&!(u.flags&128))return ji=!1,cL(c,u,g);ji=!!(c.flags&131072)}else ji=!1,Qt&&u.flags&1048576&&u2(u,ph,u.index);switch(u.lanes=0,u.tag){case 2:var S=u.type;c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2),c=u.pendingProps;var E=Ts(u,Ft.current);Ml(u,g),E=I0(null,u,S,c,E,g);var P=D0();return u.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Li(S)?(P=!0,th(u)):P=!1,u.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,x0(u),E.updater=dh,u.stateNode=E,E._reactInternals=u,w0(u,S,c,g),u=U0(null,u,S,!0,P,g)):(u.tag=0,Qt&&P&&S0(u),yi(null,u,E,g),u=u.child),u;case 16:S=u.elementType;e:{switch(c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2),c=u.pendingProps,E=S._init,S=E(S._payload),u.type=S,E=u.tag=ML(S),c=zr(S,c),E){case 0:u=B0(null,u,S,c,g);break e;case 1:u=Y2(null,u,S,c,g);break e;case 11:u=W2(null,u,S,c,g);break e;case 14:u=$2(null,u,S,zr(S.type,c),g);break e}throw Error(o(306,S,""))}return u;case 0:return S=u.type,E=u.pendingProps,E=u.elementType===S?E:zr(S,E),B0(c,u,S,E,g);case 1:return S=u.type,E=u.pendingProps,E=u.elementType===S?E:zr(S,E),Y2(c,u,S,E,g);case 3:e:{if(Z2(u),c===null)throw Error(o(387));S=u.pendingProps,P=u.memoizedState,E=P.element,i2(c,u),fh(u,S,null,g);var B=u.memoizedState;if(S=B.element,le&&P.isDehydrated)if(P={element:S,isDehydrated:!1,cache:B.cache,transitions:B.transitions},u.updateQueue.baseState=P,u.memoizedState=P,u.flags&256){E=Error(o(423)),u=q2(c,u,S,g,E);break e}else if(S!==E){E=Error(o(424)),u=q2(c,u,S,g,E);break e}else for(le&&(Gi=ne(u.stateNode.containerInfo),$i=u,Qt=!0,Fr=null,wu=!1),g=g2(u,null,S,g),u.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Tl(),S===E){u=Ds(c,u,g);break e}yi(c,u,S,g)}u=u.child}return u;case 5:return v2(u),c===null&&E0(u),S=u.type,E=u.pendingProps,P=c!==null?c.memoizedProps:null,B=E.children,be(S,E)?B=null:P!==null&&be(S,P)&&(u.flags|=32),X2(c,u),yi(c,u,B,g),u.child;case 6:return c===null&&E0(u),null;case 13:return K2(c,u,g);case 4:return T0(u,u.stateNode.containerInfo),S=u.pendingProps,c===null?u.child=Al(u,null,S,g):yi(c,u,S,g),u.child;case 11:return S=u.type,E=u.pendingProps,E=u.elementType===S?E:zr(S,E),W2(c,u,S,E,g);case 7:return yi(c,u,u.pendingProps,g),u.child;case 8:return yi(c,u,u.pendingProps.children,g),u.child;case 12:return yi(c,u,u.pendingProps.children,g),u.child;case 10:e:{if(S=u.type._context,E=u.pendingProps,P=u.memoizedProps,B=E.value,n2(u,S,B),P!==null)if(is(P.value,B)){if(P.children===E.children&&!Hn.current){u=Ds(c,u,g);break e}}else for(P=u.child,P!==null&&(P.return=u);P!==null;){var K=P.dependencies;if(K!==null){B=P.child;for(var ue=K.firstContext;ue!==null;){if(ue.context===S){if(P.tag===1){ue=Ps(-1,g&-g),ue.tag=2;var Ce=P.updateQueue;if(Ce!==null){Ce=Ce.shared;var Ve=Ce.pending;Ve===null?ue.next=ue:(ue.next=Ve.next,Ve.next=ue),Ce.pending=ue}}P.lanes|=g,ue=P.alternate,ue!==null&&(ue.lanes|=g),y0(P.return,g,u),K.lanes|=g;break}ue=ue.next}}else if(P.tag===10)B=P.type===u.type?null:P.child;else if(P.tag===18){if(B=P.return,B===null)throw Error(o(341));B.lanes|=g,K=B.alternate,K!==null&&(K.lanes|=g),y0(B,g,u),B=P.sibling}else B=P.child;if(B!==null)B.return=P;else for(B=P;B!==null;){if(B===u){B=null;break}if(P=B.sibling,P!==null){P.return=B.return,B=P;break}B=B.return}P=B}yi(c,u,E.children,g),u=u.child}return u;case 9:return E=u.type,S=u.pendingProps.children,Ml(u,g),E=fr(E),S=S(E),u.flags|=1,yi(c,u,S,g),u.child;case 14:return S=u.type,E=zr(S,u.pendingProps),E=zr(S.type,E),$2(c,u,S,E,g);case 15:return G2(c,u,u.type,u.pendingProps,g);case 17:return S=u.type,E=u.pendingProps,E=u.elementType===S?E:zr(S,E),c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2),u.tag=1,Li(S)?(c=!0,th(u)):c=!1,Ml(u,g),l2(u,S,E),w0(u,S,E,g),U0(null,u,S,!0,c,g);case 19:return tS(c,u,g);case 22:return j2(c,u,g)}throw Error(o(156,u.tag))};function ES(c,u){return f0(c,u)}function bL(c,u,g,S){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(c,u,g,S){return new bL(c,u,g,S)}function l1(c){return c=c.prototype,!(!c||!c.isReactComponent)}function ML(c){if(typeof c=="function")return l1(c)?1:0;if(c!=null){if(c=c.$$typeof,c===y)return 11;if(c===w)return 14}return 2}function So(c,u){var g=c.alternate;return g===null?(g=vr(c.tag,u,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=u,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,u=c.dependencies,g.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function jh(c,u,g,S,E,P){var B=2;if(S=c,typeof c=="function")l1(c)&&(B=1);else if(typeof c=="string")B=5;else e:switch(c){case d:return wa(g.children,E,P,u);case h:B=8,E|=8;break;case p:return c=vr(12,g,u,E|2),c.elementType=p,c.lanes=P,c;case _:return c=vr(13,g,u,E),c.elementType=_,c.lanes=P,c;case x:return c=vr(19,g,u,E),c.elementType=x,c.lanes=P,c;case M:return Xh(g,E,P,u);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case m:B=10;break e;case v:B=9;break e;case y:B=11;break e;case w:B=14;break e;case b:B=16,S=null;break e}throw Error(o(130,c==null?c:typeof c,""))}return u=vr(B,g,u,E),u.elementType=c,u.type=S,u.lanes=P,u}function wa(c,u,g,S){return c=vr(7,c,S,u),c.lanes=g,c}function Xh(c,u,g,S){return c=vr(22,c,S,u),c.elementType=M,c.lanes=g,c.stateNode={},c}function c1(c,u,g){return c=vr(6,c,null,u),c.lanes=g,c}function u1(c,u,g){return u=vr(4,c.children!==null?c.children:[],c.key,u),u.lanes=g,u.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},u}function EL(c,u,g,S,E){this.tag=u,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ye,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=c0(0),this.expirationTimes=c0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=c0(0),this.identifierPrefix=S,this.onRecoverableError=E,le&&(this.mutableSourceEagerHydrationData=null)}function CS(c,u,g,S,E,P,B,K,ue){return c=new EL(c,u,g,K,ue),u===1?(u=1,P===!0&&(u|=8)):u=0,P=vr(3,null,null,u),c.current=P,P.stateNode=c,P.memoizedState={element:S,isDehydrated:g,cache:null,transitions:null},x0(P),c}function TS(c){if(!c)return ur;c=c._reactInternals;e:{if(k(c)!==c||c.tag!==1)throw Error(o(170));var u=c;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Li(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(o(171))}if(c.tag===1){var g=c.type;if(Li(g))return Kw(c,g,u)}return u}function AS(c){var u=c._reactInternals;if(u===void 0)throw typeof c.render=="function"?Error(o(188)):(c=Object.keys(c).join(","),Error(o(268,c)));return c=$(u),c===null?null:c.stateNode}function PS(c,u){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<u?g:u}}function f1(c,u){PS(c,u),(c=c.alternate)&&PS(c,u)}function CL(c){return c=$(c),c===null?null:c.stateNode}function TL(){return null}return t.attemptContinuousHydration=function(c){if(c.tag===13){var u=xi();gr(c,134217728,u),f1(c,134217728)}},t.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var u=xi(),g=_o(c);gr(c,g,u),f1(c,g)}},t.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var u=c.stateNode;if(u.current.memoizedState.isDehydrated){var g=xu(u.pendingLanes);g!==0&&(u0(u,g|1),Di(u,Vn()),!(St&6)&&(kl(),rs()))}break;case 13:var S=xi();vS(function(){return gr(c,1,S)}),f1(c,1)}},t.batchedUpdates=function(c,u){var g=St;St|=1;try{return c(u)}finally{St=g,St===0&&(kl(),oh&&rs())}},t.createComponentSelector=function(c){return{$$typeof:Ih,value:c}},t.createContainer=function(c,u,g,S,E,P,B){return CS(c,u,!1,null,g,S,E,P,B)},t.createHasPseudoClassSelector=function(c){return{$$typeof:Dh,value:c}},t.createHydrationContainer=function(c,u,g,S,E,P,B,K,ue){return c=CS(g,S,!0,c,E,P,B,K,ue),c.context=TS(null),g=c.current,S=xi(),E=_o(g),P=Ps(S,E),P.callback=u??null,vo(g,P),c.current.lanes=E,_u(c,E,S),Di(c,S),c},t.createPortal=function(c,u,g){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:S==null?null:""+S,children:c,containerInfo:u,implementation:g}},t.createRoleSelector=function(c){return{$$typeof:kh,value:c}},t.createTestNameSelector=function(c){return{$$typeof:Oh,value:c}},t.createTextSelector=function(c){return{$$typeof:Nh,value:c}},t.deferredUpdates=function(c){var u=kt,g=wn.transition;try{return wn.transition=null,kt=16,c()}finally{kt=u,wn.transition=g}},t.discreteUpdates=function(c,u,g,S,E){var P=kt,B=wn.transition;try{return wn.transition=null,kt=1,c(u,g,S,E)}finally{kt=P,wn.transition=B,St===0&&kl()}},t.findAllNodes=K0,t.findBoundingRects=function(c,u){if(!Mt)throw Error(o(363));u=K0(c,u),c=[];for(var g=0;g<u.length;g++)c.push(U(u[g]));for(u=c.length-1;0<u;u--){g=c[u];for(var S=g.x,E=S+g.width,P=g.y,B=P+g.height,K=u-1;0<=K;K--)if(u!==K){var ue=c[K],Ce=ue.x,Ve=Ce+ue.width,ft=ue.y,ot=ft+ue.height;if(S>=Ce&&P>=ft&&E<=Ve&&B<=ot){c.splice(u,1);break}else if(S!==Ce||g.width!==ue.width||ot<P||ft>B){if(!(P!==ft||g.height!==ue.height||Ve<S||Ce>E)){Ce>S&&(ue.width+=Ce-S,ue.x=S),Ve<E&&(ue.width=E-Ce),c.splice(u,1);break}}else{ft>P&&(ue.height+=ft-P,ue.y=P),ot<B&&(ue.height=B-ft),c.splice(u,1);break}}}return c},t.findHostInstance=AS,t.findHostInstanceWithNoPortals=function(c){return c=O(c),c=c!==null?H(c):null,c===null?null:c.stateNode},t.findHostInstanceWithWarning=function(c){return AS(c)},t.flushControlled=function(c){var u=St;St|=1;var g=wn.transition,S=kt;try{wn.transition=null,kt=1,c()}finally{kt=S,wn.transition=g,St=u,St===0&&(kl(),rs())}},t.flushPassiveEffects=_a,t.flushSync=vS,t.focusWithin=function(c,u){if(!Mt)throw Error(o(363));for(c=Y0(c),u=pS(c,u),u=Array.from(u),c=0;c<u.length;){var g=u[c++];if(!Q(g)){if(g.tag===5&&Se(g.stateNode))return!0;for(g=g.child;g!==null;)u.push(g),g=g.sibling}}return!1},t.getCurrentUpdatePriority=function(){return kt},t.getFindAllNodesFailureDescription=function(c,u){if(!Mt)throw Error(o(363));var g=0,S=[];c=[Y0(c),0];for(var E=0;E<c.length;){var P=c[E++],B=c[E++],K=u[B];if((P.tag!==5||!Q(P))&&(Z0(P,K)&&(S.push(q0(K)),B++,B>g&&(g=B)),B<u.length))for(P=P.child;P!==null;)c.push(P,B),P=P.sibling}if(g<u.length){for(c=[];g<u.length;g++)c.push(q0(u[g]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},t.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return te(c.child.stateNode);default:return c.child.stateNode}},t.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:CL,findFiberByHostInstance:c.findFiberByHostInstance||TL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)c=!0;else{try{sh=u.inject(c),ns=u}catch{}c=!!u.checkDCE}}return c},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(c,u,g,S){if(!Mt)throw Error(o(363));c=K0(c,u);var E=Te(c,g,S).disconnect;return{disconnect:function(){E()}}},t.registerMutableSourceForHydration=function(c,u){var g=u._getVersion;g=g(u._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[u,g]:c.mutableSourceEagerHydrationData.push(u,g)},t.runWithPriority=function(c,u){var g=kt;try{return kt=c,u()}finally{kt=g}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(c,u,g,S){var E=u.current,P=xi(),B=_o(E);return g=TS(g),u.context===null?u.context=g:u.pendingContext=g,u=Ps(P,B),u.payload={element:c},S=S===void 0?null:S,S!==null&&(u.callback=S),vo(E,u),c=gr(E,B,P),c!==null&&uh(c,E,B),B},t};g4.exports=cF;var uF=g4.exports;const fF=Kc(uF),dF=n=>typeof n=="object"&&typeof n.then=="function",qp=[];function hF(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function pF(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of qp)if(hF(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=qp.indexOf(r);s!==-1&&qp.splice(s,1)},promise:(dF(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(qp.push(r),!t)throw r.promise}const o3=(n,e,t)=>pF(n,e,!1,t),Mw={},mF=n=>void Object.assign(Mw,n);function gF(n,e){function t(d,{args:h=[],attach:p,...m},v){let y=`${d[0].toUpperCase()}${d.slice(1)}`,_;if(d==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=m.object;_=sc(x,{type:d,root:v,attach:p,primitive:!0})}else{const x=Mw[y];if(!x)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");_=sc(new x(...h),{type:d,root:v,attach:p,memoizedProps:{args:h}})}return _.__r3f.attach===void 0&&(_ instanceof _t?_.__r3f.attach="geometry":_ instanceof ei&&(_.__r3f.attach="material")),y!=="inject"&&_v(_,m),_}function i(d,h){let p=!1;if(h){var m,v;(m=h.__r3f)!=null&&m.attach?xv(d,h,h.__r3f.attach):h.isObject3D&&d.isObject3D&&(d.add(h),p=!0),p||(v=d.__r3f)==null||v.objects.push(h),h.__r3f||sc(h,{}),h.__r3f.parent=d,vx(h),oc(h)}}function r(d,h,p){let m=!1;if(h){var v,y;if((v=h.__r3f)!=null&&v.attach)xv(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){h.parent=d,h.dispatchEvent({type:"added"});const _=d.children.filter(w=>w!==h),x=_.indexOf(p);d.children=[..._.slice(0,x),h,..._.slice(x)],m=!0}m||(y=d.__r3f)==null||y.objects.push(h),h.__r3f||sc(h,{}),h.__r3f.parent=d,vx(h),oc(h)}}function s(d,h,p=!1){d&&[...d].forEach(m=>o(h,m,p))}function o(d,h,p){if(h){var m,v,y;if(h.__r3f&&(h.__r3f.parent=null),(m=d.__r3f)!=null&&m.objects&&(d.__r3f.objects=d.__r3f.objects.filter(M=>M!==h)),(v=h.__r3f)!=null&&v.attach)f3(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){var _;d.remove(h),(_=h.__r3f)!=null&&_.root&&MF(Tm(h),h)}const w=(y=h.__r3f)==null?void 0:y.primitive,b=!w&&(p===void 0?h.dispose!==null:p);if(!w){var x;s((x=h.__r3f)==null?void 0:x.objects,h,b),s(h.children,h,b)}if(delete h.__r3f,b&&h.dispose&&h.type!=="Scene"){const M=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?mx.unstable_scheduleCallback(mx.unstable_IdlePriority,M):M()}oc(d)}}function a(d,h,p,m){var v;const y=(v=d.__r3f)==null?void 0:v.parent;if(!y)return;const _=t(h,p,d.__r3f.root);if(d.children){for(const x of d.children)x.__r3f&&i(_,x);d.children=d.children.filter(x=>!x.__r3f)}d.__r3f.objects.forEach(x=>i(_,x)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(y,d),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),i(y,_),_.raycast&&_.__r3f.eventCount&&Tm(_).getState().internal.interaction.push(_),[m,m.alternate].forEach(x=>{x!==null&&(x.stateNode=_,x.ref&&(typeof x.ref=="function"?x.ref(_):x.ref.current=_))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:fF({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,h)=>{if(!h)return;const p=d.getState().scene;p.__r3f&&(p.__r3f.root=d,i(p,h))},removeChildFromContainer:(d,h)=>{h&&o(d.getState().scene,h)},insertInContainerBefore:(d,h,p)=>{if(!h||!p)return;const m=d.getState().scene;m.__r3f&&r(m,h,p)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var h;return!!((h=d==null?void 0:d.__r3f)!=null?h:{}).handlers},prepareUpdate(d,h,p,m){var v;if(((v=d==null?void 0:d.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==d)return[!0];{const{args:_=[],children:x,...w}=m,{args:b=[],children:M,...T}=p;if(!Array.isArray(_))throw new Error("R3F: the args prop must be an array!");if(_.some((L,C)=>L!==b[C]))return[!0];const A=E4(d,w,T,!0);return A.changes.length?[!1,A]:null}},commitUpdate(d,[h,p],m,v,y,_){h?a(d,m,y,_):_v(d,p)},commitMount(d,h,p,m){var v;const y=(v=d.__r3f)!=null?v:{};d.raycast&&y.handlers&&y.eventCount&&Tm(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>sc(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var h;const{attach:p,parent:m}=(h=d.__r3f)!=null?h:{};p&&m&&f3(m,d,p),d.isObject3D&&(d.visible=!1),oc(d)},unhideInstance(d,h){var p;const{attach:m,parent:v}=(p=d.__r3f)!=null?p:{};m&&v&&xv(v,d,m),(d.isObject3D&&h.visible==null||h.visible)&&(d.visible=!0),oc(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():bc.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&en.fun(performance.now)?performance.now:en.fun(Date.now)?Date.now:()=>0,scheduleTimeout:en.fun(setTimeout)?setTimeout:void 0,cancelTimeout:en.fun(clearTimeout)?clearTimeout:void 0}),applyProps:_v}}var a3,l3;const yv=n=>"colorSpace"in n||"outputColorSpace"in n,x4=()=>{var n;return(n=Mw.ColorManagement)!=null?n:null},_4=n=>n&&n.isOrthographicCamera,vF=n=>n&&n.hasOwnProperty("current"),Wd=typeof window<"u"&&((a3=window.document)!=null&&a3.createElement||((l3=window.navigator)==null?void 0:l3.product)==="ReactNative")?R.useLayoutEffect:R.useEffect;function w4(n){const e=R.useRef(n);return Wd(()=>void(e.current=n),[n]),e}function yF({set:n}){return Wd(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class S4 extends R.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}S4.getDerivedStateFromError=()=>({error:!0});const b4="__default",c3=new Map,xF=n=>n&&!!n.memoized&&!!n.changes;function M4(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const sf=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function Tm(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const en={obj:n=>n===Object(n)&&!en.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(en.str(n)||en.num(n))return n===e;const s=en.obj(n);if(s&&i==="reference")return n===e;const o=en.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!en.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(en.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function _F(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function sc(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function gx(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const u3=/-\d+$/;function xv(n,e,t){if(en.str(t)){if(u3.test(t)){const s=t.replace(u3,""),{target:o,key:a}=gx(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=gx(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function f3(n,e,t){var i,r;if(en.str(t)){const{target:s,key:o}=gx(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function E4(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},f=!1){var d;const h=(d=n==null?void 0:n.__r3f)!=null?d:{},p=Object.entries(r),m=[];if(f){const y=Object.keys(l);for(let _=0;_<y.length;_++)r.hasOwnProperty(y[_])||p.unshift([y[_],b4+"remove"])}p.forEach(([y,_])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&y==="object"||en.equ(_,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return m.push([y,_,!0,[]]);let w=[];y.includes("-")&&(w=y.split("-")),m.push([y,_,!1,w]);for(const b in r){const M=r[b];b.startsWith(`${y}-`)&&m.push([b,M,!1,b.split("-")])}});const v={...r};return h.memoizedProps&&h.memoizedProps.args&&(v.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(v.attach=h.memoizedProps.attach),{memoized:v,changes:m}}const wF=typeof process<"u"&&!1;function _v(n,e){var t,i,r;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:l,changes:f}=xF(e)?e:E4(n,e),d=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<f.length;p++){let[m,v,y,_]=f[p];if(yv(n)){const M="srgb",T="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?M:T):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?M:T)}let x=n,w=x[m];if(_.length&&(w=_.reduce((b,M)=>b[M],n),!(w&&w.set))){const[b,...M]=_.reverse();x=M.reverse().reduce((T,A)=>T[A],n),m=b}if(v===b4+"remove")if(x.constructor){let b=c3.get(x.constructor);b||(b=new x.constructor,c3.set(x.constructor,b)),v=b[m]}else v=0;if(y)v?s.handlers[m]=v:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(w&&w.set&&(w.copy||w instanceof Ja)){if(Array.isArray(v))w.fromArray?w.fromArray(v):w.set(...v);else if(w.copy&&v&&v.constructor&&(wF?w.constructor.name===v.constructor.name:w.constructor===v.constructor))w.copy(v);else if(v!==void 0){const b=w instanceof Be;!b&&w.setScalar?w.setScalar(v):w instanceof Ja&&v instanceof Ja?w.mask=v.mask:w.set(v),!x4()&&!a.linear&&b&&w.convertSRGBToLinear()}}else if(x[m]=v,x[m]instanceof fn&&x[m].format===Fi&&x[m].type===so){const b=x[m];yv(b)&&yv(a.gl)?b.colorSpace=a.gl.outputColorSpace:b.encoding=a.gl.outputEncoding}oc(n)}if(s.parent&&n.raycast&&d!==s.eventCount){const p=Tm(n).getState().internal,m=p.interaction.indexOf(n);m>-1&&p.interaction.splice(m,1),s.eventCount&&p.interaction.push(n)}return!(f.length===1&&f[0][0]==="onUpdate")&&f.length&&(r=n.__r3f)!=null&&r.parent&&vx(n),n}function oc(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function vx(n){n.onUpdate==null||n.onUpdate(n)}function SF(n,e){n.manual||(_4(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Kp(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function bF(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return bc.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return bc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return bc.ContinuousEventPriority;default:return bc.DefaultEventPriority}}function C4(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function MF(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{C4(t.capturedMap,e,i,r)})}function EF(n){function e(l){const{internal:f}=n.getState(),d=l.offsetX-f.initialClick[0],h=l.offsetY-f.initialClick[1];return Math.round(Math.sqrt(d*d+h*h))}function t(l){return l.filter(f=>["Move","Over","Enter","Out","Leave"].some(d=>{var h;return(h=f.__r3f)==null?void 0:h.handlers["onPointer"+d]}))}function i(l,f){const d=n.getState(),h=new Set,p=[],m=f?f(d.internal.interaction):d.internal.interaction;for(let x=0;x<m.length;x++){const w=sf(m[x]);w&&(w.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function v(x){const w=sf(x);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var b;w.events.compute==null||w.events.compute(l,w,(b=w.previousRoot)==null?void 0:b.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(x,!0):[]}let y=m.flatMap(v).sort((x,w)=>{const b=sf(x.object),M=sf(w.object);return!b||!M?x.distance-w.distance:M.events.priority-b.events.priority||x.distance-w.distance}).filter(x=>{const w=Kp(x);return h.has(w)?!1:(h.add(w),!0)});d.events.filter&&(y=d.events.filter(y,d));for(const x of y){let w=x.object;for(;w;){var _;(_=w.__r3f)!=null&&_.eventCount&&p.push({...x,eventObject:w}),w=w.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let x of d.internal.capturedMap.get(l.pointerId).values())h.has(Kp(x.intersection))||p.push(x.intersection);return p}function r(l,f,d,h){const p=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const y=sf(v.object)||p,{raycaster:_,pointer:x,camera:w,internal:b}=y,M=new z(x.x,x.y,0).unproject(w),T=D=>{var O,$;return(O=($=b.capturedMap.get(D))==null?void 0:$.has(v.eventObject))!=null?O:!1},A=D=>{const O={intersection:v,target:f.target};b.capturedMap.has(D)?b.capturedMap.get(D).set(v.eventObject,O):b.capturedMap.set(D,new Map([[v.eventObject,O]])),f.target.setPointerCapture(D)},L=D=>{const O=b.capturedMap.get(D);O&&C4(b.capturedMap,v.eventObject,O,D)};let C={};for(let D in f){let O=f[D];typeof O!="function"&&(C[D]=O)}let k={...v,...C,pointer:x,intersections:l,stopped:m.stopped,delta:d,unprojectedPoint:M,ray:_.ray,camera:w,stopPropagation(){const D="pointerId"in f&&b.capturedMap.get(f.pointerId);if((!D||D.has(v.eventObject))&&(k.stopped=m.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(O=>O.eventObject===v.eventObject))){const O=l.slice(0,l.indexOf(v));s([...O,v])}},target:{hasPointerCapture:T,setPointerCapture:A,releasePointerCapture:L},currentTarget:{hasPointerCapture:T,setPointerCapture:A,releasePointerCapture:L},nativeEvent:f};if(h(k),m.stopped===!0)break}}return l}function s(l){const{internal:f}=n.getState();for(const d of f.hovered.values())if(!l.length||!l.find(h=>h.object===d.object&&h.index===d.index&&h.instanceId===d.instanceId)){const p=d.eventObject.__r3f,m=p==null?void 0:p.handlers;if(f.hovered.delete(Kp(d)),p!=null&&p.eventCount){const v={...d,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,f){for(let d=0;d<f.length;d++){const h=f[d].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return f=>{const{internal:d}=n.getState();"pointerId"in f&&d.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(f.pointerId)&&(d.capturedMap.delete(f.pointerId),s([]))})}}return function(d){const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=d;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=i(d,m?t:void 0),x=v?e(d):0;l==="onPointerDown"&&(p.initialClick=[d.offsetX,d.offsetY],p.initialHits=_.map(b=>b.eventObject)),v&&!_.length&&x<=2&&(o(d,p.interaction),h&&h(d)),m&&s(_);function w(b){const M=b.eventObject,T=M.__r3f,A=T==null?void 0:T.handlers;if(T!=null&&T.eventCount)if(m){if(A.onPointerOver||A.onPointerEnter||A.onPointerOut||A.onPointerLeave){const L=Kp(b),C=p.hovered.get(L);C?C.stopped&&b.stopPropagation():(p.hovered.set(L,b),A.onPointerOver==null||A.onPointerOver(b),A.onPointerEnter==null||A.onPointerEnter(b))}A.onPointerMove==null||A.onPointerMove(b)}else{const L=A[l];L?(!v||p.initialHits.includes(M))&&(o(d,p.interaction.filter(C=>!p.initialHits.includes(C))),L(b)):v&&p.initialHits.includes(M)&&o(d,p.interaction.filter(C=>!p.initialHits.includes(C)))}}r(_,d,x,w)}}return{handlePointer:a}}const T4=n=>!!(n!=null&&n.render),A4=R.createContext(null),CF=(n,e)=>{const t=bw((a,l)=>{const f=new z,d=new z,h=new z;function p(x=l().camera,w=d,b=l().size){const{width:M,height:T,top:A,left:L}=b,C=M/T;w instanceof z?h.copy(w):h.set(...w);const k=x.getWorldPosition(f).distanceTo(h);if(_4(x))return{width:M/x.zoom,height:T/x.zoom,top:A,left:L,factor:1,distance:k,aspect:C};{const D=x.fov*Math.PI/180,O=2*Math.tan(D/2)*k,$=O*(M/T);return{width:$,height:O,top:A,left:L,factor:M/$,distance:k,aspect:C}}}let m;const v=x=>a(w=>({performance:{...w.performance,current:x}})),y=new ve;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(x=1)=>n(l(),x),advance:(x,w)=>e(x,w,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new xw,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();m&&clearTimeout(m),x.performance.current!==x.performance.min&&v(x.performance.min),m=setTimeout(()=>v(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:x=>a(w=>({...w,events:{...w.events,...x}})),setSize:(x,w,b,M,T)=>{const A=l().camera,L={width:x,height:w,top:M||0,left:T||0,updateStyle:b};a(C=>({size:L,viewport:{...C.viewport,...p(A,d,L)}}))},setDpr:x=>a(w=>{const b=M4(x);return{viewport:{...w.viewport,dpr:b,initialDpr:w.viewport.initialDpr||b}}}),setFrameloop:(x="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,x!=="never"&&(w.start(),w.elapsedTime=0),a(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:R.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,w,b)=>{const M=l().internal;return M.priority=M.priority+(w>0?1:0),M.subscribers.push({ref:x,priority:w,store:b}),M.subscribers=M.subscribers.sort((T,A)=>T.priority-A.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(w>0?1:0),T.subscribers=T.subscribers.filter(A=>A.ref!==x))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:f,gl:d,set:h}=t.getState();if(l.width!==r.width||l.height!==r.height||f.dpr!==s){var p;r=l,s=f.dpr,SF(a,l),d.setPixelRatio(f.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};function Ew(n,e){const t={callback:n};return e.add(t),()=>void e.delete(t)}let Jp,P4=new Set,R4=new Set,L4=new Set;const TF=n=>Ew(n,P4),AF=n=>Ew(n,R4),PF=n=>Ew(n,L4);function wv(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function of(n,e){switch(n){case"before":return wv(P4,e);case"after":return wv(R4,e);case"tail":return wv(L4,e)}}let Sv,bv;function Mv(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),Sv=e.internal.subscribers,Jp=0;Jp<Sv.length;Jp++)bv=Sv[Jp],bv.ref.current(bv.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function RF(n){let e=!1,t,i,r;function s(l){i=requestAnimationFrame(s),e=!0,t=0,of("before",l);for(const d of n.values()){var f;r=d.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((f=r.gl.xr)!=null&&f.isPresenting)&&(t+=Mv(l,r))}if(of("after",l),t===0)return of("tail",l),e=!1,cancelAnimationFrame(i)}function o(l,f=1){var d;if(!l)return n.forEach(h=>o(h.store.getState(),f));(d=l.gl.xr)!=null&&d.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+f),e||(e=!0,requestAnimationFrame(s)))}function a(l,f=!0,d,h){if(f&&of("before",l),d)Mv(l,d,h);else for(const p of n.values())Mv(l,p.store.getState());f&&of("after",l)}return{loop:s,invalidate:o,advance:a}}function I4(){const n=R.useContext(A4);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function wr(n=t=>t,e){return I4()(n,e)}function Qg(n,e=0){const t=I4(),i=t.getState().internal.subscribe,r=w4(n);return Wd(()=>i(r,e,t),[e,i,t]),null}const Xc=new Map,{invalidate:d3,advance:h3}=RF(Xc),{reconciler:rg,applyProps:ec}=gF(Xc,bF),tc={objects:"shallow",strict:!1},LF=(n,e)=>{const t=typeof n=="function"?n(e):n;return T4(t)?t:new Q_({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function IF(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function DF(n){const e=Xc.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||CF(d3,h3),o=t||rg.createContainer(s,bc.ConcurrentRoot,null,!1,null,"",r,null);e||Xc.set(n,{fiber:o,store:s});let a,l=!1,f;return{configure(d={}){let{gl:h,size:p,scene:m,events:v,onCreated:y,shadows:_=!1,linear:x=!1,flat:w=!1,legacy:b=!1,orthographic:M=!1,frameloop:T="always",dpr:A=[1,2],performance:L,raycaster:C,camera:k,onPointerMissed:D}=d,O=s.getState(),$=O.gl;O.gl||O.set({gl:$=LF(h,n)});let W=O.raycaster;W||O.set({raycaster:W=new h4});const{params:H,...q}=C||{};if(en.equ(q,W,tc)||ec(W,{...q}),en.equ(H,W.params,tc)||ec(W,{params:{...W.params,...H}}),!O.camera||O.camera===f&&!en.equ(f,k,tc)){f=k;const G=k instanceof Ad,X=G?k:M?new Ks(0,0,0,0,.1,1e3):new xn(75,0,.1,1e3);G||(X.position.z=5,k&&ec(X,k),!O.camera&&!(k!=null&&k.rotation)&&X.lookAt(0,0,0)),O.set({camera:X}),W.camera=X}if(!O.scene){let G;m instanceof Gc?G=m:(G=new Gc,m&&ec(G,m)),O.set({scene:sc(G)})}if(!O.xr){var te;const G=(pe,ye)=>{const be=s.getState();be.frameloop!=="never"&&h3(pe,!0,be,ye)},X=()=>{const pe=s.getState();pe.gl.xr.enabled=pe.gl.xr.isPresenting,pe.gl.xr.setAnimationLoop(pe.gl.xr.isPresenting?G:null),pe.gl.xr.isPresenting||d3(pe)},J={connect(){const pe=s.getState().gl;pe.xr.addEventListener("sessionstart",X),pe.xr.addEventListener("sessionend",X)},disconnect(){const pe=s.getState().gl;pe.xr.removeEventListener("sessionstart",X),pe.xr.removeEventListener("sessionend",X)}};typeof((te=$.xr)==null?void 0:te.addEventListener)=="function"&&J.connect(),O.set({xr:J})}if($.shadowMap){const G=$.shadowMap.enabled,X=$.shadowMap.type;if($.shadowMap.enabled=!!_,en.boo(_))$.shadowMap.type=Cf;else if(en.str(_)){var se;const J={basic:m5,percentage:zg,soft:Cf,variance:Ua};$.shadowMap.type=(se=J[_])!=null?se:Cf}else en.obj(_)&&Object.assign($.shadowMap,_);(G!==$.shadowMap.enabled||X!==$.shadowMap.type)&&($.shadowMap.needsUpdate=!0)}const N=x4();N&&("enabled"in N?N.enabled=!b:"legacyMode"in N&&(N.legacyMode=b)),l||ec($,{outputEncoding:x?3e3:3001,toneMapping:w?qr:V_}),O.legacy!==b&&O.set(()=>({legacy:b})),O.linear!==x&&O.set(()=>({linear:x})),O.flat!==w&&O.set(()=>({flat:w})),h&&!en.fun(h)&&!T4(h)&&!en.equ(h,$,tc)&&ec($,h),v&&!O.events.handlers&&O.set({events:v(s)});const Y=IF(n,p);return en.equ(Y,O.size,tc)||O.setSize(Y.width,Y.height,Y.updateStyle,Y.top,Y.left),A&&O.viewport.dpr!==M4(A)&&O.setDpr(A),O.frameloop!==T&&O.setFrameloop(T),O.onPointerMissed||O.set({onPointerMissed:D}),L&&!en.equ(L,O.performance,tc)&&O.set(G=>({performance:{...G.performance,...L}})),a=y,l=!0,this},render(d){return l||this.configure(),rg.updateContainer(R.createElement(kF,{store:s,children:d,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){D4(n)}}}function kF({store:n,children:e,onCreated:t,rootElement:i}){return Wd(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),R.createElement(A4.Provider,{value:n},e)}function D4(n,e){const t=Xc.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),rg.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),_F(r),Xc.delete(n),e&&e(n)}catch{}},500)})}}rg.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:R.version});function hn(){return hn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hn.apply(this,arguments)}function yx(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var d=Date.now()-o;d<e&&d>=0?i=setTimeout(l,e-d):(i=null,t||(a=n.apply(s,r),s=r=null))}var f=function(){s=this,r=arguments,o=Date.now();var d=t&&!i;return i||(i=setTimeout(l,e)),d&&(a=n.apply(s,r),s=r=null),a};return f.clear=function(){i&&(clearTimeout(i),i=null)},f.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},f}yx.debounce=yx;var OF=yx;const p3=Kc(OF);function NF(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=R.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=R.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),f=e?typeof e=="number"?e:e.scroll:null,d=e?typeof e=="number"?e:e.resize:null,h=R.useRef(!1);R.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,m,v]=R.useMemo(()=>{const w=()=>{if(!l.current.element)return;const{left:b,top:M,width:T,height:A,bottom:L,right:C,x:k,y:D}=l.current.element.getBoundingClientRect(),O={left:b,top:M,width:T,height:A,bottom:L,right:C,x:k,y:D};l.current.element instanceof HTMLElement&&r&&(O.height=l.current.element.offsetHeight,O.width=l.current.element.offsetWidth),Object.freeze(O),h.current&&!UF(l.current.lastBounds,O)&&a(l.current.lastBounds=O)};return[w,d?p3(w,d):w,f?p3(w,f):w]},[a,r,f,d]);function y(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function _(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(w=>w.addEventListener("scroll",v,{capture:!0,passive:!0})))}const x=w=>{!w||w===l.current.element||(y(),l.current.element=w,l.current.scrollContainers=k4(w),_())};return FF(v,!!t),zF(m),R.useEffect(()=>{y(),_()},[t,v,m]),R.useEffect(()=>y,[]),[x,o,p]}function zF(n){R.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function FF(n,e){R.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function k4(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...k4(n.parentElement)]}const BF=["x","y","top","bottom","left","right","width","height"],UF=(n,e)=>BF.every(t=>n[t]===e[t]);var HF=Object.defineProperty,VF=Object.defineProperties,WF=Object.getOwnPropertyDescriptors,m3=Object.getOwnPropertySymbols,$F=Object.prototype.hasOwnProperty,GF=Object.prototype.propertyIsEnumerable,g3=(n,e,t)=>e in n?HF(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,v3=(n,e)=>{for(var t in e||(e={}))$F.call(e,t)&&g3(n,t,e[t]);if(m3)for(var t of m3(e))GF.call(e,t)&&g3(n,t,e[t]);return n},jF=(n,e)=>VF(n,WF(e));function O4(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=O4(i,e,t);if(r)return r;i=e?null:i.sibling}}function N4(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const Cw=N4(R.createContext(null));class z4 extends R.Component{render(){return R.createElement(Cw.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:y3,ReactCurrentDispatcher:x3}=R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function XF(){const n=R.useContext(Cw);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=R.useId();return R.useMemo(()=>{for(const i of[y3==null?void 0:y3.current,n,n==null?void 0:n.alternate]){if(!i)continue;const r=O4(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function YF(){var n,e;const t=XF(),[i]=R.useState(()=>new Map);i.clear();let r=t;for(;r;){const s=(n=r.type)==null?void 0:n._context;s&&s!==Cw&&!i.has(s)&&i.set(s,(e=x3==null?void 0:x3.current)==null?void 0:e.readContext(N4(s))),r=r.return}return i}function ZF(){const n=YF();return R.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>R.createElement(e,null,R.createElement(t.Provider,jF(v3({},i),{value:n.get(t)}))),e=>R.createElement(z4,v3({},e))),[n])}const Ev={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function qF(n){const{handlePointer:e}=EF(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(Ev).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,f]=Ev[o];t.addEventListener(l,a,{passive:f})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=Ev[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const KF=R.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=qF,eventSource:a,eventPrefix:l,shadows:f,linear:d,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:y,performance:_,raycaster:x,camera:w,scene:b,onPointerMissed:M,onCreated:T,...A},L){R.useMemo(()=>mF(oF),[]);const C=ZF(),[k,D]=NF({scroll:!0,debounce:{scroll:50,resize:0},...i}),O=R.useRef(null),$=R.useRef(null);R.useImperativeHandle(L,()=>O.current);const W=w4(M),[H,q]=R.useState(!1),[te,se]=R.useState(!1);if(H)throw H;if(te)throw te;const N=R.useRef(null);Wd(()=>{const G=O.current;D.width>0&&D.height>0&&G&&(N.current||(N.current=DF(G)),N.current.configure({gl:s,events:o,shadows:f,linear:d,flat:h,legacy:p,orthographic:m,frameloop:v,dpr:y,performance:_,raycaster:x,camera:w,scene:b,size:D,onPointerMissed:(...X)=>W.current==null?void 0:W.current(...X),onCreated:X=>{X.events.connect==null||X.events.connect(a?vF(a)?a.current:a:$.current),l&&X.setEvents({compute:(J,pe)=>{const ye=J[l+"X"],be=J[l+"Y"];pe.pointer.set(ye/pe.size.width*2-1,-(be/pe.size.height)*2+1),pe.raycaster.setFromCamera(pe.pointer,pe.camera)}}),T==null||T(X)}}),N.current.render(R.createElement(C,null,R.createElement(S4,{set:se},R.createElement(R.Suspense,{fallback:R.createElement(yF,{set:q})},e)))))}),R.useEffect(()=>{const G=O.current;if(G)return()=>D4(G)},[]);const Y=a?"none":"auto";return R.createElement("div",hn({ref:$,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Y,...r}},A),R.createElement("div",{ref:k,style:{width:"100%",height:"100%"}},R.createElement("canvas",{ref:O,style:{display:"block"}},t)))}),F4=R.forwardRef(function(e,t){return R.createElement(z4,null,R.createElement(KF,hn({},e,{ref:t})))});function JF(n,e,t){return Math.max(e,Math.min(n,t))}const hi={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function _3(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function w3(n,e,t,i=.15){return i===0?JF(n,e,t):n<e?-_3(e-n,t-e,i)+e:n>t?+_3(n-t,t-e,i)+t:n}function QF(n,[e,t],[i,r]){const[[s,o],[a,l]]=n;return[w3(e,s,o,i),w3(t,a,l,r)]}function eB(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function tB(n){var e=eB(n,"string");return typeof e=="symbol"?e:String(e)}function Oi(n,e,t){return e=tB(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function S3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function cn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?S3(Object(t),!0).forEach(function(i){Oi(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):S3(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const B4={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function b3(n){return n?n[0].toUpperCase()+n.slice(1):""}const nB=["enter","leave"];function iB(n=!1,e){return n&&!nB.includes(e)}function rB(n,e="",t=!1){const i=B4[n],r=i&&i[e]||e;return"on"+b3(n)+b3(r)+(iB(t,r)?"Capture":"")}const sB=["gotpointercapture","lostpointercapture"];function oB(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const i=sB.includes(e)?"capturecapture":"capture",r=!!~e.indexOf(i);return r&&(e=e.replace("capture","")),{device:e,capture:r,passive:t}}function aB(n,e=""){const t=B4[n],i=t&&t[e]||e;return n+i}function e0(n){return"touches"in n}function U4(n){return e0(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function lB(n){return Array.from(n.touches).filter(e=>{var t,i;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(i=t.contains)===null||i===void 0?void 0:i.call(t,e.target))})}function cB(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function H4(n){return e0(n)?cB(n)[0]:n}function uB(n){return lB(n).map(e=>e.identifier)}function Cv(n){const e=H4(n);return e0(n)?e.identifier:e.pointerId}function M3(n){const e=H4(n);return[e.clientX,e.clientY]}function fB(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:i,metaKey:r,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:i,metaKey:r,ctrlKey:s})}return e}function sg(n,...e){return typeof n=="function"?n(...e):n}function dB(){}function hB(...n){return n.length===0?dB:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function E3(n,e){return Object.assign({},e,n||{})}const pB=32;class mB{constructor(e,t,i){this.ctrl=e,this.args=t,this.key=i,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:i,args:r}=this;t[i]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,i=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=i.from?sg(i.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:i,shared:r}=this;t.args=this.args;let s=0;if(e&&(t.event=e,i.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,fB(e)),r.down=r.pressed=r.buttons%2===1||r.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const A=t._delta.map(Math.abs);hi.addTo(t._distance,A)}this.axisIntent&&this.axisIntent(e);const[o,a]=t._movement,[l,f]=i.threshold,{_step:d,values:h}=t;if(i.hasCustomTransform?(d[0]===!1&&(d[0]=Math.abs(o)>=l&&h[0]),d[1]===!1&&(d[1]=Math.abs(a)>=f&&h[1])):(d[0]===!1&&(d[0]=Math.abs(o)>=l&&Math.sign(o)*l),d[1]===!1&&(d[1]=Math.abs(a)>=f&&Math.sign(a)*f)),t.intentional=d[0]!==!1||d[1]!==!1,!t.intentional)return;const p=[0,0];if(i.hasCustomTransform){const[A,L]=h;p[0]=d[0]!==!1?A-d[0]:0,p[1]=d[1]!==!1?L-d[1]:0}else p[0]=d[0]!==!1?o-d[0]:0,p[1]=d[1]!==!1?a-d[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(p);const m=t.offset,v=t._active&&!t._blocked||t.active;v&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in i&&(t._bounds=sg(i.bounds,t)),this.setup&&this.setup()),t.movement=p,this.computeOffset()));const[y,_]=t.offset,[[x,w],[b,M]]=t._bounds;t.overflow=[y<x?-1:y>w?1:0,_<b?-1:_>M?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const T=t._active?i.rubberband||[0,0]:[0,0];if(t.offset=QF(t._bounds,t.offset,T),t.delta=hi.sub(t.offset,m),this.computeMovement(),v&&(!t.last||s>pB)){t.delta=hi.sub(t.offset,m);const A=t.delta.map(Math.abs);hi.addTo(t.distance,A),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[A[0]/s,A[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,i=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!i.triggerAllEvents)return;const r=this.handler(cn(cn(cn({},t),e),{},{[this.aliasKey]:e.values}));r!==void 0&&(e.memo=r)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function gB([n,e],t){const i=Math.abs(n),r=Math.abs(e);if(i>r&&i>t)return"x";if(r>i&&r>t)return"y"}class vB extends mB{constructor(...e){super(...e),Oi(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=hi.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=hi.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,i=this.config;if(!t.axis&&e){const r=typeof i.axisThreshold=="object"?i.axisThreshold[U4(e)]:i.axisThreshold;t.axis=gB(t._movement,r)}t._blocked=(i.lockDirection||!!i.axis)&&!t.axis||!!i.axis&&i.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const yB=n=>n,C3=.15,V4={enabled(n=!0){return n},eventOptions(n,e,t){return cn(cn({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[C3,C3];case!1:return[0,0];default:return hi.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return hi.toVector(n)},transform(n,e,t){const i=n||t.shared.transform;return this.hasCustomTransform=!!i,i||yB},threshold(n){return hi.toVector(n,0)}},xB=0,$d=cn(cn({},V4),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=xB){return n},bounds(n={}){if(typeof n=="function")return s=>$d.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:i=-1/0,bottom:r=1/0}=n;return[[e,t],[i,r]]}}),T3={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class _B extends vB{constructor(...e){super(...e),Oi(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),i=e.currentTarget.getBoundingClientRect(),r={left:t.left-i.left+e.offset[0],right:t.right-i.right+e.offset[0],top:t.top-i.top+e.offset[1],bottom:t.bottom-i.bottom+e.offset[1]};e._bounds=$d.bounds(r)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,i=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const r=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(r&&r.size>1&&i._pointerActive)&&(this.start(e),this.setupPointer(e),i._pointerId=Cv(e),i._pointerActive=!0,this.computeValues(M3(e)),this.computeInitial(),t.preventScrollAxis&&U4(e)!=="mouse"?(i._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,i=this.config;if(!t._pointerActive)return;const r=Cv(e);if(t._pointerId!==void 0&&r!==t._pointerId)return;const s=M3(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=hi.sub(s,t._values),this.computeValues(s)),hi.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(i.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===i.preventScrollAxis||i.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,i=this.config;if(!t._active||!t._pointerActive)return;const r=Cv(e);if(t._pointerId!==void 0&&r!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=i.tapsThreshold&&o<=i.tapsThreshold,t.tap&&i.filterTaps)t._force=!0;else{const[a,l]=t._delta,[f,d]=t._movement,[h,p]=i.swipe.velocity,[m,v]=i.swipe.distance,y=i.swipe.duration;if(t.elapsedTime<y){const _=Math.abs(a/t.timeDelta),x=Math.abs(l/t.timeDelta);_>h&&Math.abs(f)>m&&(t.swipe[0]=Math.sign(a)),x>p&&Math.abs(d)>v&&(t.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,i=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,i,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,wB(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=T3[e.key];if(t){const i=this.state,r=e.shiftKey?10:e.altKey?.1:1;this.start(e),i._delta=t(this.config.keyboardDisplacement,r),i._keyboardActive=!0,hi.addTo(i._movement,i._delta),this.compute(e),this.emit()}}keyUp(e){e.key in T3&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function wB(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const Gd=typeof window<"u"&&window.document&&window.document.createElement;function W4(){return Gd&&"ontouchstart"in window}function SB(){return W4()||Gd&&window.navigator.maxTouchPoints>1}function bB(){return Gd&&"onpointerdown"in window}function MB(){return Gd&&"exitPointerLock"in window.document}function EB(){try{return"constructor"in GestureEvent}catch{return!1}}const Mr={isBrowser:Gd,gesture:EB(),touch:W4(),touchscreen:SB(),pointer:bB(),pointerLock:MB()},CB=250,TB=180,AB=.5,PB=50,RB=250,LB=10,A3={mouse:0,touch:0,pen:8},IB=cn(cn({},$d),{},{device(n,e,{pointer:{touch:t=!1,lock:i=!1,mouse:r=!1}={}}){return this.pointerLock=i&&Mr.pointerLock,Mr.touch&&t?"touch":this.pointerLock?"mouse":Mr.pointer&&!r?"pointer":Mr.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?CB:void 0,!(!Mr.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:i=1,keys:r=!0}={}}){return this.pointerButtons=i,this.keys=r,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:i=3,axis:r=void 0}){const s=hi.toVector(n,t?i:r?1:0);return this.filterTaps=t,this.tapsThreshold=i,s},swipe({velocity:n=AB,distance:e=PB,duration:t=RB}={}){return{velocity:this.transform(hi.toVector(n)),distance:this.transform(hi.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return TB;case!1:return 0;default:return n}},axisThreshold(n){return n?cn(cn({},A3),n):A3},keyboardDisplacement(n=LB){return n}});cn(cn({},V4),{},{device(n,e,{shared:t,pointer:{touch:i=!1}={}}){if(t.target&&!Mr.touch&&Mr.gesture)return"gesture";if(Mr.touch&&i)return"touch";if(Mr.touchscreen){if(Mr.pointer)return"pointer";if(Mr.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:i={}}){const r=o=>{const a=E3(sg(t,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=E3(sg(i,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof i!="function"?[r(),s()]:o=>[r(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",hi.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});cn(cn({},$d),{},{mouseOnly:(n=!0)=>n});cn(cn({},$d),{},{mouseOnly:(n=!0)=>n});const $4=new Map,xx=new Map;function DB(n){$4.set(n.key,n.engine),xx.set(n.key,n.resolver)}const kB={key:"drag",engine:_B,resolver:IB};function OB(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function NB(n,e){if(n==null)return{};var t=OB(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}const zB={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=Mr.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},FB=["target","eventOptions","window","enabled","transform"];function Am(n={},e){const t={};for(const[i,r]of Object.entries(e))switch(typeof r){case"function":t[i]=r.call(t,n[i],i,n);break;case"object":t[i]=Am(n[i],r);break;case"boolean":r&&(t[i]=n[i]);break}return t}function BB(n,e,t={}){const i=n,{target:r,eventOptions:s,window:o,enabled:a,transform:l}=i,f=NB(i,FB);if(t.shared=Am({target:r,eventOptions:s,window:o,enabled:a,transform:l},zB),e){const d=xx.get(e);t[e]=Am(cn({shared:t.shared},f),d)}else for(const d in f){const h=xx.get(d);h&&(t[d]=Am(cn({shared:t.shared},f[d]),h))}return t}class G4{constructor(e,t){Oi(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,i,r,s){const o=this._listeners,a=aB(t,i),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},f=cn(cn({},l),s);e.addEventListener(a,r,f);const d=()=>{e.removeEventListener(a,r,f),o.delete(d)};return o.add(d),d}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class UB{constructor(){Oi(this,"_timeouts",new Map)}add(e,t,i=140,...r){this.remove(e),this._timeouts.set(e,window.setTimeout(t,i,...r))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class HB{constructor(e){Oi(this,"gestures",new Set),Oi(this,"_targetEventStore",new G4(this)),Oi(this,"gestureEventStores",{}),Oi(this,"gestureTimeoutStores",{}),Oi(this,"handlers",{}),Oi(this,"config",{}),Oi(this,"pointerIds",new Set),Oi(this,"touchIds",new Set),Oi(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),VB(this,e)}setEventIds(e){if(e0(e))return this.touchIds=new Set(uB(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=BB(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,i={};let r;if(!(t.target&&(r=t.target(),!r))){if(t.enabled){for(const o of this.gestures){const a=this.config[o],l=P3(i,a.eventOptions,!!r);if(a.enabled){const f=$4.get(o);new f(this,e,o).bind(l)}}const s=P3(i,t.eventOptions,!!r);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](cn(cn({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in i)i[s]=hB(...i[s]);if(!r)return i;for(const s in i){const{device:o,capture:a,passive:l}=oB(s);this._targetEventStore.add(r,o,"",i[s],{capture:a,passive:l})}}}}function nc(n,e){n.gestures.add(e),n.gestureEventStores[e]=new G4(n,e),n.gestureTimeoutStores[e]=new UB}function VB(n,e){e.drag&&nc(n,"drag"),e.wheel&&nc(n,"wheel"),e.scroll&&nc(n,"scroll"),e.move&&nc(n,"move"),e.pinch&&nc(n,"pinch"),e.hover&&nc(n,"hover")}const P3=(n,e,t)=>(i,r,s,o={},a=!1)=>{var l,f;const d=(l=o.capture)!==null&&l!==void 0?l:e.capture,h=(f=o.passive)!==null&&f!==void 0?f:e.passive;let p=a?i:rB(i,r,d);t&&h&&(p+="Passive"),n[p]=n[p]||[],n[p].push(s)};function WB(n,e={},t,i){const r=V.useMemo(()=>new HB(n),[]);if(r.applyHandlers(n,i),r.applyConfig(e,t),V.useEffect(r.effect.bind(r)),V.useEffect(()=>r.clean.bind(r),[]),e.target===void 0)return r.bind.bind(r)}function $B(n,e){return DB(kB),WB({drag:n},e||{},"drag")}const GB=n=>(e,t,i)=>{const r=i.subscribe;return i.subscribe=(o,a,l)=>{let f=o;if(a){const d=(l==null?void 0:l.equalityFn)||Object.is;let h=o(i.getState());f=p=>{const m=o(p);if(!d(h,m)){const v=h;a(h=m,v)}},l!=null&&l.fireImmediately&&a(h,h)}return r(f)},n(e,t,i)};function jB(n){let e=0;for(let i in n.attributes){const r=n.getAttribute(i);e+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}const t=n.getIndex();return e+=t?t.count*t.itemSize*t.array.BYTES_PER_ELEMENT:0,e}var XB=Object.defineProperty,YB=(n,e,t)=>e in n?XB(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ct=(n,e,t)=>(YB(n,typeof e!="symbol"?e+"":e,t),t);const Qp=new nu,R3=new Ws,ZB=Math.cos(70*(Math.PI/180)),L3=(n,e)=>(n%e+e)%e;let qB=class extends Ss{constructor(e,t){super(),ct(this,"object"),ct(this,"domElement"),ct(this,"enabled",!0),ct(this,"target",new z),ct(this,"minDistance",0),ct(this,"maxDistance",1/0),ct(this,"minZoom",0),ct(this,"maxZoom",1/0),ct(this,"minPolarAngle",0),ct(this,"maxPolarAngle",Math.PI),ct(this,"minAzimuthAngle",-1/0),ct(this,"maxAzimuthAngle",1/0),ct(this,"enableDamping",!1),ct(this,"dampingFactor",.05),ct(this,"enableZoom",!0),ct(this,"zoomSpeed",1),ct(this,"enableRotate",!0),ct(this,"rotateSpeed",1),ct(this,"enablePan",!0),ct(this,"panSpeed",1),ct(this,"screenSpacePanning",!0),ct(this,"keyPanSpeed",7),ct(this,"zoomToCursor",!1),ct(this,"autoRotate",!1),ct(this,"autoRotateSpeed",2),ct(this,"reverseOrbit",!1),ct(this,"reverseHorizontalOrbit",!1),ct(this,"reverseVerticalOrbit",!1),ct(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ct(this,"mouseButtons",{LEFT:Ia.ROTATE,MIDDLE:Ia.DOLLY,RIGHT:Ia.PAN}),ct(this,"touches",{ONE:Da.ROTATE,TWO:Da.DOLLY_PAN}),ct(this,"target0"),ct(this,"position0"),ct(this,"zoom0"),ct(this,"_domElementKeyEvents",null),ct(this,"getPolarAngle"),ct(this,"getAzimuthalAngle"),ct(this,"setPolarAngle"),ct(this,"setAzimuthalAngle"),ct(this,"getDistance"),ct(this,"listenToKeyEvents"),ct(this,"stopListenToKeyEvents"),ct(this,"saveState"),ct(this,"reset"),ct(this,"update"),ct(this,"connect"),ct(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=Z=>{let _e=L3(Z,2*Math.PI),ze=d.phi;ze<0&&(ze+=2*Math.PI),_e<0&&(_e+=2*Math.PI);let j=Math.abs(_e-ze);2*Math.PI-j<j&&(_e<ze?_e+=2*Math.PI:ze+=2*Math.PI),h.phi=_e-ze,i.update()},this.setAzimuthalAngle=Z=>{let _e=L3(Z,2*Math.PI),ze=d.theta;ze<0&&(ze+=2*Math.PI),_e<0&&(_e+=2*Math.PI);let j=Math.abs(_e-ze);2*Math.PI-j<j&&(_e<ze?_e+=2*Math.PI:ze+=2*Math.PI),h.theta=_e-ze,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=Z=>{Z.addEventListener("keydown",tt),this._domElementKeyEvents=Z},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",tt),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const Z=new z,_e=new z(0,1,0),ze=new pi().setFromUnitVectors(e.up,_e),j=ze.clone().invert(),ae=new z,we=new pi,Ie=2*Math.PI;return function(){const Et=i.object.position;ze.setFromUnitVectors(e.up,_e),j.copy(ze).invert(),Z.copy(Et).sub(i.target),Z.applyQuaternion(ze),d.setFromVector3(Z),i.autoRotate&&l===a.NONE&&H($()),i.enableDamping?(d.theta+=h.theta*i.dampingFactor,d.phi+=h.phi*i.dampingFactor):(d.theta+=h.theta,d.phi+=h.phi);let zt=i.minAzimuthAngle,Ht=i.maxAzimuthAngle;isFinite(zt)&&isFinite(Ht)&&(zt<-Math.PI?zt+=Ie:zt>Math.PI&&(zt-=Ie),Ht<-Math.PI?Ht+=Ie:Ht>Math.PI&&(Ht-=Ie),zt<=Ht?d.theta=Math.max(zt,Math.min(Ht,d.theta)):d.theta=d.theta>(zt+Ht)/2?Math.max(zt,d.theta):Math.min(Ht,d.theta)),d.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,d.phi)),d.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),i.zoomToCursor&&k||i.object.isOrthographicCamera?d.radius=J(d.radius):d.radius=J(d.radius*p),Z.setFromSpherical(d),Z.applyQuaternion(j),Et.copy(i.target).add(Z),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(h.theta*=1-i.dampingFactor,h.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(h.set(0,0,0),m.set(0,0,0));let ti=!1;if(i.zoomToCursor&&k){let Lt=null;if(i.object instanceof xn&&i.object.isPerspectiveCamera){const Un=Z.length();Lt=J(Un*p);const In=Un-Lt;i.object.position.addScaledVector(L,In),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Un=new z(C.x,C.y,0);Un.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),ti=!0;const In=new z(C.x,C.y,0);In.unproject(i.object),i.object.position.sub(In).add(Un),i.object.updateMatrixWorld(),Lt=Z.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Lt!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Lt).add(i.object.position):(Qp.origin.copy(i.object.position),Qp.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Qp.direction))<ZB?e.lookAt(i.target):(R3.setFromNormalAndCoplanarPoint(i.object.up,i.target),Qp.intersectPlane(R3,i.target))))}else i.object instanceof Ks&&i.object.isOrthographicCamera&&(ti=p!==1,ti&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix()));return p=1,k=!1,ti||ae.distanceToSquared(i.object.position)>f||8*(1-we.dot(i.object.quaternion))>f?(i.dispatchEvent(r),ae.copy(i.object.position),we.copy(i.object.quaternion),ti=!1,!0):!1}})(),this.connect=Z=>{Z===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=Z,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",je),i.domElement.addEventListener("pointerdown",ht),i.domElement.addEventListener("pointercancel",Q),i.domElement.addEventListener("wheel",Te)},this.dispose=()=>{var Z,_e,ze,j,ae,we;(Z=i.domElement)==null||Z.removeEventListener("contextmenu",je),(_e=i.domElement)==null||_e.removeEventListener("pointerdown",ht),(ze=i.domElement)==null||ze.removeEventListener("pointercancel",Q),(j=i.domElement)==null||j.removeEventListener("wheel",Te),(ae=i.domElement)==null||ae.ownerDocument.removeEventListener("pointermove",U),(we=i.domElement)==null||we.ownerDocument.removeEventListener("pointerup",I),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",tt)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const f=1e-6,d=new px,h=new px;let p=1;const m=new z,v=new ve,y=new ve,_=new ve,x=new ve,w=new ve,b=new ve,M=new ve,T=new ve,A=new ve,L=new z,C=new ve;let k=!1;const D=[],O={};function $(){return 2*Math.PI/60/60*i.autoRotateSpeed}function W(){return Math.pow(.95,i.zoomSpeed)}function H(Z){i.reverseOrbit||i.reverseHorizontalOrbit?h.theta+=Z:h.theta-=Z}function q(Z){i.reverseOrbit||i.reverseVerticalOrbit?h.phi+=Z:h.phi-=Z}const te=(()=>{const Z=new z;return function(ze,j){Z.setFromMatrixColumn(j,0),Z.multiplyScalar(-ze),m.add(Z)}})(),se=(()=>{const Z=new z;return function(ze,j){i.screenSpacePanning===!0?Z.setFromMatrixColumn(j,1):(Z.setFromMatrixColumn(j,0),Z.crossVectors(i.object.up,Z)),Z.multiplyScalar(ze),m.add(Z)}})(),N=(()=>{const Z=new z;return function(ze,j){const ae=i.domElement;if(ae&&i.object instanceof xn&&i.object.isPerspectiveCamera){const we=i.object.position;Z.copy(we).sub(i.target);let Ie=Z.length();Ie*=Math.tan(i.object.fov/2*Math.PI/180),te(2*ze*Ie/ae.clientHeight,i.object.matrix),se(2*j*Ie/ae.clientHeight,i.object.matrix)}else ae&&i.object instanceof Ks&&i.object.isOrthographicCamera?(te(ze*(i.object.right-i.object.left)/i.object.zoom/ae.clientWidth,i.object.matrix),se(j*(i.object.top-i.object.bottom)/i.object.zoom/ae.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function Y(Z){i.object instanceof xn&&i.object.isPerspectiveCamera||i.object instanceof Ks&&i.object.isOrthographicCamera?p/=Z:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function G(Z){i.object instanceof xn&&i.object.isPerspectiveCamera||i.object instanceof Ks&&i.object.isOrthographicCamera?p*=Z:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function X(Z){if(!i.zoomToCursor||!i.domElement)return;k=!0;const _e=i.domElement.getBoundingClientRect(),ze=Z.clientX-_e.left,j=Z.clientY-_e.top,ae=_e.width,we=_e.height;C.x=ze/ae*2-1,C.y=-(j/we)*2+1,L.set(C.x,C.y,1).unproject(i.object).sub(i.object.position).normalize()}function J(Z){return Math.max(i.minDistance,Math.min(i.maxDistance,Z))}function pe(Z){v.set(Z.clientX,Z.clientY)}function ye(Z){X(Z),M.set(Z.clientX,Z.clientY)}function be(Z){x.set(Z.clientX,Z.clientY)}function oe(Z){y.set(Z.clientX,Z.clientY),_.subVectors(y,v).multiplyScalar(i.rotateSpeed);const _e=i.domElement;_e&&(H(2*Math.PI*_.x/_e.clientHeight),q(2*Math.PI*_.y/_e.clientHeight)),v.copy(y),i.update()}function Ue(Z){T.set(Z.clientX,Z.clientY),A.subVectors(T,M),A.y>0?Y(W()):A.y<0&&G(W()),M.copy(T),i.update()}function De(Z){w.set(Z.clientX,Z.clientY),b.subVectors(w,x).multiplyScalar(i.panSpeed),N(b.x,b.y),x.copy(w),i.update()}function Ye(Z){X(Z),Z.deltaY<0?G(W()):Z.deltaY>0&&Y(W()),i.update()}function Pe(Z){let _e=!1;switch(Z.code){case i.keys.UP:N(0,i.keyPanSpeed),_e=!0;break;case i.keys.BOTTOM:N(0,-i.keyPanSpeed),_e=!0;break;case i.keys.LEFT:N(i.keyPanSpeed,0),_e=!0;break;case i.keys.RIGHT:N(-i.keyPanSpeed,0),_e=!0;break}_e&&(Z.preventDefault(),i.update())}function Ze(){if(D.length==1)v.set(D[0].pageX,D[0].pageY);else{const Z=.5*(D[0].pageX+D[1].pageX),_e=.5*(D[0].pageY+D[1].pageY);v.set(Z,_e)}}function de(){if(D.length==1)x.set(D[0].pageX,D[0].pageY);else{const Z=.5*(D[0].pageX+D[1].pageX),_e=.5*(D[0].pageY+D[1].pageY);x.set(Z,_e)}}function le(){const Z=D[0].pageX-D[1].pageX,_e=D[0].pageY-D[1].pageY,ze=Math.sqrt(Z*Z+_e*_e);M.set(0,ze)}function Ee(){i.enableZoom&&le(),i.enablePan&&de()}function ke(){i.enableZoom&&le(),i.enableRotate&&Ze()}function Ae(Z){if(D.length==1)y.set(Z.pageX,Z.pageY);else{const ze=Ge(Z),j=.5*(Z.pageX+ze.x),ae=.5*(Z.pageY+ze.y);y.set(j,ae)}_.subVectors(y,v).multiplyScalar(i.rotateSpeed);const _e=i.domElement;_e&&(H(2*Math.PI*_.x/_e.clientHeight),q(2*Math.PI*_.y/_e.clientHeight)),v.copy(y)}function st(Z){if(D.length==1)w.set(Z.pageX,Z.pageY);else{const _e=Ge(Z),ze=.5*(Z.pageX+_e.x),j=.5*(Z.pageY+_e.y);w.set(ze,j)}b.subVectors(w,x).multiplyScalar(i.panSpeed),N(b.x,b.y),x.copy(w)}function qe(Z){const _e=Ge(Z),ze=Z.pageX-_e.x,j=Z.pageY-_e.y,ae=Math.sqrt(ze*ze+j*j);T.set(0,ae),A.set(0,Math.pow(T.y/M.y,i.zoomSpeed)),Y(A.y),M.copy(T)}function Ke(Z){i.enableZoom&&qe(Z),i.enablePan&&st(Z)}function Mt(Z){i.enableZoom&&qe(Z),i.enableRotate&&Ae(Z)}function ht(Z){var _e,ze;i.enabled!==!1&&(D.length===0&&((_e=i.domElement)==null||_e.ownerDocument.addEventListener("pointermove",U),(ze=i.domElement)==null||ze.ownerDocument.addEventListener("pointerup",I)),it(Z),Z.pointerType==="touch"?Re(Z):xe(Z))}function U(Z){i.enabled!==!1&&(Z.pointerType==="touch"?me(Z):Se(Z))}function I(Z){var _e,ze,j;Fe(Z),D.length===0&&((_e=i.domElement)==null||_e.releasePointerCapture(Z.pointerId),(ze=i.domElement)==null||ze.ownerDocument.removeEventListener("pointermove",U),(j=i.domElement)==null||j.ownerDocument.removeEventListener("pointerup",I)),i.dispatchEvent(o),l=a.NONE}function Q(Z){Fe(Z)}function xe(Z){let _e;switch(Z.button){case 0:_e=i.mouseButtons.LEFT;break;case 1:_e=i.mouseButtons.MIDDLE;break;case 2:_e=i.mouseButtons.RIGHT;break;default:_e=-1}switch(_e){case Ia.DOLLY:if(i.enableZoom===!1)return;ye(Z),l=a.DOLLY;break;case Ia.ROTATE:if(Z.ctrlKey||Z.metaKey||Z.shiftKey){if(i.enablePan===!1)return;be(Z),l=a.PAN}else{if(i.enableRotate===!1)return;pe(Z),l=a.ROTATE}break;case Ia.PAN:if(Z.ctrlKey||Z.metaKey||Z.shiftKey){if(i.enableRotate===!1)return;pe(Z),l=a.ROTATE}else{if(i.enablePan===!1)return;be(Z),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Se(Z){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;oe(Z);break;case a.DOLLY:if(i.enableZoom===!1)return;Ue(Z);break;case a.PAN:if(i.enablePan===!1)return;De(Z);break}}function Te(Z){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Z.preventDefault(),i.dispatchEvent(s),Ye(Z),i.dispatchEvent(o))}function tt(Z){i.enabled===!1||i.enablePan===!1||Pe(Z)}function Re(Z){switch(Je(Z),D.length){case 1:switch(i.touches.ONE){case Da.ROTATE:if(i.enableRotate===!1)return;Ze(),l=a.TOUCH_ROTATE;break;case Da.PAN:if(i.enablePan===!1)return;de(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case Da.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ee(),l=a.TOUCH_DOLLY_PAN;break;case Da.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;ke(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function me(Z){switch(Je(Z),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;Ae(Z),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;st(Z),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ke(Z),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Mt(Z),i.update();break;default:l=a.NONE}}function je(Z){i.enabled!==!1&&Z.preventDefault()}function it(Z){D.push(Z)}function Fe(Z){delete O[Z.pointerId];for(let _e=0;_e<D.length;_e++)if(D[_e].pointerId==Z.pointerId){D.splice(_e,1);return}}function Je(Z){let _e=O[Z.pointerId];_e===void 0&&(_e=new ve,O[Z.pointerId]=_e),_e.set(Z.pageX,Z.pageY)}function Ge(Z){const _e=Z.pointerId===D[0].pointerId?D[1]:D[0];return O[_e.pointerId]}t!==void 0&&this.connect(t),this.update()}};function jd(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!Object.is(n[t[i]],e[t[i]]))return!1;return!0}const KB="modulepreload",JB=function(n,e){return new URL(n,e).href},I3={},QB=function(e,t,i){if(!t||t.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=JB(s,i),s in I3)return;I3[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!i)for(let d=r.length-1;d>=0;d--){const h=r[d];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const f=document.createElement("link");if(f.rel=o?"stylesheet":KB,o||(f.as="script",f.crossOrigin=""),f.href=s,document.head.appendChild(f),o)return new Promise((d,h)=>{f.addEventListener("load",d),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},D3=R.forwardRef(({sdfGlyphSize:n=64,anchorX:e="center",anchorY:t="middle",font:i,fontSize:r=1,children:s,characters:o,onSync:a,...l},f)=>{const{Text:d,preloadFont:h}=o3(async()=>QB(()=>import("./troika-three-text.esm-9b35c0c1.js"),[],import.meta.url),[]),p=wr(({invalidate:_})=>_),[m]=R.useState(()=>new d),[v,y]=R.useMemo(()=>{const _=[];let x="";return R.Children.forEach(s,w=>{typeof w=="string"||typeof w=="number"?x+=w:_.push(w)}),[_,x]},[s]);return o3(()=>new Promise(_=>h({font:i,characters:o},_)),["troika-text",i,o]),R.useLayoutEffect(()=>void m.sync(()=>{p(),a&&a(m)})),R.useEffect(()=>()=>m.dispose(),[m]),R.createElement("primitive",hn({object:m,ref:f,font:i,text:y,anchorX:e,anchorY:t,fontSize:r,sdfGlyphSize:n},l),v)}),eU=R.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...f},d)=>{const h=wr(A=>A.invalidate),p=wr(A=>A.camera),m=wr(A=>A.gl),v=wr(A=>A.events),y=wr(A=>A.setEvents),_=wr(A=>A.set),x=wr(A=>A.get),w=wr(A=>A.performance),b=e||p,M=i||v.connected||m.domElement,T=R.useMemo(()=>new qB(b),[b]);return Qg(()=>{T.enabled&&T.update()},-1),R.useEffect(()=>(s&&T.connect(s===!0?M:s),T.connect(M),()=>void T.dispose()),[s,M,t,T,h]),R.useEffect(()=>{const A=k=>{h(),t&&w.regress(),o&&o(k)},L=k=>{a&&a(k)},C=k=>{l&&l(k)};return T.addEventListener("change",A),T.addEventListener("start",L),T.addEventListener("end",C),()=>{T.removeEventListener("start",L),T.removeEventListener("end",C),T.removeEventListener("change",A)}},[o,a,l,T,h,y]),R.useEffect(()=>{if(n){const A=x().controls;return _({controls:T}),()=>_({controls:A})}},[n,T]),R.createElement("primitive",hn({ref:d,object:T,enableDamping:r},f))});var j4={exports:{}},tU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nU=tU,iU=nU;function X4(){}function Y4(){}Y4.resetWarningCache=X4;var rU=function(){function n(i,r,s,o,a,l){if(l!==iU){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Y4,resetWarningCache:X4};return t.PropTypes=t,t};j4.exports=rU();var sU=j4.exports;const Xt=Kc(sU);function oU(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function Z4(...n){return e=>n.forEach(t=>oU(t,e))}function uu(...n){return R.useCallback(Z4(...n),n)}const q4=R.forwardRef((n,e)=>{const{children:t,...i}=n,r=R.Children.toArray(t),s=r.find(aU);if(s){const o=s.props.children,a=r.map(l=>l===s?R.Children.count(o)>1?R.Children.only(null):R.isValidElement(o)?o.props.children:null:l);return R.createElement(_x,hn({},i,{ref:e}),R.isValidElement(o)?R.cloneElement(o,void 0,a):null)}return R.createElement(_x,hn({},i,{ref:e}),t)});q4.displayName="Slot";const _x=R.forwardRef((n,e)=>{const{children:t,...i}=n;return R.isValidElement(t)?R.cloneElement(t,{...lU(i,t.props),ref:e?Z4(e,t.ref):t.ref}):R.Children.count(t)>1?R.Children.only(null):null});_x.displayName="SlotClone";const K4=({children:n})=>R.createElement(R.Fragment,null,n);function aU(n){return R.isValidElement(n)&&n.type===K4}function lU(n,e){const t={...e};for(const i in e){const r=n[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?t[i]=(...a)=>{s(...a),r(...a)}:r&&(t[i]=r):i==="style"?t[i]={...r,...s}:i==="className"&&(t[i]=[r,s].filter(Boolean).join(" "))}return{...n,...t}}const cU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],wl=cU.reduce((n,e)=>{const t=R.forwardRef((i,r)=>{const{asChild:s,...o}=i,a=s?q4:e;return R.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),R.createElement(a,hn({},o,{ref:r}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function uU(n,e){n&&Ed.flushSync(()=>n.dispatchEvent(e))}const fU=R.forwardRef((n,e)=>{var t;const{container:i=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...r}=n;return i?f5.createPortal(R.createElement(wl.div,hn({},r,{ref:e})),i):null}),dU=fU;var k3=Object.prototype.hasOwnProperty;function md(n,e){var t,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((i=n.length)===e.length)for(;i--&&md(n[i],e[i]););return i===-1}if(!t||typeof n=="object"){i=0;for(t in n)if(k3.call(n,t)&&++i&&!k3.call(e,t)||!(t in e)||!md(n[t],e[t]))return!1;return Object.keys(e).length===i}}return n!==n&&e!==e}var t0=function(e,t,i,r){this.name=e,this.fn=t,this.args=i,this.modifiers=r};t0.prototype._test=function(e){var t=this.fn;try{Dc(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return Dc(this.modifiers.slice(),t,this)(e)}catch{return!1}};t0.prototype._check=function(e){try{Dc(this.modifiers.slice(),this.fn,this)(e)}catch{if(Dc(this.modifiers.slice(),function(i){return i},this)(!1))return}if(!Dc(this.modifiers.slice(),this.fn,this)(e))throw null};t0.prototype._testAsync=function(e){var t=this;return new Promise(function(i,r){Q4(t.modifiers.slice(),t.fn,t)(e).then(function(s){s?i(e):r(null)}).catch(function(s){return r(s)})})};function J4(n,e){return e===void 0&&(e="simple"),typeof n=="object"?n[e]:n}function Dc(n,e,t){if(n.length){var i=n.shift(),r=Dc(n,e,t);return i.perform(r,t)}else return J4(e)}function Q4(n,e,t){if(n.length){var i=n.shift(),r=Q4(n,e,t);return i.performAsync(r,t)}else return function(s){return Promise.resolve(J4(e,"async")(s))}}var hU=function(e,t,i){this.name=e,this.perform=t,this.performAsync=i},Tw=function(n){function e(t,i,r,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];n.call(this,o),n.captureStackTrace&&n.captureStackTrace(this,e),this.rule=t,this.value=i,this.cause=r,this.target=s}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),_s=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};_s.prototype._applyRule=function(e,t){var i=this;return function(){for(var r=[],s=arguments.length;s--;)r[s]=arguments[s];return i.chain.push(new t0(t,e.apply(i,r),r,i.nextRuleModifiers)),i.nextRuleModifiers=[],i}};_s.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new hU(t,e.simple,e.async)),this};_s.prototype._clone=function(){return new _s(this.chain.slice(),this.nextRuleModifiers.slice())};_s.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};_s.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(i){try{i._check(e)}catch(r){t.push(new Tw(i,e,r))}}),t};_s.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(i){throw new Tw(t,e,i)}})};_s.prototype.testAsync=function(e){var t=this;return new Promise(function(i,r){eP(e,t.chain.slice(),i,r)})};function eP(n,e,t,i){if(e.length){var r=e.shift();r._testAsync(n).then(function(){eP(n,e,t,i)},function(s){i(new Tw(r,n,s))})}else t(n)}var O3=function(n,e){return e&&typeof n=="string"&&n.trim().length===0?!0:n==null};function pU(n,e){return e===void 0&&(e=!1),{simple:function(t){return O3(t,e)||n.check(t)===void 0},async:function(t){return O3(t,e)||n.testAsync(t)}}}function Ui(){return typeof Proxy<"u"?tP(new _s):wx(new _s)}var gd={};Ui.extend=function(n){Object.assign(gd,n)};Ui.clearCustomRules=function(){gd={}};function tP(n){return new Proxy(n,{get:function(t,i){if(i in t)return t[i];var r=tP(n._clone());if(i in og)return r._applyModifier(og[i],i);if(i in gd)return r._applyRule(gd[i],i);if(i in Sx)return r._applyRule(Sx[i],i)}})}function wx(n){var e=function(r,s){return Object.keys(r).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var f=wx(s._clone()),d=f._applyRule(r[o],o).apply(void 0,a);return d}}),s},t=e(Sx,n),i=e(gd,t);return Object.keys(og).forEach(function(r){Object.defineProperty(i,r,{get:function(){var s=wx(i._clone());return s._applyModifier(og[r],r)}})}),i}var og={not:{simple:function(n){return function(e){return!n(e)}},async:function(n){return function(e){return Promise.resolve(n(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(n){return function(e){return em(e).some(function(t){try{return n(t)}catch{return!1}})}},async:function(n){return function(e){return Promise.all(em(e).map(function(t){try{return n(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(n){return function(e){return e!==!1&&em(e).every(n)}},async:function(n){return function(e){return Promise.all(em(e).map(n)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(n,e){return function(t){return N3(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n(t):n(t)}},async:function(n,e){return function(t){return Promise.resolve(n(t)).then(function(i){return N3(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&i:i}).catch(function(){return!1})}}}};function N3(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function em(n){return typeof n=="string"?n.split(""):n}var Sx={equal:function(n){return function(e){return e==n}},exact:function(n){return function(e){return e===n}},number:function(n){return n===void 0&&(n=!0),function(e){return typeof e=="number"&&(n||isFinite(e))}},integer:function(){return function(n){var e=Number.isInteger||mU;return e(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return ic("string")},boolean:function(){return ic("boolean")},undefined:function(){return ic("undefined")},null:function(){return ic("null")},array:function(){return ic("array")},object:function(){return ic("object")},instanceOf:function(n){return function(e){return e instanceof n}},pattern:function(n){return function(e){return n.test(e)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(e){return e[0]==n}},last:function(n){return function(e){return e[e.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,e){return function(t){return t.length>=n&&t.length<=(e||n)}},minLength:function(n){return function(e){return e.length>=n}},maxLength:function(n){return function(e){return e.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,e){return function(t){return t>=n&&t<=e}},range:function(n,e){return function(t){return t>=n&&t<=e}},lessThan:function(n){return function(e){return e<n}},lessThanOrEqual:function(n){return function(e){return e<=n}},greaterThan:function(n){return function(e){return e>n}},greaterThanOrEqual:function(n){return function(e){return e>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(e){return~e.indexOf(n)}},schema:function(n){return gU(n)},passesAnyOf:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t){return n.some(function(i){return i.test(t)})}},optional:pU};function ic(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function mU(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function gU(n){return{simple:function(e){var t=[];if(Object.keys(n).forEach(function(i){var r=n[i];try{r.check((e||{})[i])}catch(s){s.target=i,t.push(s)}}),t.length>0)throw t;return!0},async:function(e){var t=[],i=Object.keys(n).map(function(r){var s=n[r];return s.testAsync((e||{})[r]).catch(function(o){o.target=r,t.push(o)})});return Promise.all(i).then(function(){if(t.length>0)throw t;return!0})}}}var Vt="colors",wi="sizes",We="space",vU={gap:We,gridGap:We,columnGap:We,gridColumnGap:We,rowGap:We,gridRowGap:We,inset:We,insetBlock:We,insetBlockEnd:We,insetBlockStart:We,insetInline:We,insetInlineEnd:We,insetInlineStart:We,margin:We,marginTop:We,marginRight:We,marginBottom:We,marginLeft:We,marginBlock:We,marginBlockEnd:We,marginBlockStart:We,marginInline:We,marginInlineEnd:We,marginInlineStart:We,padding:We,paddingTop:We,paddingRight:We,paddingBottom:We,paddingLeft:We,paddingBlock:We,paddingBlockEnd:We,paddingBlockStart:We,paddingInline:We,paddingInlineEnd:We,paddingInlineStart:We,top:We,right:We,bottom:We,left:We,scrollMargin:We,scrollMarginTop:We,scrollMarginRight:We,scrollMarginBottom:We,scrollMarginLeft:We,scrollMarginX:We,scrollMarginY:We,scrollMarginBlock:We,scrollMarginBlockEnd:We,scrollMarginBlockStart:We,scrollMarginInline:We,scrollMarginInlineEnd:We,scrollMarginInlineStart:We,scrollPadding:We,scrollPaddingTop:We,scrollPaddingRight:We,scrollPaddingBottom:We,scrollPaddingLeft:We,scrollPaddingX:We,scrollPaddingY:We,scrollPaddingBlock:We,scrollPaddingBlockEnd:We,scrollPaddingBlockStart:We,scrollPaddingInline:We,scrollPaddingInlineEnd:We,scrollPaddingInlineStart:We,fontSize:"fontSizes",background:Vt,backgroundColor:Vt,backgroundImage:Vt,borderImage:Vt,border:Vt,borderBlock:Vt,borderBlockEnd:Vt,borderBlockStart:Vt,borderBottom:Vt,borderBottomColor:Vt,borderColor:Vt,borderInline:Vt,borderInlineEnd:Vt,borderInlineStart:Vt,borderLeft:Vt,borderLeftColor:Vt,borderRight:Vt,borderRightColor:Vt,borderTop:Vt,borderTopColor:Vt,caretColor:Vt,color:Vt,columnRuleColor:Vt,fill:Vt,outline:Vt,outlineColor:Vt,stroke:Vt,textDecorationColor:Vt,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:wi,minBlockSize:wi,maxBlockSize:wi,inlineSize:wi,minInlineSize:wi,maxInlineSize:wi,width:wi,minWidth:wi,maxWidth:wi,height:wi,minHeight:wi,maxHeight:wi,flexBasis:wi,gridTemplateColumns:wi,gridTemplateRows:wi,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},yU=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,fu=()=>{const n=Object.create(null);return(e,t,...i)=>{const r=(s=>JSON.stringify(s,yU))(e);return r in n?n[r]:n[r]=t(e,...i)}},el=Symbol.for("sxs.internal"),Aw=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),z3=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:xU}=Object.prototype,bx=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),_U=/\s+(?![^()]*\))/,rc=n=>e=>n(...typeof e=="string"?String(e).split(_U):[e]),F3={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:rc((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:rc((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:rc((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:rc((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:rc((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:rc((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},Tv=/([\d.]+)([^]*)/,wU=(n,e)=>n.length?n.reduce((t,i)=>(t.push(...e.map(r=>r.includes("&")?r.replace(/&/g,/[ +>|~]/.test(i)&&/&.*&/.test(r)?`:is(${i})`:i):i+" "+r)),t),[]):e,SU=(n,e)=>n in bU&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,i,r,s)=>i+(r==="stretch"?`-moz-available${s};${bx(n)}:${i}-webkit-fill-available`:`-moz-fit-content${s};${bx(n)}:${i}fit-content`)+s):String(e),bU={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},ao=n=>n?n+"-":"",nP=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(i,r,s,o,a)=>o=="$"==!!s?i:(r||o=="--"?"calc(":"")+"var(--"+(o==="$"?ao(e)+(a.includes("$")?"":ao(t))+a.replace(/\$/g,"-"):a)+")"+(r||o=="--"?"*"+(r||"")+(s||"1")+")":"")),MU=/\s*,\s*(?![^()]*\))/,EU=Object.prototype.toString,Mc=(n,e,t,i,r)=>{let s,o,a;const l=(f,d,h)=>{let p,m;const v=y=>{for(p in y){const w=p.charCodeAt(0)===64,b=w&&Array.isArray(y[p])?y[p]:[y[p]];for(m of b){const M=/[A-Z]/.test(x=p)?x:x.replace(/-[^]/g,A=>A[1].toUpperCase()),T=typeof m=="object"&&m&&m.toString===EU&&(!i.utils[M]||!d.length);if(M in i.utils&&!T){const A=i.utils[M];if(A!==o){o=A,v(A(m)),o=null;continue}}else if(M in F3){const A=F3[M];if(A!==a){a=A,v(A(m)),a=null;continue}}if(w&&(_=p.slice(1)in i.media?"@media "+i.media[p.slice(1)]:p,p=_.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(A,L,C,k,D,O)=>{const $=Tv.test(L),W=.0625*($?-1:1),[H,q]=$?[k,L]:[L,k];return"("+(C[0]==="="?"":C[0]===">"===$?"max-":"min-")+H+":"+(C[0]!=="="&&C.length===1?q.replace(Tv,(te,se,N)=>Number(se)+W*(C===">"?1:-1)+N):q)+(D?") and ("+(D[0]===">"?"min-":"max-")+H+":"+(D.length===1?O.replace(Tv,(te,se,N)=>Number(se)+W*(D===">"?-1:1)+N):O):"")+")"})),T){const A=w?h.concat(p):[...h],L=w?[...d]:wU(d,p.split(MU));s!==void 0&&r(B3(...s)),s=void 0,l(m,L,A)}else s===void 0&&(s=[[],d,h]),p=w||p.charCodeAt(0)!==36?p:`--${ao(i.prefix)}${p.slice(1).replace(/\$/g,"-")}`,m=T?m:typeof m=="number"?m&&M in CU?String(m)+"px":String(m):nP(SU(M,m??""),i.prefix,i.themeMap[M]),s[0].push(`${w?`${p} `:`${bx(p)}:`}${m}`)}}var _,x};v(f),s!==void 0&&r(B3(...s)),s=void 0};l(n,e,t)},B3=(n,e,t)=>`${t.map(i=>`${i}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,CU={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},U3=n=>String.fromCharCode(n+(n>25?39:97)),tl=n=>(e=>{let t,i="";for(t=Math.abs(e);t>52;t=t/52|0)i=U3(t%52)+i;return U3(t%52)+i})(((e,t)=>{let i=t.length;for(;i;)e=33*e^t.charCodeAt(--i);return e})(5381,JSON.stringify(n))>>>0),gf=["themed","global","styled","onevar","resonevar","allvar","inline"],TU=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},AU=n=>{let e;const t=()=>{const{cssRules:r}=e.sheet;return[].map.call(r,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(r[o-1]&&(l=r[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const f in e.rules)if(e.rules[f].group===s)return`--sxs{--sxs:${[...e.rules[f].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},i=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const f in a)delete a[f]}const r=Object(n).styleSheets||[];for(const a of r)if(TU(a)){for(let l=0,f=a.cssRules;f[l];++l){const d=Object(f[l]);if(d.type!==1)continue;const h=Object(f[l+1]);if(h.type!==4)continue;++l;const{cssText:p}=d;if(!p.startsWith("--sxs"))continue;const m=p.slice(14,-3).trim().split(/\s+/),v=gf[m[0]];v&&(e||(e={sheet:a,reset:i,rules:{},toString:t}),e.rules[v]={group:h,index:l,cache:new Set(m)})}if(e)break}if(!e){const a=(l,f)=>({type:f,cssRules:[],insertRule(d,h){this.cssRules.splice(h,0,a(d,{import:3,undefined:1}[(d.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,d=>d.cssText).join("")}}`:l}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:i,toString:t}}const{sheet:s,rules:o}=e;for(let a=gf.length-1;a>=0;--a){const l=gf[a];if(!o[l]){const f=gf[a+1],d=o[f]?o[f].index:s.cssRules.length;s.insertRule("@media{}",d),s.insertRule(`--sxs{--sxs:${a}}`,d),o[l]={group:s.cssRules[d+1],index:d,cache:new Set([a])}}PU(o[l])}};return i(),e},PU=n=>{const e=n.group;let t=e.cssRules.length;n.apply=i=>{try{e.insertRule(i,t),++t}catch{}}},af=Symbol(),RU=fu(),H3=(n,e)=>RU(n,()=>(...t)=>{let i={type:null,composers:new Set};for(const r of t)if(r!=null)if(r[el]){i.type==null&&(i.type=r[el].type);for(const s of r[el].composers)i.composers.add(s)}else r.constructor!==Object||r.$$typeof?i.type==null&&(i.type=r):i.composers.add(LU(r,n));return i.type==null&&(i.type="span"),i.composers.size||i.composers.add(["PJLV",{},[],[],{},[]]),IU(n,i,e)}),LU=({variants:n,compoundVariants:e,defaultVariants:t,...i},r)=>{const s=`${ao(r.prefix)}c-${tl(i)}`,o=[],a=[],l=Object.create(null),f=[];for(const p in t)l[p]=String(t[p]);if(typeof n=="object"&&n)for(const p in n){d=l,h=p,xU.call(d,h)||(l[p]="undefined");const m=n[p];for(const v in m){const y={[p]:String(v)};String(v)==="undefined"&&f.push(p);const _=m[v],x=[y,_,!z3(_)];o.push(x)}}var d,h;if(typeof e=="object"&&e)for(const p of e){let{css:m,...v}=p;m=typeof m=="object"&&m||{};for(const _ in v)v[_]=String(v[_]);const y=[v,m,!z3(m)];a.push(y)}return[s,i,o,a,l,f]},IU=(n,e,t)=>{const[i,r,s,o]=DU(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(h=>{function p(){for(let m=0;m<p[af].length;m++){const[v,y]=p[af][m];h.rules[v].apply(y)}return p[af]=[],null}return p[af]=[],p.rules={},gf.forEach(m=>p.rules[m]={apply:v=>p[af].push([m,v])}),p})(t):null,l=(a||t).rules,f=`.${i}${r.length>1?`:where(.${r.slice(1).join(".")})`:""}`,d=h=>{h=typeof h=="object"&&h||kU;const{css:p,...m}=h,v={};for(const x in s)if(delete m[x],x in h){let w=h[x];typeof w=="object"&&w?v[x]={"@initial":s[x],...w}:(w=String(w),v[x]=w!=="undefined"||o.has(x)?w:s[x])}else v[x]=s[x];const y=new Set([...r]);for(const[x,w,b,M]of e.composers){t.rules.styled.cache.has(x)||(t.rules.styled.cache.add(x),Mc(w,[`.${x}`],[],n,L=>{l.styled.apply(L)}));const T=V3(b,v,n.media),A=V3(M,v,n.media,!0);for(const L of T)if(L!==void 0)for(const[C,k,D]of L){const O=`${x}-${tl(k)}-${C}`;y.add(O);const $=(D?t.rules.resonevar:t.rules.onevar).cache,W=D?l.resonevar:l.onevar;$.has(O)||($.add(O),Mc(k,[`.${O}`],[],n,H=>{W.apply(H)}))}for(const L of A)if(L!==void 0)for(const[C,k]of L){const D=`${x}-${tl(k)}-${C}`;y.add(D),t.rules.allvar.cache.has(D)||(t.rules.allvar.cache.add(D),Mc(k,[`.${D}`],[],n,O=>{l.allvar.apply(O)}))}}if(typeof p=="object"&&p){const x=`${i}-i${tl(p)}-css`;y.add(x),t.rules.inline.cache.has(x)||(t.rules.inline.cache.add(x),Mc(p,[`.${x}`],[],n,w=>{l.inline.apply(w)}))}for(const x of String(h.className||"").trim().split(/\s+/))x&&y.add(x);const _=m.className=[...y].join(" ");return{type:e.type,className:_,selector:f,props:m,toString:()=>_,deferredInjector:a}};return Aw(d,{className:i,selector:f,[el]:e,toString:()=>(t.rules.styled.cache.has(i)||d(),i)})},DU=n=>{let e="";const t=[],i={},r=[];for(const[s,,,,o,a]of n){e===""&&(e=s),t.push(s),r.push(...a);for(const l in o){const f=o[l];(i[l]===void 0||f!=="undefined"||a.includes(f))&&(i[l]=f)}}return[e,t,i,new Set(r)]},V3=(n,e,t,i)=>{const r=[];e:for(let[s,o,a]of n){if(a)continue;let l,f=0,d=!1;for(l in s){const h=s[l];let p=e[l];if(p!==h){if(typeof p!="object"||!p)continue e;{let m,v,y=0;for(const _ in p){if(h===String(p[_])){if(_!=="@initial"){const x=_.slice(1);(v=v||[]).push(x in t?t[x]:_.replace(/^@media ?/,"")),d=!0}f+=y,m=!0}++y}if(v&&v.length&&(o={["@media "+v.join(", ")]:o}),!m)continue e}}}(r[f]=r[f]||[]).push([i?"cv":`${l}-${s[l]}`,o,d])}return r},kU={},OU=fu(),NU=(n,e)=>OU(n,()=>(...t)=>{const i=()=>{for(let r of t){r=typeof r=="object"&&r||{};let s=tl(r);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in r){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(r["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete r["@import"]}Mc(r,[],[],n,o=>{e.rules.global.apply(o)})}}return""};return Aw(i,{toString:i})}),zU=fu(),FU=(n,e)=>zU(n,()=>t=>{const i=`${ao(n.prefix)}k-${tl(t)}`,r=()=>{if(!e.rules.global.cache.has(i)){e.rules.global.cache.add(i);const s=[];Mc(t,[],[],n,a=>s.push(a));const o=`@keyframes ${i}{${s.join("")}}`;e.rules.global.apply(o)}return i};return Aw(r,{get name(){return r()},toString:r})}),BU=class{constructor(n,e,t,i){this.token=n==null?"":String(n),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+ao(this.prefix)+ao(this.scale)+this.token}toString(){return this.computedValue}},UU=fu(),HU=(n,e)=>UU(n,()=>(t,i)=>{i=typeof t=="object"&&t||Object(i);const r=`.${t=(t=typeof t=="string"?t:"")||`${ao(n.prefix)}t-${tl(i)}`}`,s={},o=[];for(const l in i){s[l]={};for(const f in i[l]){const d=`--${ao(n.prefix)}${l}-${f}`,h=nP(String(i[l][f]),n.prefix,l);s[l][f]=new BU(f,h,l,n.prefix),o.push(`${d}:${h}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${i===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(l)}return t};return{...s,get className(){return a()},selector:r,toString:a}}),VU=fu(),W3,WU=fu(),iP=n=>{const e=(t=>{let i=!1;const r=VU(t,s=>{i=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,f=typeof s.theme=="object"&&s.theme||{},d={prefix:o,media:a,theme:f,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...vU},utils:typeof s.utils=="object"&&s.utils||{}},h=AU(l),p={css:H3(d,h),globalCss:NU(d,h),keyframes:FU(d,h),createTheme:HU(d,h),reset(){h.reset(),p.theme.toString()},theme:{},sheet:h,config:d,prefix:o,getCssText:h.toString,toString:h.toString};return String(p.theme=p.createTheme(f)),p});return i||r.reset(),r})(n);return e.styled=(({config:t,sheet:i})=>WU(t,()=>{const r=H3(t,i);return(...s)=>{const o=r(...s),a=o[el].type,l=V.forwardRef((f,d)=>{const h=f&&f.as||a,{props:p,deferredInjector:m}=o(f);return delete p.as,p.ref=d,m?V.createElement(V.Fragment,null,V.createElement(h,p),V.createElement(m,null)):V.createElement(h,p)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[el]=o[el],l}}))(e),e},$U=()=>W3||(W3=iP()),Bn=(...n)=>$U().styled(...n);function $s(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function rP(n,e=[]){let t=[];function i(s,o){const a=R.createContext(o),l=t.length;t=[...t,o];function f(h){const{scope:p,children:m,...v}=h,y=(p==null?void 0:p[n][l])||a,_=R.useMemo(()=>v,Object.values(v));return R.createElement(y.Provider,{value:_},m)}function d(h,p){const m=(p==null?void 0:p[n][l])||a,v=R.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return f.displayName=s+"Provider",[f,d]}const r=()=>{const s=t.map(o=>R.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return R.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return r.scopeName=n,[i,GU(r,...e)]}function GU(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((a,{useScope:l,scopeName:f})=>{const h=l(s)[`__scope${f}`];return{...a,...h}},{});return R.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function du(n){const e=R.useRef(n);return R.useEffect(()=>{e.current=n}),R.useMemo(()=>(...t)=>{var i;return(i=e.current)===null||i===void 0?void 0:i.call(e,...t)},[])}function jU(n,e=globalThis==null?void 0:globalThis.document){const t=du(n);R.useEffect(()=>{const i=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",i),()=>e.removeEventListener("keydown",i)},[t,e])}const Mx="dismissableLayer.update",XU="dismissableLayer.pointerDownOutside",YU="dismissableLayer.focusOutside";let $3;const ZU=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qU=R.forwardRef((n,e)=>{var t;const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...f}=n,d=R.useContext(ZU),[h,p]=R.useState(null),m=(t=h==null?void 0:h.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,[,v]=R.useState({}),y=uu(e,C=>p(C)),_=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=_.indexOf(x),b=h?_.indexOf(h):-1,M=d.layersWithOutsidePointerEventsDisabled.size>0,T=b>=w,A=KU(C=>{const k=C.target,D=[...d.branches].some(O=>O.contains(k));!T||D||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},m),L=JU(C=>{const k=C.target;[...d.branches].some(O=>O.contains(k))||(o==null||o(C),a==null||a(C),C.defaultPrevented||l==null||l())},m);return jU(C=>{b===d.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),R.useEffect(()=>{if(h)return i&&(d.layersWithOutsidePointerEventsDisabled.size===0&&($3=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),G3(),()=>{i&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=$3)}},[h,m,i,d]),R.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),G3())},[h,d]),R.useEffect(()=>{const C=()=>v({});return document.addEventListener(Mx,C),()=>document.removeEventListener(Mx,C)},[]),R.createElement(wl.div,hn({},f,{ref:y,style:{pointerEvents:M?T?"auto":"none":void 0,...n.style},onFocusCapture:$s(n.onFocusCapture,L.onFocusCapture),onBlurCapture:$s(n.onBlurCapture,L.onBlurCapture),onPointerDownCapture:$s(n.onPointerDownCapture,A.onPointerDownCapture)}))});function KU(n,e=globalThis==null?void 0:globalThis.document){const t=du(n),i=R.useRef(!1),r=R.useRef(()=>{});return R.useEffect(()=>{const s=a=>{if(a.target&&!i.current){let f=function(){sP(XU,t,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=f,e.addEventListener("click",r.current,{once:!0})):f()}else e.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function JU(n,e=globalThis==null?void 0:globalThis.document){const t=du(n),i=R.useRef(!1);return R.useEffect(()=>{const r=s=>{s.target&&!i.current&&sP(YU,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function G3(){const n=new CustomEvent(Mx);document.dispatchEvent(n)}function sP(n,e,t,{discrete:i}){const r=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?uU(r,s):r.dispatchEvent(s)}const Yc=globalThis!=null&&globalThis.document?R.useLayoutEffect:()=>{},QU=GL["useId".toString()]||(()=>{});let eH=0;function tH(n){const[e,t]=R.useState(QU());return Yc(()=>{n||t(i=>i??String(eH++))},[n]),n||(e?`radix-${e}`:"")}const nH=["top","right","bottom","left"],ta=Math.min,Ji=Math.max,ag=Math.round,tm=Math.floor,na=n=>({x:n,y:n}),iH={left:"right",right:"left",bottom:"top",top:"bottom"},rH={start:"end",end:"start"};function Ex(n,e,t){return Ji(n,ta(e,t))}function lo(n,e){return typeof n=="function"?n(e):n}function co(n){return n.split("-")[0]}function hu(n){return n.split("-")[1]}function Pw(n){return n==="x"?"y":"x"}function Rw(n){return n==="y"?"height":"width"}function pu(n){return["top","bottom"].includes(co(n))?"y":"x"}function Lw(n){return Pw(pu(n))}function sH(n,e,t){t===void 0&&(t=!1);const i=hu(n),r=Lw(n),s=Rw(r);let o=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=lg(o)),[o,lg(o)]}function oH(n){const e=lg(n);return[Cx(n),e,Cx(e)]}function Cx(n){return n.replace(/start|end/g,e=>rH[e])}function aH(n,e,t){const i=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?r:i:e?i:r;case"left":case"right":return e?s:o;default:return[]}}function lH(n,e,t,i){const r=hu(n);let s=aH(co(n),t==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(Cx)))),s}function lg(n){return n.replace(/left|right|bottom|top/g,e=>iH[e])}function cH(n){return{top:0,right:0,bottom:0,left:0,...n}}function oP(n){return typeof n!="number"?cH(n):{top:n,right:n,bottom:n,left:n}}function cg(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function j3(n,e,t){let{reference:i,floating:r}=n;const s=pu(e),o=Lw(e),a=Rw(o),l=co(e),f=s==="y",d=i.x+i.width/2-r.width/2,h=i.y+i.height/2-r.height/2,p=i[a]/2-r[a]/2;let m;switch(l){case"top":m={x:d,y:i.y-r.height};break;case"bottom":m={x:d,y:i.y+i.height};break;case"right":m={x:i.x+i.width,y:h};break;case"left":m={x:i.x-r.width,y:h};break;default:m={x:i.x,y:i.y}}switch(hu(e)){case"start":m[o]-=p*(t&&f?-1:1);break;case"end":m[o]+=p*(t&&f?-1:1);break}return m}const uH=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let f=await o.getElementRects({reference:n,floating:e,strategy:r}),{x:d,y:h}=j3(f,i,l),p=i,m={},v=0;for(let y=0;y<a.length;y++){const{name:_,fn:x}=a[y],{x:w,y:b,data:M,reset:T}=await x({x:d,y:h,initialPlacement:i,placement:p,strategy:r,middlewareData:m,rects:f,platform:o,elements:{reference:n,floating:e}});d=w??d,h=b??h,m={...m,[_]:{...m[_],...M}},T&&v<=50&&(v++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(f=T.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:r}):T.rects),{x:d,y:h}=j3(f,p,l)),y=-1)}return{x:d,y:h,placement:p,strategy:r,middlewareData:m}};async function vd(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=lo(e,n),v=oP(m),_=a[p?h==="floating"?"reference":"floating":h],x=cg(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(_)))==null||t?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:f,rootBoundary:d,strategy:l})),w=h==="floating"?{...o.floating,x:i,y:r}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),M=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},T=cg(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:b,strategy:l}):w);return{top:(x.top-T.top+v.top)/M.y,bottom:(T.bottom-x.bottom+v.bottom)/M.y,left:(x.left-T.left+v.left)/M.x,right:(T.right-x.right+v.right)/M.x}}const fH=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:f,padding:d=0}=lo(n,e)||{};if(f==null)return{};const h=oP(d),p={x:t,y:i},m=Lw(r),v=Rw(m),y=await o.getDimensions(f),_=m==="y",x=_?"top":"left",w=_?"bottom":"right",b=_?"clientHeight":"clientWidth",M=s.reference[v]+s.reference[m]-p[m]-s.floating[v],T=p[m]-s.reference[m],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let L=A?A[b]:0;(!L||!await(o.isElement==null?void 0:o.isElement(A)))&&(L=a.floating[b]||s.floating[v]);const C=M/2-T/2,k=L/2-y[v]/2-1,D=ta(h[x],k),O=ta(h[w],k),$=D,W=L-y[v]-O,H=L/2-y[v]/2+C,q=Ex($,H,W),te=!l.arrow&&hu(r)!=null&&H!==q&&s.reference[v]/2-(H<$?D:O)-y[v]/2<0,se=te?H<$?H-$:H-W:0;return{[m]:p[m]+se,data:{[m]:q,centerOffset:H-q-se,...te&&{alignmentOffset:se}},reset:te}}}),dH=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:f}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,..._}=lo(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const x=co(r),w=co(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(f.floating)),M=p||(w||!y?[lg(a)]:oH(a));!p&&v!=="none"&&M.push(...lH(a,y,v,b));const T=[a,...M],A=await vd(e,_),L=[];let C=((i=s.flip)==null?void 0:i.overflows)||[];if(d&&L.push(A[x]),h){const $=sH(r,o,b);L.push(A[$[0]],A[$[1]])}if(C=[...C,{placement:r,overflows:L}],!L.every($=>$<=0)){var k,D;const $=(((k=s.flip)==null?void 0:k.index)||0)+1,W=T[$];if(W)return{data:{index:$,overflows:C},reset:{placement:W}};let H=(D=C.filter(q=>q.overflows[0]<=0).sort((q,te)=>q.overflows[1]-te.overflows[1])[0])==null?void 0:D.placement;if(!H)switch(m){case"bestFit":{var O;const q=(O=C.map(te=>[te.placement,te.overflows.filter(se=>se>0).reduce((se,N)=>se+N,0)]).sort((te,se)=>te[1]-se[1])[0])==null?void 0:O[0];q&&(H=q);break}case"initialPlacement":H=a;break}if(r!==H)return{reset:{placement:H}}}return{}}}};function X3(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Y3(n){return nH.some(e=>n[e]>=0)}const hH=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...r}=lo(n,e);switch(i){case"referenceHidden":{const s=await vd(e,{...r,elementContext:"reference"}),o=X3(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Y3(o)}}}case"escaped":{const s=await vd(e,{...r,altBoundary:!0}),o=X3(s,t.floating);return{data:{escapedOffsets:o,escaped:Y3(o)}}}default:return{}}}}};async function pH(n,e){const{placement:t,platform:i,elements:r}=n,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=co(t),a=hu(t),l=pu(t)==="y",f=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=lo(e,n);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:p*f}:{x:p*f,y:m*d}}const mH=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:r,y:s,placement:o,middlewareData:a}=e,l=await pH(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}},gH=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x,y:w}=_;return{x,y:w}}},...l}=lo(n,e),f={x:t,y:i},d=await vd(e,l),h=pu(co(r)),p=Pw(h);let m=f[p],v=f[h];if(s){const _=p==="y"?"top":"left",x=p==="y"?"bottom":"right",w=m+d[_],b=m-d[x];m=Ex(w,m,b)}if(o){const _=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=v+d[_],b=v-d[x];v=Ex(w,v,b)}const y=a.fn({...e,[p]:m,[h]:v});return{...y,data:{x:y.x-t,y:y.y-i}}}}},vH=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:r,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:f=!0}=lo(n,e),d={x:t,y:i},h=pu(r),p=Pw(h);let m=d[p],v=d[h];const y=lo(a,e),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const b=p==="y"?"height":"width",M=s.reference[p]-s.floating[b]+_.mainAxis,T=s.reference[p]+s.reference[b]-_.mainAxis;m<M?m=M:m>T&&(m=T)}if(f){var x,w;const b=p==="y"?"width":"height",M=["top","left"].includes(co(r)),T=s.reference[h]-s.floating[b]+(M&&((x=o.offset)==null?void 0:x[h])||0)+(M?0:_.crossAxis),A=s.reference[h]+s.reference[b]+(M?0:((w=o.offset)==null?void 0:w[h])||0)-(M?_.crossAxis:0);v<T?v=T:v>A&&(v=A)}return{[p]:m,[h]:v}}}},yH=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){const{placement:t,rects:i,platform:r,elements:s}=e,{apply:o=()=>{},...a}=lo(n,e),l=await vd(e,a),f=co(t),d=hu(t),h=pu(t)==="y",{width:p,height:m}=i.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=d===(await(r.isRTL==null?void 0:r.isRTL(s.floating))?"start":"end")?"left":"right"):(y=f,v=d==="end"?"top":"bottom");const _=m-l[v],x=p-l[y],w=!e.middlewareData.shift;let b=_,M=x;if(h){const A=p-l.left-l.right;M=d||w?ta(x,A):A}else{const A=m-l.top-l.bottom;b=d||w?ta(_,A):A}if(w&&!d){const A=Ji(l.left,0),L=Ji(l.right,0),C=Ji(l.top,0),k=Ji(l.bottom,0);h?M=p-2*(A!==0||L!==0?A+L:Ji(l.left,l.right)):b=m-2*(C!==0||k!==0?C+k:Ji(l.top,l.bottom))}await o({...e,availableWidth:M,availableHeight:b});const T=await r.getDimensions(s.floating);return p!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}};function ia(n){return aP(n)?(n.nodeName||"").toLowerCase():"#document"}function ir(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function po(n){var e;return(e=(aP(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function aP(n){return n instanceof Node||n instanceof ir(n).Node}function uo(n){return n instanceof Element||n instanceof ir(n).Element}function ws(n){return n instanceof HTMLElement||n instanceof ir(n).HTMLElement}function Z3(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ir(n).ShadowRoot}function Xd(n){const{overflow:e,overflowX:t,overflowY:i,display:r}=Dr(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(r)}function xH(n){return["table","td","th"].includes(ia(n))}function Iw(n){const e=Dw(),t=Dr(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function _H(n){let e=Zc(n);for(;ws(e)&&!n0(e);){if(Iw(e))return e;e=Zc(e)}return null}function Dw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function n0(n){return["html","body","#document"].includes(ia(n))}function Dr(n){return ir(n).getComputedStyle(n)}function i0(n){return uo(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function Zc(n){if(ia(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Z3(n)&&n.host||po(n);return Z3(e)?e.host:e}function lP(n){const e=Zc(n);return n0(e)?n.ownerDocument?n.ownerDocument.body:n.body:ws(e)&&Xd(e)?e:lP(e)}function yd(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=lP(n),s=r===((i=n.ownerDocument)==null?void 0:i.body),o=ir(r);return s?e.concat(o,o.visualViewport||[],Xd(r)?r:[],o.frameElement&&t?yd(o.frameElement):[]):e.concat(r,yd(r,[],t))}function cP(n){const e=Dr(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=ws(n),s=r?n.offsetWidth:t,o=r?n.offsetHeight:i,a=ag(t)!==s||ag(i)!==o;return a&&(t=s,i=o),{width:t,height:i,$:a}}function kw(n){return uo(n)?n:n.contextElement}function kc(n){const e=kw(n);if(!ws(e))return na(1);const t=e.getBoundingClientRect(),{width:i,height:r,$:s}=cP(e);let o=(s?ag(t.width):t.width)/i,a=(s?ag(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const wH=na(0);function uP(n){const e=ir(n);return!Dw()||!e.visualViewport?wH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function SH(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ir(n)?!1:e}function fl(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=kw(n);let o=na(1);e&&(i?uo(i)&&(o=kc(i)):o=kc(n));const a=SH(s,t,i)?uP(s):na(0);let l=(r.left+a.x)/o.x,f=(r.top+a.y)/o.y,d=r.width/o.x,h=r.height/o.y;if(s){const p=ir(s),m=i&&uo(i)?ir(i):i;let v=p,y=v.frameElement;for(;y&&i&&m!==v;){const _=kc(y),x=y.getBoundingClientRect(),w=Dr(y),b=x.left+(y.clientLeft+parseFloat(w.paddingLeft))*_.x,M=x.top+(y.clientTop+parseFloat(w.paddingTop))*_.y;l*=_.x,f*=_.y,d*=_.x,h*=_.y,l+=b,f+=M,v=ir(y),y=v.frameElement}}return cg({width:d,height:h,x:l,y:f})}const bH=[":popover-open",":modal"];function fP(n){return bH.some(e=>{try{return n.matches(e)}catch{return!1}})}function MH(n){let{elements:e,rect:t,offsetParent:i,strategy:r}=n;const s=r==="fixed",o=po(i),a=e?fP(e.floating):!1;if(i===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},f=na(1);const d=na(0),h=ws(i);if((h||!h&&!s)&&((ia(i)!=="body"||Xd(o))&&(l=i0(i)),ws(i))){const p=fl(i);f=kc(i),d.x=p.x+i.clientLeft,d.y=p.y+i.clientTop}return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-l.scrollLeft*f.x+d.x,y:t.y*f.y-l.scrollTop*f.y+d.y}}function EH(n){return Array.from(n.getClientRects())}function dP(n){return fl(po(n)).left+i0(n).scrollLeft}function CH(n){const e=po(n),t=i0(n),i=n.ownerDocument.body,r=Ji(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=Ji(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-t.scrollLeft+dP(n);const a=-t.scrollTop;return Dr(i).direction==="rtl"&&(o+=Ji(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function TH(n,e){const t=ir(n),i=po(n),r=t.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const f=Dw();(!f||f&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}function AH(n,e){const t=fl(n,!0,e==="fixed"),i=t.top+n.clientTop,r=t.left+n.clientLeft,s=ws(n)?kc(n):na(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=r*s.x,f=i*s.y;return{width:o,height:a,x:l,y:f}}function q3(n,e,t){let i;if(e==="viewport")i=TH(n,t);else if(e==="document")i=CH(po(n));else if(uo(e))i=AH(e,t);else{const r=uP(n);i={...e,x:e.x-r.x,y:e.y-r.y}}return cg(i)}function hP(n,e){const t=Zc(n);return t===e||!uo(t)||n0(t)?!1:Dr(t).position==="fixed"||hP(t,e)}function PH(n,e){const t=e.get(n);if(t)return t;let i=yd(n,[],!1).filter(a=>uo(a)&&ia(a)!=="body"),r=null;const s=Dr(n).position==="fixed";let o=s?Zc(n):n;for(;uo(o)&&!n0(o);){const a=Dr(o),l=Iw(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Xd(o)&&!l&&hP(n,o))?i=i.filter(d=>d!==o):r=a,o=Zc(o)}return e.set(n,i),i}function RH(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const o=[...t==="clippingAncestors"?PH(e,this._c):[].concat(t),i],a=o[0],l=o.reduce((f,d)=>{const h=q3(e,d,r);return f.top=Ji(h.top,f.top),f.right=ta(h.right,f.right),f.bottom=ta(h.bottom,f.bottom),f.left=Ji(h.left,f.left),f},q3(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function LH(n){const{width:e,height:t}=cP(n);return{width:e,height:t}}function IH(n,e,t){const i=ws(e),r=po(e),s=t==="fixed",o=fl(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=na(0);if(i||!i&&!s)if((ia(e)!=="body"||Xd(r))&&(a=i0(e)),i){const h=fl(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else r&&(l.x=dP(r));const f=o.left+a.scrollLeft-l.x,d=o.top+a.scrollTop-l.y;return{x:f,y:d,width:o.width,height:o.height}}function K3(n,e){return!ws(n)||Dr(n).position==="fixed"?null:e?e(n):n.offsetParent}function pP(n,e){const t=ir(n);if(!ws(n)||fP(n))return t;let i=K3(n,e);for(;i&&xH(i)&&Dr(i).position==="static";)i=K3(i,e);return i&&(ia(i)==="html"||ia(i)==="body"&&Dr(i).position==="static"&&!Iw(i))?t:i||_H(n)||t}const DH=async function(n){const e=this.getOffsetParent||pP,t=this.getDimensions;return{reference:IH(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,...await t(n.floating)}}};function kH(n){return Dr(n).direction==="rtl"}const OH={convertOffsetParentRelativeRectToViewportRelativeRect:MH,getDocumentElement:po,getClippingRect:RH,getOffsetParent:pP,getElementRects:DH,getClientRects:EH,getDimensions:LH,getScale:kc,isElement:uo,isRTL:kH};function NH(n,e){let t=null,i;const r=po(n);function s(){var a;clearTimeout(i),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:f,top:d,width:h,height:p}=n.getBoundingClientRect();if(a||e(),!h||!p)return;const m=tm(d),v=tm(r.clientWidth-(f+h)),y=tm(r.clientHeight-(d+p)),_=tm(f),w={rootMargin:-m+"px "+-v+"px "+-y+"px "+-_+"px",threshold:Ji(0,ta(1,l))||1};let b=!0;function M(T){const A=T[0].intersectionRatio;if(A!==l){if(!b)return o();A?o(!1,A):i=setTimeout(()=>{o(!1,1e-7)},100)}b=!1}try{t=new IntersectionObserver(M,{...w,root:r.ownerDocument})}catch{t=new IntersectionObserver(M,w)}t.observe(n)}return o(!0),s}function zH(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,f=kw(n),d=r||s?[...f?yd(f):[],...yd(e)]:[];d.forEach(x=>{r&&x.addEventListener("scroll",t,{passive:!0}),s&&x.addEventListener("resize",t)});const h=f&&a?NH(f,t):null;let p=-1,m=null;o&&(m=new ResizeObserver(x=>{let[w]=x;w&&w.target===f&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),t()}),f&&!l&&m.observe(f),m.observe(e));let v,y=l?fl(n):null;l&&_();function _(){const x=fl(n);y&&(x.x!==y.x||x.y!==y.y||x.width!==y.width||x.height!==y.height)&&t(),y=x,v=requestAnimationFrame(_)}return t(),()=>{var x;d.forEach(w=>{r&&w.removeEventListener("scroll",t),s&&w.removeEventListener("resize",t)}),h==null||h(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const FH=gH,BH=dH,UH=yH,HH=hH,J3=fH,VH=vH,WH=(n,e,t)=>{const i=new Map,r={platform:OH,...t},s={...r.platform,_c:i};return uH(n,e,{...r,platform:s})},$H=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:r}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?J3({element:i.current,padding:r}).fn(t):{}:i?J3({element:i,padding:r}).fn(t):{}}}};var Pm=typeof document<"u"?R.useLayoutEffect:R.useEffect;function ug(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!ug(n[i],e[i]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){const s=r[i];if(!(s==="_owner"&&n.$$typeof)&&!ug(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function mP(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Q3(n,e){const t=mP(n);return Math.round(e*t)/t}function eE(n){const e=R.useRef(n);return Pm(()=>{e.current=n}),e}function GH(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:f}=n,[d,h]=R.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=R.useState(i);ug(p,i)||m(i);const[v,y]=R.useState(null),[_,x]=R.useState(null),w=R.useCallback(se=>{se!==A.current&&(A.current=se,y(se))},[]),b=R.useCallback(se=>{se!==L.current&&(L.current=se,x(se))},[]),M=s||v,T=o||_,A=R.useRef(null),L=R.useRef(null),C=R.useRef(d),k=l!=null,D=eE(l),O=eE(r),$=R.useCallback(()=>{if(!A.current||!L.current)return;const se={placement:e,strategy:t,middleware:p};O.current&&(se.platform=O.current),WH(A.current,L.current,se).then(N=>{const Y={...N,isPositioned:!0};W.current&&!ug(C.current,Y)&&(C.current=Y,Ed.flushSync(()=>{h(Y)}))})},[p,e,t,O]);Pm(()=>{f===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(se=>({...se,isPositioned:!1})))},[f]);const W=R.useRef(!1);Pm(()=>(W.current=!0,()=>{W.current=!1}),[]),Pm(()=>{if(M&&(A.current=M),T&&(L.current=T),M&&T){if(D.current)return D.current(M,T,$);$()}},[M,T,$,D,k]);const H=R.useMemo(()=>({reference:A,floating:L,setReference:w,setFloating:b}),[w,b]),q=R.useMemo(()=>({reference:M,floating:T}),[M,T]),te=R.useMemo(()=>{const se={position:t,left:0,top:0};if(!q.floating)return se;const N=Q3(q.floating,d.x),Y=Q3(q.floating,d.y);return a?{...se,transform:"translate("+N+"px, "+Y+"px)",...mP(q.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:N,top:Y}},[t,a,q.floating,d.x,d.y]);return R.useMemo(()=>({...d,update:$,refs:H,elements:q,floatingStyles:te}),[d,$,H,q,te])}const jH=R.forwardRef((n,e)=>{const{children:t,width:i=10,height:r=5,...s}=n;return R.createElement(wl.svg,hn({},s,{ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),n.asChild?t:R.createElement("polygon",{points:"0,0 30,0 15,10"}))}),XH=jH;function YH(n){const[e,t]=R.useState(void 0);return Yc(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,f=Array.isArray(l)?l[0]:l;o=f.inlineSize,a=f.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}const gP="Popper",[vP,yP]=rP(gP),[ZH,xP]=vP(gP),qH=n=>{const{__scopePopper:e,children:t}=n,[i,r]=R.useState(null);return R.createElement(ZH,{scope:e,anchor:i,onAnchorChange:r},t)},KH="PopperAnchor",JH=R.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...r}=n,s=xP(KH,t),o=R.useRef(null),a=uu(e,o);return R.useEffect(()=>{s.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:R.createElement(wl.div,hn({},r,{ref:a}))}),_P="PopperContent",[QH,eV]=vP(_P),tV=R.forwardRef((n,e)=>{var t,i,r,s,o,a,l,f;const{__scopePopper:d,side:h="bottom",sideOffset:p=0,align:m="center",alignOffset:v=0,arrowPadding:y=0,avoidCollisions:_=!0,collisionBoundary:x=[],collisionPadding:w=0,sticky:b="partial",hideWhenDetached:M=!1,updatePositionStrategy:T="optimized",onPlaced:A,...L}=n,C=xP(_P,d),[k,D]=R.useState(null),O=uu(e,ke=>D(ke)),[$,W]=R.useState(null),H=YH($),q=(t=H==null?void 0:H.width)!==null&&t!==void 0?t:0,te=(i=H==null?void 0:H.height)!==null&&i!==void 0?i:0,se=h+(m!=="center"?"-"+m:""),N=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},Y=Array.isArray(x)?x:[x],G=Y.length>0,X={padding:N,boundary:Y.filter(sV),altBoundary:G},{refs:J,floatingStyles:pe,placement:ye,isPositioned:be,middlewareData:oe}=GH({strategy:"fixed",placement:se,whileElementsMounted:(...ke)=>zH(...ke,{animationFrame:T==="always"}),elements:{reference:C.anchor},middleware:[mH({mainAxis:p+te,alignmentAxis:v}),_&&FH({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?VH():void 0,...X}),_&&BH({...X}),UH({...X,apply:({elements:ke,rects:Ae,availableWidth:st,availableHeight:qe})=>{const{width:Ke,height:Mt}=Ae.reference,ht=ke.floating.style;ht.setProperty("--radix-popper-available-width",`${st}px`),ht.setProperty("--radix-popper-available-height",`${qe}px`),ht.setProperty("--radix-popper-anchor-width",`${Ke}px`),ht.setProperty("--radix-popper-anchor-height",`${Mt}px`)}}),$&&$H({element:$,padding:y}),oV({arrowWidth:q,arrowHeight:te}),M&&HH({strategy:"referenceHidden",...X})]}),[Ue,De]=wP(ye),Ye=du(A);Yc(()=>{be&&(Ye==null||Ye())},[be,Ye]);const Pe=(r=oe.arrow)===null||r===void 0?void 0:r.x,Ze=(s=oe.arrow)===null||s===void 0?void 0:s.y,de=((o=oe.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[le,Ee]=R.useState();return Yc(()=>{k&&Ee(window.getComputedStyle(k).zIndex)},[k]),R.createElement("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...pe,transform:be?pe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(a=oe.transformOrigin)===null||a===void 0?void 0:a.x,(l=oe.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:n.dir},R.createElement(QH,{scope:d,placedSide:Ue,onArrowChange:W,arrowX:Pe,arrowY:Ze,shouldHideArrow:de},R.createElement(wl.div,hn({"data-side":Ue,"data-align":De},L,{ref:O,style:{...L.style,animation:be?void 0:"none",opacity:(f=oe.hide)!==null&&f!==void 0&&f.referenceHidden?0:void 0}}))))}),nV="PopperArrow",iV={top:"bottom",right:"left",bottom:"top",left:"right"},rV=R.forwardRef(function(e,t){const{__scopePopper:i,...r}=e,s=eV(nV,i),o=iV[s.placedSide];return R.createElement("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0}},R.createElement(XH,hn({},r,{ref:t,style:{...r.style,display:"block"}})))});function sV(n){return n!==null}const oV=n=>({name:"transformOrigin",options:n,fn(e){var t,i,r,s,o;const{placement:a,rects:l,middlewareData:f}=e,h=((t=f.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,p=h?0:n.arrowWidth,m=h?0:n.arrowHeight,[v,y]=wP(a),_={start:"0%",center:"50%",end:"100%"}[y],x=((i=(r=f.arrow)===null||r===void 0?void 0:r.x)!==null&&i!==void 0?i:0)+p/2,w=((s=(o=f.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+m/2;let b="",M="";return v==="bottom"?(b=h?_:`${x}px`,M=`${-m}px`):v==="top"?(b=h?_:`${x}px`,M=`${l.floating.height+m}px`):v==="right"?(b=`${-m}px`,M=h?_:`${w}px`):v==="left"&&(b=`${l.floating.width+m}px`,M=h?_:`${w}px`),{data:{x:b,y:M}}}});function wP(n){const[e,t="center"]=n.split("-");return[e,t]}const aV=qH,lV=JH,cV=tV,uV=rV;function fV(n,e){return R.useReducer((t,i)=>{const r=e[t][i];return r??t},n)}const SP=n=>{const{present:e,children:t}=n,i=dV(e),r=typeof t=="function"?t({present:i.isPresent}):R.Children.only(t),s=uu(i.ref,r.ref);return typeof t=="function"||i.isPresent?R.cloneElement(r,{ref:s}):null};SP.displayName="Presence";function dV(n){const[e,t]=R.useState(),i=R.useRef({}),r=R.useRef(n),s=R.useRef("none"),o=n?"mounted":"unmounted",[a,l]=fV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const f=nm(i.current);s.current=a==="mounted"?f:"none"},[a]),Yc(()=>{const f=i.current,d=r.current;if(d!==n){const p=s.current,m=nm(f);n?l("MOUNT"):m==="none"||(f==null?void 0:f.display)==="none"?l("UNMOUNT"):l(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,l]),Yc(()=>{if(e){const f=h=>{const m=nm(i.current).includes(h.animationName);h.target===e&&m&&Ed.flushSync(()=>l("ANIMATION_END"))},d=h=>{h.target===e&&(s.current=nm(i.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:R.useCallback(f=>{f&&(i.current=getComputedStyle(f)),t(f)},[])}}function nm(n){return(n==null?void 0:n.animationName)||"none"}function hV({prop:n,defaultProp:e,onChange:t=()=>{}}){const[i,r]=pV({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:i,a=du(t),l=R.useCallback(f=>{if(s){const h=typeof f=="function"?f(n):f;h!==n&&a(h)}else r(f)},[s,n,r,a]);return[o,l]}function pV({defaultProp:n,onChange:e}){const t=R.useState(n),[i]=t,r=R.useRef(i),s=du(e);return R.useEffect(()=>{r.current!==i&&(s(i),r.current=i)},[i,r,s]),t}const mV=R.forwardRef((n,e)=>R.createElement(wl.span,hn({},n,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}))),gV=mV,[r0,bZ]=rP("Tooltip",[yP]),s0=yP(),vV="TooltipProvider",Tx="tooltip.open",[MZ,Ow]=r0(vV),Nw="Tooltip",[yV,o0]=r0(Nw),xV=n=>{const{__scopeTooltip:e,children:t,open:i,defaultOpen:r=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=n,l=Ow(Nw,n.__scopeTooltip),f=s0(e),[d,h]=R.useState(null),p=tH(),m=R.useRef(0),v=o??l.disableHoverableContent,y=a??l.delayDuration,_=R.useRef(!1),[x=!1,w]=hV({prop:i,defaultProp:r,onChange:L=>{L?(l.onOpen(),document.dispatchEvent(new CustomEvent(Tx))):l.onClose(),s==null||s(L)}}),b=R.useMemo(()=>x?_.current?"delayed-open":"instant-open":"closed",[x]),M=R.useCallback(()=>{window.clearTimeout(m.current),_.current=!1,w(!0)},[w]),T=R.useCallback(()=>{window.clearTimeout(m.current),w(!1)},[w]),A=R.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{_.current=!0,w(!0)},y)},[y,w]);return R.useEffect(()=>()=>window.clearTimeout(m.current),[]),R.createElement(aV,f,R.createElement(yV,{scope:e,contentId:p,open:x,stateAttribute:b,trigger:d,onTriggerChange:h,onTriggerEnter:R.useCallback(()=>{l.isOpenDelayed?A():M()},[l.isOpenDelayed,A,M]),onTriggerLeave:R.useCallback(()=>{v?T():window.clearTimeout(m.current)},[T,v]),onOpen:M,onClose:T,disableHoverableContent:v},t))},tE="TooltipTrigger",_V=R.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=o0(tE,t),s=Ow(tE,t),o=s0(t),a=R.useRef(null),l=uu(e,a,r.onTriggerChange),f=R.useRef(!1),d=R.useRef(!1),h=R.useCallback(()=>f.current=!1,[]);return R.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),R.createElement(lV,hn({asChild:!0},o),R.createElement(wl.button,hn({"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute},i,{ref:l,onPointerMove:$s(n.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:$s(n.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:$s(n.onPointerDown,()=>{f.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:$s(n.onFocus,()=>{f.current||r.onOpen()}),onBlur:$s(n.onBlur,r.onClose),onClick:$s(n.onClick,r.onClose)})))}),wV="TooltipPortal",[EZ,SV]=r0(wV,{forceMount:void 0}),xd="TooltipContent",bV=R.forwardRef((n,e)=>{const t=SV(xd,n.__scopeTooltip),{forceMount:i=t.forceMount,side:r="top",...s}=n,o=o0(xd,n.__scopeTooltip);return R.createElement(SP,{present:i||o.open},o.disableHoverableContent?R.createElement(bP,hn({side:r},s,{ref:e})):R.createElement(MV,hn({side:r},s,{ref:e})))}),MV=R.forwardRef((n,e)=>{const t=o0(xd,n.__scopeTooltip),i=Ow(xd,n.__scopeTooltip),r=R.useRef(null),s=uu(e,r),[o,a]=R.useState(null),{trigger:l,onClose:f}=t,d=r.current,{onPointerInTransitChange:h}=i,p=R.useCallback(()=>{a(null),h(!1)},[h]),m=R.useCallback((v,y)=>{const _=v.currentTarget,x={x:v.clientX,y:v.clientY},w=PV(x,_.getBoundingClientRect()),b=RV(x,w),M=LV(y.getBoundingClientRect()),T=DV([...b,...M]);a(T),h(!0)},[h]);return R.useEffect(()=>()=>p(),[p]),R.useEffect(()=>{if(l&&d){const v=_=>m(_,d),y=_=>m(_,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",y)}}},[l,d,m,p]),R.useEffect(()=>{if(o){const v=y=>{const _=y.target,x={x:y.clientX,y:y.clientY},w=(l==null?void 0:l.contains(_))||(d==null?void 0:d.contains(_)),b=!IV(x,o);w?p():b&&(p(),f())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,f,p]),R.createElement(bP,hn({},n,{ref:s}))}),[EV,CV]=r0(Nw,{isInside:!1}),bP=R.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=o0(xd,t),f=s0(t),{onClose:d}=l;return R.useEffect(()=>(document.addEventListener(Tx,d),()=>document.removeEventListener(Tx,d)),[d]),R.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),R.createElement(qU,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d},R.createElement(cV,hn({"data-state":l.stateAttribute},f,a,{ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),R.createElement(K4,null,i),R.createElement(EV,{scope:t,isInside:!0},R.createElement(gV,{id:l.contentId,role:"tooltip"},r||i))))}),TV="TooltipArrow",AV=R.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=s0(t);return CV(TV,t).isInside?null:R.createElement(uV,hn({},r,i,{ref:e}))});function PV(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,i,r,s)){case s:return"left";case r:return"right";case t:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function RV(n,e,t=5){const i=[];switch(e){case"top":i.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":i.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":i.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":i.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return i}function LV(n){const{top:e,right:t,bottom:i,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:i},{x:r,y:i}]}function IV(n,e){const{x:t,y:i}=n;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,f=e[o].x,d=e[o].y;l>i!=d>i&&t<(f-a)*(i-l)/(d-l)+a&&(r=!r)}return r}function DV(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),kV(e)}function kV(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const r=n[i];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const r=n[i];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}const OV=xV,NV=_V,zV=bV,FV=AV;function BV(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function Wt(n,e){if(n==null)return{};var t=BV(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}let on;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(on||(on={}));const UV={[on.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[on.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[on.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[on.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[on.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[on.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[on.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[on.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[on.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[on.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[on.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function MP(n,e,...t){const[i,...r]=UV[e](...t);console[n]("LEVA: "+i,...r)}const js=MP.bind(null,"warn"),HV=MP.bind(null,"log"),VV=["value"],WV=["schema"],$V=["value"],EP=[],dl={};function nE(n){let{value:e}=n,t=Wt(n,VV);for(let i of EP){const r=i(e,t);if(r)return r}}function mo(n,e){let{schema:t}=e,i=Wt(e,WV);if(n in dl){js(on.ALREADY_REGISTERED_TYPE,n);return}EP.push((r,s)=>t(r,s)&&n),dl[n]=i}function Av(n,e,t,i){const{normalize:r}=dl[n];if(r)return r(e,t,i);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=Wt(e,$V);return{value:s,settings:o}}function GV(n,e,t,i,r,s){const{sanitize:o}=dl[n];return o?o(e,t,i,r,s):e}function iE(n,e,t){const{format:i}=dl[n];return i?i(e,t):e}function jV(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function lt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rE(Object(t),!0).forEach(function(i){jV(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const ra=(n,e,t)=>n>t?t:n<e?e:n,XV=n=>{if(n===""||typeof n=="number")return n;try{const e=Ro(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},YV=Math.log(10);function sE(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/YV)+1,i=Math.floor(Math.log10(Math.abs(n))),r=Math.pow(10,i-t);return Math.max(r,.001)}const fg=(n,e,t)=>t===e?0:(ra(n,e,t)-e)/(t-e),dg=(n,e,t)=>n*(t-e)+e,ZV=()=>"_"+Math.random().toString(36).substr(2,9),oE=/\(([0-9+\-*/^ .]+)\)/,aE=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,lE=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,cE=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,uE=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,fE=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function Ro(n){if(isNaN(Number(n)))if(oE.test(n)){const e=n.replace(oE,(t,i)=>String(Ro(i)));return Ro(e)}else if(aE.test(n)){const e=n.replace(aE,(t,i,r)=>String(Math.pow(Number(i),Number(r))));return Ro(e)}else if(lE.test(n)){const e=n.replace(lE,(t,i,r)=>String(Number(i)*Number(r)));return Ro(e)}else if(cE.test(n)){const e=n.replace(cE,(t,i,r)=>{if(r!=0)return String(Number(i)/Number(r));throw new Error("Division by zero")});return Ro(e)}else if(uE.test(n)){const e=n.replace(uE,(t,i,r)=>String(Number(i)+Number(r)));return Ro(e)}else if(fE.test(n)){const e=n.replace(fE,(t,i,r)=>String(Number(i)-Number(r)));return Ro(e)}else return Number(n);return Number(n)}function qV(n,e){return e.reduce((t,i)=>(n&&n.hasOwnProperty(i)&&(t[i]=n[i]),t),{})}function KV(n,e){const t=lt({},n);return e.forEach(i=>i in n&&delete t[i]),t}function JV(n,e){return n.reduce((t,i,r)=>Object.assign(t,{[e[r]]:i}),{})}function CP(n){return Object.prototype.toString.call(n)==="[object Object]"}const QV=n=>CP(n)&&Object.keys(n).length===0;let Pr;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(Pr||(Pr={}));let Jr;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})(Jr||(Jr={}));const eW=["type","__customInput"],tW=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],nW=["type"];function TP(n,e,t={},i){var r,s;if(typeof n!="object"||Array.isArray(n))return{type:i,input:n,options:lt({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in n){const{type:T,__customInput:A}=n,L=Wt(n,eW);return TP(A,e,L,T)}const{render:o,label:a,optional:l,order:f=0,disabled:d,hint:h,onChange:p,onEditStart:m,onEditEnd:v,transient:y}=n,_=Wt(n,tW),x=lt({render:o,key:e,label:a??e,hint:h,transient:y??!!p,onEditStart:m,onEditEnd:v,disabled:d,optional:l,order:f},t);let{type:w}=_,b=Wt(_,nW);if(w=i??w,w in Pr)return{type:w,input:b,options:x};let M;return i&&CP(b)&&"value"in b?M=b.value:M=QV(b)?void 0:b,{type:w,input:M,options:lt(lt({},x),{},{onChange:p,optional:(r=x.optional)!==null&&r!==void 0?r:!1,disabled:(s=x.disabled)!==null&&s!==void 0?s:!1})}}function iW(n,e,t,i){const r=TP(n,e),{type:s,input:o,options:a}=r;if(s)return s in Pr?r:{type:s,input:Av(s,o,t,i),options:a};let l=nE(o);return l?{type:l,input:Av(l,o,t,i),options:a}:(l=nE({value:o}),l?{type:l,input:Av(l,{value:o},t,i),options:a}:!1)}function dE(n,e,t,i,r){const{value:s,type:o,settings:a}=n;n.value=AP({type:o,value:s,settings:a},e,t,i),n.fromPanel=r}const rW=function(e,t,i){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=i};function AP({type:n,value:e,settings:t},i,r,s){const o=n!=="SELECT"&&typeof i=="function"?i(e):i;let a;try{a=GV(n,o,t,e,r,s)}catch(l){throw new rW(`The value \`${i}\` did not result in a correct value.`,e,l)}return md(a,e)?e:a}const PP=(n,e,t=!1)=>{let i=0;return function(){const r=arguments,s=t&&!i,o=()=>n.apply(this,r);window.clearTimeout(i),i=window.setTimeout(o,e),s&&o()}},RP=n=>n.shiftKey?5:n.altKey?1/5:1;function sW(n,e){const t=console.error;console.error=()=>{},f5.render(n,e),console.error=t}const oW=["value"],aW=["min","max"],lW=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?!1:n.substring((""+e).length).trim().length<4}return!1},LP=(n,{min:e=-1/0,max:t=1/0,suffix:i})=>{const r=parseFloat(n);if(n===""||isNaN(r))throw Error("Invalid number");const s=ra(r,e,t);return i?s+i:s},cW=(n,{pad:e=0,suffix:t})=>{const i=parseFloat(n).toFixed(e);return t?i+t:i},IP=n=>{let{value:e}=n,t=Wt(n,oW);const{min:i=-1/0,max:r=1/0}=t,s=Wt(t,aW);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=ra(o,i,r);let l=t.step;l||(Number.isFinite(i)?Number.isFinite(r)?l=+(Math.abs(r-i)/100).toPrecision(1):l=+(Math.abs(o-i)/100).toPrecision(1):Number.isFinite(r)&&(l=+(Math.abs(r-o)/100).toPrecision(1)));const f=l?sE(l)*10:sE(o);l=l||f/10;const d=Math.round(ra(Math.log10(1/f),0,2));return{value:a?o+a:o,settings:lt({initialValue:o,step:l,pad:d,min:i,max:r,suffix:a},s)}},DP=(n,{step:e,initialValue:t})=>{const i=Math.round((n-t)/e);return t+i*e};var kP=Object.freeze({__proto__:null,schema:lW,sanitize:LP,format:cW,normalize:IP,sanitizeStep:DP});function _n(){return _n=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_n.apply(this,arguments)}const OP=R.createContext({});function gi(){return R.useContext(OP)}const zw=R.createContext(null),NP=R.createContext(null),zP=R.createContext(null);function Yd(){return R.useContext(NP)}function uW(){return R.useContext(zP)}const FP=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function im(n,e){const[t,i]=n.split(" "),r={};return t!=="none"&&(r.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),i&&(r.backgroundColor=i),r}const lf={$inputStyle:()=>n=>im(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>im(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>im(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>im(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:at,css:CZ,createTheme:fW,globalCss:dW,keyframes:TZ}=iP({prefix:"leva",theme:FP(),utils:lt(lt({},lf),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":lf.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":lf.$focusStyle()(n)}),$hover:n=>({"&:hover":lf.$hoverStyle()(n)}),$active:n=>({"&:active":lf.$activeStyle()(n)})})}),hW=dW({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function pW(n){const e=FP();if(!n)return{theme:e,className:""};Object.keys(n).forEach(i=>{Object.assign(e[i],n[i])});const t=fW(e);return{theme:e,className:t.className}}function eo(n,e){const{theme:t}=R.useContext(zw);if(!(n in t)||!(e in t[n]))return js(on.THEME_ERROR,n,e),"";let i=e;for(;;){let r=t[n][i];if(typeof r=="string"&&r.charAt(0)==="$")i=r.substr(1);else return r}}const BP=at("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),UP=at("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${BP}`]:{paddingLeft:0}}),mW=at(UP,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),gW=at("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),vW=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],yW=["onUpdate"];function Fw(n){let{innerLabel:e,value:t,onUpdate:i,onChange:r,onKeyDown:s,type:o,id:a,inputType:l="text",rows:f=0}=n,d=Wt(n,vW);const{id:h,emitOnEditStart:p,emitOnEditEnd:m,disabled:v}=gi(),y=a||h,_=R.useRef(null),x=f>0,w=x?"textarea":"input",b=R.useCallback(A=>L=>{const C=L.currentTarget.value;A(C)},[]);V.useEffect(()=>{const A=_.current,L=b(C=>{i(C),m()});return A==null||A.addEventListener("blur",L),()=>A==null?void 0:A.removeEventListener("blur",L)},[b,i,m]);const M=R.useCallback(A=>{A.key==="Enter"&&b(i)(A)},[b,i]),T=Object.assign({as:w},x?{rows:f}:{},d);return V.createElement(gW,{textArea:x},e&&typeof e=="string"?V.createElement(UP,null,e):e,V.createElement(BP,_n({levaType:o,ref:_,id:y,type:l,autoComplete:"off",spellCheck:"false",value:t,onChange:b(r),onFocus:()=>p(),onKeyPress:M,onKeyDown:s,disabled:v},T)))}function xW(n){let{onUpdate:e}=n,t=Wt(n,yW);const i=R.useCallback(s=>e(XV(s)),[e]),r=R.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return V.createElement(Fw,_n({},t,{onUpdate:i,onKeyDown:r,type:"number"}))}const hg=at("div",{}),Ax=at("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),_W=at("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${Ax}::after`]:{opacity:.6},[`${hg}:hover > & + ${Ax}::after`]:{opacity:.6},[`${hg}:hover > & > svg`]:{opacity:1}}),HP=at("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${hg}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),VP=at("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${HP} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),WP=at(VP,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),wW=at("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),SW=at("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),Px=at("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),bW=at("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${Px}`]:{pointerEvents:"auto"}}}}}),$P=at("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),MW=at("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),EW=at(FV,{fill:"$toolTipBackground"});function Bw({children:n}){const{className:e}=R.useContext(zw);return V.createElement(dU,{className:e},n)}const CW=["align"];function TW(){const{id:n,disable:e,disabled:t}=gi();return V.createElement(V.Fragment,null,V.createElement(SW,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),V.createElement("label",{htmlFor:n+"__disable"}))}function AW(n){const{id:e,optional:t,hint:i}=gi(),r=n.htmlFor||(e?{htmlFor:e}:null),s=!i&&typeof n.children=="string"?{title:n.children}:null;return V.createElement(V.Fragment,null,t&&V.createElement(TW,null),i!==void 0?V.createElement(OV,null,V.createElement(NV,{asChild:!0},V.createElement(Px,_n({},r,n))),V.createElement(zV,{side:"top",sideOffset:2},V.createElement(MW,null,i,V.createElement(EW,null)))):V.createElement(Px,_n({},r,s,n)))}function ts(n){let{align:e}=n,t=Wt(n,CW);const{value:i,label:r,key:s,disabled:o}=gi(),{hideCopyButton:a}=uW(),l=!a&&s!==void 0,[f,d]=R.useState(!1),h=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:i??""})),d(!0)}catch{js(on.CLIPBOARD_ERROR,{[s]:i})}};return V.createElement(wW,{align:e,onPointerLeave:()=>d(!1)},V.createElement(AW,t),l&&!o&&V.createElement("div",{title:`Click to copy ${typeof r=="string"?r:s} value`},f?V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},V.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),V.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):V.createElement("svg",{onClick:h,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},V.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),V.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const PW=["toggled"],RW=at("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function Uw(n){let{toggled:e}=n,t=Wt(n,PW);return V.createElement(RW,_n({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),V.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const LW=["input"];function kr(n){let{input:e}=n,t=Wt(n,LW);return e?V.createElement(WP,t):V.createElement(VP,t)}function GP({value:n,type:e,settings:t,setValue:i}){const[r,s]=R.useState(iE(e,n,t)),o=R.useRef(n),a=R.useRef(t);a.current=t;const l=R.useCallback(d=>s(iE(e,d,a.current)),[e]),f=R.useCallback(d=>{try{i(d)}catch(h){const{type:p,previousValue:m}=h;if(p!=="LEVA_ERROR")throw h;l(m)}},[l,i]);return R.useEffect(()=>{md(n,o.current)||l(n),o.current=n},[n,l]),{displayValue:r,onChange:s,onUpdate:f}}function Zd(n,e){const{emitOnEditStart:t,emitOnEditEnd:i}=gi();return $B(r=>{r.first&&(document.body.classList.add("leva__panel__dragged"),t==null||t());const s=n(r);return r.last&&(document.body.classList.remove("leva__panel__dragged"),i==null||i()),s},e)}function IW(n){const e=R.useRef(null),t=R.useRef(null),i=R.useRef(!1);return R.useEffect(()=>{const r=PP(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",r),i.current||(r(),i.current=!0),()=>window.removeEventListener("resize",r)},[n]),R.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function jP(){const n=R.useRef(null),e=R.useRef({x:0,y:0}),t=R.useCallback(i=>{Object.assign(e.current,i),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const DW=["__refCount"],Pv=(n,e)=>{if(!n[e])return null;const t=n[e];return Wt(t,DW)};function kW(n){const e=Yd(),[t,i]=R.useState(Pv(e.getData(),n)),r=R.useCallback(f=>e.setValueAtPath(n,f,!0),[n,e]),s=R.useCallback(f=>e.setSettingsAtPath(n,f),[n,e]),o=R.useCallback(f=>e.disableInputAtPath(n,f),[n,e]),a=R.useCallback(()=>e.emitOnEditStart(n),[n,e]),l=R.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return R.useEffect(()=>{i(Pv(e.getData(),n));const f=e.useStore.subscribe(d=>Pv(d.data,n),i,{equalityFn:jd});return()=>f()},[e,n]),[t,{set:r,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const OW=at("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),XP=at("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),Rx=at("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),YP=at("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),ZP=at("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function NW({value:n,min:e,max:t,onDrag:i,step:r,initialValue:s}){const o=R.useRef(null),a=R.useRef(null),l=R.useRef(0),f=eo("sizes","scrubberWidth"),d=Zd(({event:p,first:m,xy:[v],movement:[y],memo:_})=>{if(m){const{width:w,left:b}=o.current.getBoundingClientRect();l.current=w-parseFloat(f),_=(p==null?void 0:p.target)===a.current?n:dg((v-b)/w,e,t)}const x=_+dg(y/l.current,0,t-e);return i(DP(x,{step:r,initialValue:s})),_}),h=fg(n,e,t);return V.createElement(YP,_n({ref:o},d()),V.createElement(XP,null,V.createElement(ZP,{style:{left:0,right:`${(1-h)*100}%`}})),V.createElement(Rx,{ref:a,style:{left:`calc(${h} * (100% - ${f}))`}}))}const zW=V.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:i})=>{const[r,s]=R.useState(!1),o=Zd(({active:a,delta:[l],event:f,memo:d=0})=>(s(a),d+=l/2,Math.abs(d)>=1&&(e(h=>parseFloat(h)+Math.floor(d)*t*RP(f)),d=0),d));return V.createElement(mW,_n({dragging:r,title:n.length>1?n:""},o()),n.slice(0,i))});function qP({label:n,id:e,displayValue:t,onUpdate:i,onChange:r,settings:s,innerLabelTrim:o=1}){const a=o>0&&V.createElement(zW,{label:n,step:s.step,onUpdate:i,innerLabelTrim:o});return V.createElement(xW,{id:e,value:String(t),onUpdate:i,onChange:r,innerLabel:a})}function FW(){const n=gi(),{label:e,value:t,onUpdate:i,settings:r,id:s}=n,{min:o,max:a}=r,l=a!==1/0&&o!==-1/0;return V.createElement(kr,{input:!0},V.createElement(ts,null,e),V.createElement(OW,{hasRange:l},l&&V.createElement(NW,_n({value:parseFloat(t),onDrag:i},r)),V.createElement(qP,_n({},n,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:BW}=kP,UW=Wt(kP,["sanitizeStep"]);var HW=lt({component:FW},UW);const VW=(n,e)=>Ui().schema({options:Ui().passesAnyOf(Ui().object(),Ui().array())}).test(e),WW=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},$W=(n,{values:e})=>e.indexOf(n),GW=n=>{let{value:e,options:t}=n,i,r;return Array.isArray(t)?(r=t,i=t.map(s=>String(s))):(r=Object.values(t),i=Object.keys(t)),"value"in n?r.includes(e)||(i.unshift(String(e)),r.unshift(e)):e=r[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:i,values:r}}};var jW=Object.freeze({__proto__:null,schema:VW,sanitize:WW,format:$W,normalize:GW});const XW=at("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),Lx=at("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),YW=at("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${Lx}:focus + &`]:{$focusStyle:""},[`${Lx}:hover + &`]:{$hoverStyle:""}});function ZW({displayValue:n,value:e,onUpdate:t,id:i,settings:r,disabled:s}){const{keys:o,values:a}=r,l=R.useRef();return e===a[n]&&(l.current=o[n]),V.createElement(XW,null,V.createElement(Lx,{id:i,value:n,onChange:f=>t(a[Number(f.currentTarget.value)]),disabled:s},o.map((f,d)=>V.createElement("option",{key:f,value:d},f))),V.createElement(YW,null,l.current),V.createElement(Uw,{toggled:!0}))}function qW(){const{label:n,value:e,displayValue:t,onUpdate:i,id:r,disabled:s,settings:o}=gi();return V.createElement(kr,{input:!0},V.createElement(ts,null,n),V.createElement(ZW,{id:r,value:e,displayValue:t,onUpdate:i,settings:o,disabled:s}))}var KW=lt({component:qW},jW);const JW=n=>Ui().string().test(n),QW=n=>{if(typeof n!="string")throw Error("Invalid string");return n},e$=({value:n,editable:e=!0,rows:t=!1})=>({value:n,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var t$=Object.freeze({__proto__:null,schema:JW,sanitize:QW,normalize:e$});const n$=["displayValue","onUpdate","onChange","editable"],i$=at("div",{whiteSpace:"pre-wrap"});function r$(n){let{displayValue:e,onUpdate:t,onChange:i,editable:r=!0}=n,s=Wt(n,n$);return r?V.createElement(Fw,_n({value:e,onUpdate:t,onChange:i},s)):V.createElement(i$,null,e)}function s$(){const{label:n,settings:e,displayValue:t,onUpdate:i,onChange:r}=gi();return V.createElement(kr,{input:!0},V.createElement(ts,null,n),V.createElement(r$,_n({displayValue:t,onUpdate:i,onChange:r},e)))}var o$=lt({component:s$},t$);const a$=n=>Ui().boolean().test(n),l$=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var c$=Object.freeze({__proto__:null,schema:a$,sanitize:l$});const u$=at("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function f$({value:n,onUpdate:e,id:t,disabled:i}){return V.createElement(u$,null,V.createElement("input",{id:t,type:"checkbox",checked:n,onChange:r=>e(r.currentTarget.checked),disabled:i}),V.createElement("label",{htmlFor:t},V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},V.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function d$(){const{label:n,value:e,onUpdate:t,disabled:i,id:r}=gi();return V.createElement(kr,{input:!0},V.createElement(ts,null,n),V.createElement(f$,{value:e,onUpdate:t,id:r,disabled:i}))}var h$=lt({component:d$},c$);const p$=["locked"];function m$({value:n,id:e,valueKey:t,settings:i,onUpdate:r,innerLabelTrim:s}){const o=R.useRef(n[t]);o.current=n[t];const a=R.useCallback(f=>r({[t]:AP({type:"NUMBER",value:o.current,settings:i},f)}),[r,i,t]),l=GP({type:"NUMBER",value:n[t],settings:i,setValue:a});return V.createElement(qP,{id:e,label:t,value:n[t],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:i,innerLabelTrim:s})}const g$=at("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function v$(n){let{locked:e}=n,t=Wt(n,p$);return V.createElement("svg",_n({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?V.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):V.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function Hw({value:n,onUpdate:e,settings:t,innerLabelTrim:i}){const{id:r,setSettings:s}=gi(),{lock:o,locked:a}=t;return V.createElement(g$,{withLock:o},o&&V.createElement(v$,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(n).map((l,f)=>V.createElement(m$,{id:f===0?r:`${r}.${l}`,key:l,valueKey:l,value:n,settings:t[l],onUpdate:e,innerLabelTrim:i})))}const KP=(n,e)=>{const t={};let i=0,r=1/0;Object.entries(n).forEach(([s,o])=>{t[s]=IP(lt({value:o},e[s])).settings,i=Math.max(i,t[s].step),r=Math.min(r,t[s].pad)});for(let s in t){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(t[s].step=i,t[s].pad=r)}return t},y$=["lock"],x$=["value"];function _$(n){const e=Ui().array().length(n).every.number(),t=i=>{if(!i||typeof i!="object")return!1;const r=Object.values(i);return r.length===n&&r.every(s=>isFinite(s))};return i=>e.test(i)||t(i)}function w$(n){return Array.isArray(n)?"array":"object"}function Lf(n,e,t){return w$(n)===e?n:e==="array"?Object.values(n):JV(n,t)}const S$=(n,e,t)=>{const i=Lf(n,"object",e.keys);for(let o in i)i[o]=LP(i[o],e[o]);const r=Object.keys(i);let s={};if(r.length===e.keys.length)s=i;else{const o=Lf(t,"object",e.keys);if(r.length===1&&e.locked){const a=r[0],l=i[a],f=o[a],d=f!==0?l/f:1;for(let h in o)h===a?s[a]=l:s[h]=o[h]*d}else s=lt(lt({},o),i)}return Lf(s,e.format,e.keys)},b$=(n,e)=>Lf(n,"object",e.keys),M$=n=>!!n&&("step"in n||"min"in n||"max"in n);function E$(n,e,t=[]){const{lock:i=!1}=e,r=Wt(e,y$),s=Array.isArray(n)?"array":"object",o=s==="object"?Object.keys(n):t,a=Lf(n,"object",o),l=M$(r)?o.reduce((d,h)=>Object.assign(d,{[h]:r}),{}):r,f=KP(a,l);return{value:s==="array"?n:a,settings:lt(lt({},f),{},{format:s,keys:o,lock:i,locked:!1})}}function JP(n){return{schema:_$(n.length),normalize:e=>{let{value:t}=e,i=Wt(e,x$);return E$(t,i,n)},format:(e,t)=>b$(e,t),sanitize:(e,t,i)=>S$(e,t,i)}}var C$={grad:.9,turn:360,rad:360/(2*Math.PI)},Us=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},Xn=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},Tr=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},QP=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},hE=function(n){return{r:Tr(n.r,0,255),g:Tr(n.g,0,255),b:Tr(n.b,0,255),a:Tr(n.a)}},Rv=function(n){return{r:Xn(n.r),g:Xn(n.g),b:Xn(n.b),a:Xn(n.a,3)}},T$=/^#([0-9a-f]{3,8})$/i,rm=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},eR=function(n){var e=n.r,t=n.g,i=n.b,r=n.a,s=Math.max(e,t,i),o=s-Math.min(e,t,i),a=o?s===e?(t-i)/o:s===t?2+(i-e)/o:4+(e-t)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:r}},tR=function(n){var e=n.h,t=n.s,i=n.v,r=n.a;e=e/360*6,t/=100,i/=100;var s=Math.floor(e),o=i*(1-t),a=i*(1-(e-s)*t),l=i*(1-(1-e+s)*t),f=s%6;return{r:255*[i,a,o,o,l,i][f],g:255*[l,i,i,a,o,o][f],b:255*[o,o,l,i,i,a][f],a:r}},pE=function(n){return{h:QP(n.h),s:Tr(n.s,0,100),l:Tr(n.l,0,100),a:Tr(n.a)}},mE=function(n){return{h:Xn(n.h),s:Xn(n.s),l:Xn(n.l),a:Xn(n.a,3)}},gE=function(n){return tR((t=(e=n).s,{h:e.h,s:(t*=((i=e.l)<50?i:100-i)/100)>0?2*t/(i+t)*100:0,v:i+t,a:e.a}));var e,t,i},If=function(n){return{h:(e=eR(n)).h,s:(r=(200-(t=e.s))*(i=e.v)/100)>0&&r<200?t*i/100/(r<=100?r:200-r)*100:0,l:r/2,a:e.a};var e,t,i,r},A$=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,P$=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,R$=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,L$=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ix={string:[[function(n){var e=T$.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Xn(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?Xn(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=R$.exec(n)||L$.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:hE({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=A$.exec(n)||P$.exec(n);if(!e)return null;var t,i,r=pE({h:(t=e[1],i=e[2],i===void 0&&(i="deg"),Number(t)*(C$[i]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return gE(r)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,i=n.b,r=n.a,s=r===void 0?1:r;return Us(e)&&Us(t)&&Us(i)?hE({r:Number(e),g:Number(t),b:Number(i),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,i=n.l,r=n.a,s=r===void 0?1:r;if(!Us(e)||!Us(t)||!Us(i))return null;var o=pE({h:Number(e),s:Number(t),l:Number(i),a:Number(s)});return gE(o)},"hsl"],[function(n){var e=n.h,t=n.s,i=n.v,r=n.a,s=r===void 0?1:r;if(!Us(e)||!Us(t)||!Us(i))return null;var o=function(a){return{h:QP(a.h),s:Tr(a.s,0,100),v:Tr(a.v,0,100),a:Tr(a.a)}}({h:Number(e),s:Number(t),v:Number(i),a:Number(s)});return tR(o)},"hsv"]]},vE=function(n,e){for(var t=0;t<e.length;t++){var i=e[t][0](n);if(i)return[i,e[t][1]]}return[null,void 0]},nR=function(n){return typeof n=="string"?vE(n.trim(),Ix.string):typeof n=="object"&&n!==null?vE(n,Ix.object):[null,void 0]},I$=function(n){return nR(n)[1]},Lv=function(n,e){var t=If(n);return{h:t.h,s:Tr(t.s+100*e,0,100),l:t.l,a:t.a}},Iv=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},yE=function(n,e){var t=If(n);return{h:t.h,s:t.s,l:Tr(t.l+100*e,0,100),a:t.a}},Dx=function(){function n(e){this.parsed=nR(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return Xn(Iv(this.rgba),2)},n.prototype.isDark=function(){return Iv(this.rgba)<.5},n.prototype.isLight=function(){return Iv(this.rgba)>=.5},n.prototype.toHex=function(){return e=Rv(this.rgba),t=e.r,i=e.g,r=e.b,o=(s=e.a)<1?rm(Xn(255*s)):"","#"+rm(t)+rm(i)+rm(r)+o;var e,t,i,r,s,o},n.prototype.toRgb=function(){return Rv(this.rgba)},n.prototype.toRgbString=function(){return e=Rv(this.rgba),t=e.r,i=e.g,r=e.b,(s=e.a)<1?"rgba("+t+", "+i+", "+r+", "+s+")":"rgb("+t+", "+i+", "+r+")";var e,t,i,r,s},n.prototype.toHsl=function(){return mE(If(this.rgba))},n.prototype.toHslString=function(){return e=mE(If(this.rgba)),t=e.h,i=e.s,r=e.l,(s=e.a)<1?"hsla("+t+", "+i+"%, "+r+"%, "+s+")":"hsl("+t+", "+i+"%, "+r+"%)";var e,t,i,r,s},n.prototype.toHsv=function(){return e=eR(this.rgba),{h:Xn(e.h),s:Xn(e.s),v:Xn(e.v),a:Xn(e.a,3)};var e},n.prototype.invert=function(){return Mi({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),Mi(Lv(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),Mi(Lv(this.rgba,-e))},n.prototype.grayscale=function(){return Mi(Lv(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),Mi(yE(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),Mi(yE(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?Mi({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Xn(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=If(this.rgba);return typeof e=="number"?Mi({h:e,s:t.s,l:t.l,a:t.a}):Xn(t.h)},n.prototype.isEqual=function(e){return this.toHex()===Mi(e).toHex()},n}(),Mi=function(n){return n instanceof Dx?n:new Dx(n)},xE=[],D$=function(n){n.forEach(function(e){xE.indexOf(e)<0&&(e(Dx,Ix),xE.push(e))})};function k$(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var r in t)i[t[r]]=r;var s={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,f=i[this.toHex()];if(f)return f;if(o!=null&&o.closest){var d=this.toRgb(),h=1/0,p="black";if(!s.length)for(var m in t)s[m]=new n(t[m]).toRgb();for(var v in t){var y=(a=d,l=s[v],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));y<h&&(h=y,p=v)}return p}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":t[a];return l?new n(l).toRgb():null},"name"])}function mu(){return(mu=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}).apply(this,arguments)}function Vw(n,e){if(n==null)return{};var t,i,r={},s=Object.keys(n);for(i=0;i<s.length;i++)e.indexOf(t=s[i])>=0||(r[t]=n[t]);return r}function kx(n){var e=R.useRef(n),t=R.useRef(function(i){e.current&&e.current(i)});return e.current=n,t.current}var qc=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},Df=function(n){return"touches"in n},Ox=function(n){return n&&n.ownerDocument.defaultView||self},_E=function(n,e,t){var i=n.getBoundingClientRect(),r=Df(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,t):e;return{left:qc((r.pageX-(i.left+Ox(n).pageXOffset))/i.width),top:qc((r.pageY-(i.top+Ox(n).pageYOffset))/i.height)}},wE=function(n){!Df(n)&&n.preventDefault()},Ww=V.memo(function(n){var e=n.onMove,t=n.onKey,i=Vw(n,["onMove","onKey"]),r=R.useRef(null),s=kx(e),o=kx(t),a=R.useRef(null),l=R.useRef(!1),f=R.useMemo(function(){var m=function(_){wE(_),(Df(_)?_.touches.length>0:_.buttons>0)&&r.current?s(_E(r.current,_,a.current)):y(!1)},v=function(){return y(!1)};function y(_){var x=l.current,w=Ox(r.current),b=_?w.addEventListener:w.removeEventListener;b(x?"touchmove":"mousemove",m),b(x?"touchend":"mouseup",v)}return[function(_){var x=_.nativeEvent,w=r.current;if(w&&(wE(x),!function(M,T){return T&&!Df(M)}(x,l.current)&&w)){if(Df(x)){l.current=!0;var b=x.changedTouches||[];b.length&&(a.current=b[0].identifier)}w.focus(),s(_E(w,x,a.current)),y(!0)}},function(_){var x=_.which||_.keyCode;x<37||x>40||(_.preventDefault(),o({left:x===39?.05:x===37?-.05:0,top:x===40?.05:x===38?-.05:0}))},y]},[o,s]),d=f[0],h=f[1],p=f[2];return R.useEffect(function(){return p},[p]),V.createElement("div",mu({},i,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:r,onKeyDown:h,tabIndex:0,role:"slider"}))}),qd=function(n){return n.filter(Boolean).join(" ")},$w=function(n){var e=n.color,t=n.left,i=n.top,r=i===void 0?.5:i,s=qd(["react-colorful__pointer",n.className]);return V.createElement("div",{className:s,style:{top:100*r+"%",left:100*t+"%"}},V.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},Ci=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},iR=function(n){var e=n.s,t=n.v,i=n.a,r=(200-e)*t/100;return{h:Ci(n.h),s:Ci(r>0&&r<200?e*t/100/(r<=100?r:200-r)*100:0),l:Ci(r/2),a:Ci(i,2)}},Nx=function(n){var e=iR(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},Dv=function(n){var e=iR(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},rR=function(n){var e=n.h,t=n.s,i=n.v,r=n.a;e=e/360*6,t/=100,i/=100;var s=Math.floor(e),o=i*(1-t),a=i*(1-(e-s)*t),l=i*(1-(1-e+s)*t),f=s%6;return{r:Ci(255*[i,a,o,o,l,i][f]),g:Ci(255*[l,i,i,a,o,o][f]),b:Ci(255*[o,o,l,i,i,a][f]),a:Ci(r,2)}},sR=function(n){var e=n.r,t=n.g,i=n.b,r=n.a,s=Math.max(e,t,i),o=s-Math.min(e,t,i),a=o?s===e?(t-i)/o:s===t?2+(i-e)/o:4+(e-t)/o:0;return{h:Ci(60*(a<0?a+6:a)),s:Ci(s?o/s*100:0),v:Ci(s/255*100),a:r}},oR=V.memo(function(n){var e=n.hue,t=n.onChange,i=qd(["react-colorful__hue",n.className]);return V.createElement("div",{className:i},V.createElement(Ww,{onMove:function(r){t({h:360*r.left})},onKey:function(r){t({h:qc(e+360*r.left,0,360)})},"aria-label":"Hue","aria-valuenow":Ci(e),"aria-valuemax":"360","aria-valuemin":"0"},V.createElement($w,{className:"react-colorful__hue-pointer",left:e/360,color:Nx({h:e,s:100,v:100,a:1})})))}),aR=V.memo(function(n){var e=n.hsva,t=n.onChange,i={backgroundColor:Nx({h:e.h,s:100,v:100,a:1})};return V.createElement("div",{className:"react-colorful__saturation",style:i},V.createElement(Ww,{onMove:function(r){t({s:100*r.left,v:100-100*r.top})},onKey:function(r){t({s:qc(e.s+100*r.left,0,100),v:qc(e.v-100*r.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Ci(e.s)+"%, Brightness "+Ci(e.v)+"%"},V.createElement($w,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:Nx(e)})))}),Gw=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function lR(n,e,t){var i=kx(t),r=R.useState(function(){return n.toHsva(e)}),s=r[0],o=r[1],a=R.useRef({color:e,hsva:s});R.useEffect(function(){if(!n.equal(e,a.current.color)){var f=n.toHsva(e);a.current={hsva:f,color:e},o(f)}},[e,n]),R.useEffect(function(){var f;Gw(s,a.current.hsva)||n.equal(f=n.fromHsva(s),a.current.color)||(a.current={hsva:s,color:f},i(f))},[s,n,i]);var l=R.useCallback(function(f){o(function(d){return Object.assign({},d,f)})},[]);return[s,l]}var O$=typeof window<"u"?R.useLayoutEffect:R.useEffect,N$=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},SE=new Map,cR=function(n){O$(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!SE.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,SE.set(e,t);var i=N$();i&&t.setAttribute("nonce",i),e.head.appendChild(t)}},[])},z$=function(n){var e=n.className,t=n.colorModel,i=n.color,r=i===void 0?t.defaultColor:i,s=n.onChange,o=Vw(n,["className","colorModel","color","onChange"]),a=R.useRef(null);cR(a);var l=lR(t,r,s),f=l[0],d=l[1],h=qd(["react-colorful",e]);return V.createElement("div",mu({},o,{ref:a,className:h}),V.createElement(aR,{hsva:f,onChange:d}),V.createElement(oR,{hue:f.h,onChange:d,className:"react-colorful__last-control"}))},F$=function(n){var e=n.className,t=n.hsva,i=n.onChange,r={backgroundImage:"linear-gradient(90deg, "+Dv(Object.assign({},t,{a:0}))+", "+Dv(Object.assign({},t,{a:1}))+")"},s=qd(["react-colorful__alpha",e]),o=Ci(100*t.a);return V.createElement("div",{className:s},V.createElement("div",{className:"react-colorful__alpha-gradient",style:r}),V.createElement(Ww,{onMove:function(a){i({a:a.left})},onKey:function(a){i({a:qc(t.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},V.createElement($w,{className:"react-colorful__alpha-pointer",left:t.a,color:Dv(t)})))},B$=function(n){var e=n.className,t=n.colorModel,i=n.color,r=i===void 0?t.defaultColor:i,s=n.onChange,o=Vw(n,["className","colorModel","color","onChange"]),a=R.useRef(null);cR(a);var l=lR(t,r,s),f=l[0],d=l[1],h=qd(["react-colorful",e]);return V.createElement("div",mu({},o,{ref:a,className:h}),V.createElement(aR,{hsva:f,onChange:d}),V.createElement(oR,{hue:f.h,onChange:d}),V.createElement(F$,{hsva:f,onChange:d,className:"react-colorful__last-control"}))},U$={defaultColor:{r:0,g:0,b:0,a:1},toHsva:sR,fromHsva:rR,equal:Gw},H$=function(n){return V.createElement(B$,mu({},n,{colorModel:U$}))},V$={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return sR({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=rR(n)).r,g:e.g,b:e.b};var e},equal:Gw},W$=function(n){return V.createElement(z$,mu({},n,{colorModel:V$}))};function gu(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{f(i.next(d))}catch(h){o(h)}}function l(d){try{f(i.throw(d))}catch(h){o(h)}}function f(d){d.done?s(d.value):r(d.value).then(a,l)}f((i=i.apply(n,e||[])).next())})}function vu(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(f){return function(d){return l([f,d])}}function l(f){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(t=0)),t;)try{if(i=1,r&&(s=f[0]&2?r.return:f[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,f[1])).done)return s;switch(r=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,r=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){t.label=f[1];break}if(f[0]===6&&t.label<s[1]){t.label=s[1],s=f;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(f);break}s[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(n,t)}catch(d){f=[6,d],r=0}finally{i=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function $$(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,s=[],o;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return s}function G$(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat($$(arguments[e]));return n}var j$=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Kd(n,e){var t=X$(n);if(typeof t.path!="string"){var i=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof i=="string"&&i.length>0?i:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function X$(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var i=e.split(".").pop().toLowerCase(),r=j$.get(i);r&&Object.defineProperty(n,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return n}var Y$=[".DS_Store","Thumbs.db"];function Z$(n){return gu(this,void 0,void 0,function(){return vu(this,function(e){return pg(n)&&q$(n)?[2,eG(n.dataTransfer,n.type)]:K$(n)?[2,J$(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Q$(n)]:[2,[]]})})}function q$(n){return pg(n.dataTransfer)}function K$(n){return pg(n)&&pg(n.target)}function pg(n){return typeof n=="object"&&n!==null}function J$(n){return zx(n.target.files).map(function(e){return Kd(e)})}function Q$(n){return gu(this,void 0,void 0,function(){var e;return vu(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(i){return i.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(i){return Kd(i)})]}})})}function eG(n,e){return gu(this,void 0,void 0,function(){var t,i;return vu(this,function(r){switch(r.label){case 0:return n===null?[2,[]]:n.items?(t=zx(n.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(tG))]):[3,2];case 1:return i=r.sent(),[2,bE(uR(i))];case 2:return[2,bE(zx(n.files).map(function(s){return Kd(s)}))]}})})}function bE(n){return n.filter(function(e){return Y$.indexOf(e.name)===-1})}function zx(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var i=n[t];e.push(i)}return e}function tG(n){if(typeof n.webkitGetAsEntry!="function")return ME(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?fR(e):ME(n)}function uR(n){return n.reduce(function(e,t){return G$(e,Array.isArray(t)?uR(t):[t])},[])}function ME(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=Kd(e);return Promise.resolve(t)}function nG(n){return gu(this,void 0,void 0,function(){return vu(this,function(e){return[2,n.isDirectory?fR(n):iG(n)]})})}function fR(n){var e=n.createReader();return new Promise(function(t,i){var r=[];function s(){var o=this;e.readEntries(function(a){return gu(o,void 0,void 0,function(){var l,f,d;return vu(this,function(h){switch(h.label){case 0:if(a.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return l=h.sent(),t(l),[3,4];case 3:return f=h.sent(),i(f),[3,4];case 4:return[3,6];case 5:d=Promise.all(a.map(nG)),r.push(d),s(),h.label=6;case 6:return[2]}})})},function(a){i(a)})}s()})}function iG(n){return gu(this,void 0,void 0,function(){return vu(this,function(e){return[2,new Promise(function(t,i){n.file(function(r){var s=Kd(r,n.fullPath);t(s)},function(r){i(r)})})]})})}var rG=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),i=n.name||"",r=(n.type||"").toLowerCase(),s=r.replace(/\/.*$/,"");return t.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?i.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):r===a})}return!0};function EE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function CE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EE(Object(t),!0).forEach(function(i){dR(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):EE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function dR(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function TE(n,e){return lG(n)||aG(n,e)||oG(n,e)||sG()}function sG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oG(n,e){if(n){if(typeof n=="string")return AE(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return AE(n,e)}}function AE(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function aG(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,s=!1,o,a;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw a}}return i}}function lG(n){if(Array.isArray(n))return n}var cG="file-invalid-type",uG="file-too-large",fG="file-too-small",dG="too-many-files",hG=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:cG,message:"File type must be ".concat(t)}},PE=function(e){return{code:uG,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},RE=function(e){return{code:fG,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},pG={code:dG,message:"Too many files"};function hR(n,e){var t=n.type==="application/x-moz-file"||rG(n,e);return[t,t?null:hG(e)]}function pR(n,e,t){if(cf(n.size))if(cf(e)&&cf(t)){if(n.size>t)return[!1,PE(t)];if(n.size<e)return[!1,RE(e)]}else{if(cf(e)&&n.size<e)return[!1,RE(e)];if(cf(t)&&n.size>t)return[!1,PE(t)]}return[!0,null]}function cf(n){return n!=null}function mG(n){var e=n.files,t=n.accept,i=n.minSize,r=n.maxSize,s=n.multiple,o=n.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=hR(a,t),f=TE(l,1),d=f[0],h=pR(a,i,r),p=TE(h,1),m=p[0];return d&&m})}function mg(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function sm(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function LE(n){n.preventDefault()}function gG(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function vG(n){return n.indexOf("Edge/")!==-1}function yG(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return gG(n)||vG(n)}function us(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return e.some(function(a){return!mg(i)&&a&&a.apply(void 0,[i].concat(s)),mg(i)})}}function xG(){return"showOpenFilePicker"in window}function _G(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return CE(CE({},e),{},dR({},t,[]))},{}):{}}]}function wG(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function SG(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var bG=["children"],MG=["open"],EG=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],CG=["refKey","onChange","onClick"];function TG(n){return RG(n)||PG(n)||mR(n)||AG()}function AG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PG(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function RG(n){if(Array.isArray(n))return Fx(n)}function kv(n,e){return DG(n)||IG(n,e)||mR(n,e)||LG()}function LG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mR(n,e){if(n){if(typeof n=="string")return Fx(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fx(n,e)}}function Fx(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function IG(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,s=!1,o,a;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw a}}return i}}function DG(n){if(Array.isArray(n))return n}function IE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function sn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IE(Object(t),!0).forEach(function(i){Bx(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):IE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Bx(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gg(n,e){if(n==null)return{};var t=kG(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function kG(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var jw=R.forwardRef(function(n,e){var t=n.children,i=gg(n,bG),r=vR(i),s=r.open,o=gg(r,MG);return R.useImperativeHandle(e,function(){return{open:s}},[s]),V.createElement(R.Fragment,null,t(sn(sn({},o),{},{open:s})))});jw.displayName="Dropzone";var gR={disabled:!1,getFilesFromEvent:Z$,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};jw.defaultProps=gR;jw.propTypes={children:Xt.func,accept:Xt.oneOfType([Xt.string,Xt.arrayOf(Xt.string)]),multiple:Xt.bool,preventDropOnDocument:Xt.bool,noClick:Xt.bool,noKeyboard:Xt.bool,noDrag:Xt.bool,noDragEventsBubbling:Xt.bool,minSize:Xt.number,maxSize:Xt.number,maxFiles:Xt.number,disabled:Xt.bool,getFilesFromEvent:Xt.func,onFileDialogCancel:Xt.func,onFileDialogOpen:Xt.func,useFsAccessApi:Xt.bool,onDragEnter:Xt.func,onDragLeave:Xt.func,onDragOver:Xt.func,onDrop:Xt.func,onDropAccepted:Xt.func,onDropRejected:Xt.func,validator:Xt.func};var Ux={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function vR(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=sn(sn({},gR),n),t=e.accept,i=e.disabled,r=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,f=e.onDragEnter,d=e.onDragLeave,h=e.onDragOver,p=e.onDrop,m=e.onDropAccepted,v=e.onDropRejected,y=e.onFileDialogCancel,_=e.onFileDialogOpen,x=e.useFsAccessApi,w=e.preventDropOnDocument,b=e.noClick,M=e.noKeyboard,T=e.noDrag,A=e.noDragEventsBubbling,L=e.validator,C=R.useMemo(function(){return typeof _=="function"?_:DE},[_]),k=R.useMemo(function(){return typeof y=="function"?y:DE},[y]),D=R.useRef(null),O=R.useRef(null),$=R.useReducer(OG,Ux),W=kv($,2),H=W[0],q=W[1],te=H.isFocused,se=H.isFileDialogActive,N=H.draggedFiles,Y=R.useRef(typeof window<"u"&&window.isSecureContext&&x&&xG()),G=function(){!Y.current&&se&&setTimeout(function(){if(O.current){var Q=O.current.files;Q.length||(q({type:"closeDialog"}),k())}},300)};R.useEffect(function(){return window.addEventListener("focus",G,!1),function(){window.removeEventListener("focus",G,!1)}},[O,se,k,Y]);var X=R.useRef([]),J=function(Q){D.current&&D.current.contains(Q.target)||(Q.preventDefault(),X.current=[])};R.useEffect(function(){return w&&(document.addEventListener("dragover",LE,!1),document.addEventListener("drop",J,!1)),function(){w&&(document.removeEventListener("dragover",LE),document.removeEventListener("drop",J))}},[D,w]);var pe=R.useCallback(function(I){I.preventDefault(),I.persist(),Ae(I),X.current=[].concat(TG(X.current),[I.target]),sm(I)&&Promise.resolve(r(I)).then(function(Q){mg(I)&&!A||(q({draggedFiles:Q,isDragActive:!0,type:"setDraggedFiles"}),f&&f(I))})},[r,f,A]),ye=R.useCallback(function(I){I.preventDefault(),I.persist(),Ae(I);var Q=sm(I);if(Q&&I.dataTransfer)try{I.dataTransfer.dropEffect="copy"}catch{}return Q&&h&&h(I),!1},[h,A]),be=R.useCallback(function(I){I.preventDefault(),I.persist(),Ae(I);var Q=X.current.filter(function(Se){return D.current&&D.current.contains(Se)}),xe=Q.indexOf(I.target);xe!==-1&&Q.splice(xe,1),X.current=Q,!(Q.length>0)&&(q({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),sm(I)&&d&&d(I))},[D,d,A]),oe=R.useCallback(function(I,Q){var xe=[],Se=[];I.forEach(function(Te){var tt=hR(Te,t),Re=kv(tt,2),me=Re[0],je=Re[1],it=pR(Te,o,s),Fe=kv(it,2),Je=Fe[0],Ge=Fe[1],Z=L?L(Te):null;if(me&&Je&&!Z)xe.push(Te);else{var _e=[je,Ge];Z&&(_e=_e.concat(Z)),Se.push({file:Te,errors:_e.filter(function(ze){return ze})})}}),(!a&&xe.length>1||a&&l>=1&&xe.length>l)&&(xe.forEach(function(Te){Se.push({file:Te,errors:[pG]})}),xe.splice(0)),q({acceptedFiles:xe,fileRejections:Se,type:"setFiles"}),p&&p(xe,Se,Q),Se.length>0&&v&&v(Se,Q),xe.length>0&&m&&m(xe,Q)},[q,a,t,o,s,l,p,m,v,L]),Ue=R.useCallback(function(I){I.preventDefault(),I.persist(),Ae(I),X.current=[],sm(I)&&Promise.resolve(r(I)).then(function(Q){mg(I)&&!A||oe(Q,I)}),q({type:"reset"})},[r,oe,A]),De=R.useCallback(function(){if(Y.current){q({type:"openDialog"}),C();var I={multiple:a,types:_G(t)};window.showOpenFilePicker(I).then(function(Q){return r(Q)}).then(function(Q){oe(Q,null),q({type:"closeDialog"})}).catch(function(Q){wG(Q)?(k(Q),q({type:"closeDialog"})):SG(Q)&&(Y.current=!1,O.current&&(O.current.value=null,O.current.click()))});return}O.current&&(q({type:"openDialog"}),C(),O.current.value=null,O.current.click())},[q,C,k,x,oe,t,a]),Ye=R.useCallback(function(I){!D.current||!D.current.isEqualNode(I.target)||(I.key===" "||I.key==="Enter"||I.keyCode===32||I.keyCode===13)&&(I.preventDefault(),De())},[D,De]),Pe=R.useCallback(function(){q({type:"focus"})},[]),Ze=R.useCallback(function(){q({type:"blur"})},[]),de=R.useCallback(function(){b||(yG()?setTimeout(De,0):De())},[b,De]),le=function(Q){return i?null:Q},Ee=function(Q){return M?null:le(Q)},ke=function(Q){return T?null:le(Q)},Ae=function(Q){A&&Q.stopPropagation()},st=R.useMemo(function(){return function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=I.refKey,xe=Q===void 0?"ref":Q,Se=I.role,Te=I.onKeyDown,tt=I.onFocus,Re=I.onBlur,me=I.onClick,je=I.onDragEnter,it=I.onDragOver,Fe=I.onDragLeave,Je=I.onDrop,Ge=gg(I,EG);return sn(sn(Bx({onKeyDown:Ee(us(Te,Ye)),onFocus:Ee(us(tt,Pe)),onBlur:Ee(us(Re,Ze)),onClick:le(us(me,de)),onDragEnter:ke(us(je,pe)),onDragOver:ke(us(it,ye)),onDragLeave:ke(us(Fe,be)),onDrop:ke(us(Je,Ue)),role:typeof Se=="string"&&Se!==""?Se:"button"},xe,D),!i&&!M?{tabIndex:0}:{}),Ge)}},[D,Ye,Pe,Ze,de,pe,ye,be,Ue,M,T,i]),qe=R.useCallback(function(I){I.stopPropagation()},[]),Ke=R.useMemo(function(){return function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=I.refKey,xe=Q===void 0?"ref":Q,Se=I.onChange,Te=I.onClick,tt=gg(I,CG),Re=Bx({accept:t,multiple:a,type:"file",style:{display:"none"},onChange:le(us(Se,Ue)),onClick:le(us(Te,qe)),tabIndex:-1},xe,O);return sn(sn({},Re),tt)}},[O,t,a,Ue,i]),Mt=N.length,ht=Mt>0&&mG({files:N,accept:t,minSize:o,maxSize:s,multiple:a,maxFiles:l}),U=Mt>0&&!ht;return sn(sn({},H),{},{isDragAccept:ht,isDragReject:U,isFocused:te&&!i,getRootProps:st,getInputProps:Ke,rootRef:D,inputRef:O,open:le(De)})}function OG(n,e){switch(e.type){case"focus":return sn(sn({},n),{},{isFocused:!0});case"blur":return sn(sn({},n),{},{isFocused:!1});case"openDialog":return sn(sn({},Ux),{},{isFileDialogActive:!0});case"closeDialog":return sn(sn({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,i=e.draggedFiles;return sn(sn({},n),{},{draggedFiles:i,isDragActive:t});case"setFiles":return sn(sn({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return sn({},Ux);default:return n}}function DE(){}/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var NG=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var zG=NG;function kE(n){return zG(n)===!0&&Object.prototype.toString.call(n)==="[object Object]"}var yR=function(e){var t,i;return!(kE(e)===!1||(t=e.constructor,typeof t!="function")||(i=t.prototype,kE(i)===!1)||i.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var FG=yR,Xw=function(e){return FG(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var BG=function(e,t,i){for(var r in e)if(t.call(i,e[r],r,e)===!1)break},UG=Xw,HG=BG;function xR(n,e){for(var t=arguments.length,i=0;++i<t;){var r=arguments[i];Hx(r)&&HG(r,VG,n)}return n}function VG(n,e){if(WG(e)){var t=this[e];Hx(n)&&Hx(t)?xR(t,n):this[e]=n}}function Hx(n){return UG(n)&&!Array.isArray(n)}function WG(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var $G=xR;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var GG=function(n,e,t,i,r){if(!jG(n)||!e)return n;if(e=om(e),t&&(e+="."+om(t)),i&&(e+="."+om(i)),r&&(e+="."+om(r)),e in n)return n[e];for(var s=e.split("."),o=s.length,a=-1;n&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];n=n[l]}return n};function jG(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function om(n){return n?Array.isArray(n)?n.join("."):n:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var XG=function(n,e){if(n===null||typeof n>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,i=Object(n),r=arguments.length,s=0;++s<r;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var f=a[l];t.call(o,f)&&(i[f]=o[f])}return i},YG=Xw,ZG=XG,qG=Object.assign||function(n){if(n===null||typeof n>"u")throw new TypeError("Cannot convert undefined or null to object");OE(n)||(n={});for(var e=1;e<arguments.length;e++){var t=arguments[e];JG(t)&&(t=QG(t)),OE(t)&&(KG(n,t),ZG(n,t))}return n};function KG(n,e){for(var t in e)ej(e,t)&&(n[t]=e[t])}function JG(n){return n&&typeof n=="string"}function QG(n){var e={};for(var t in n)e[t]=n[t];return e}function OE(n){return n&&typeof n=="object"||YG(n)}function ej(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var tj=qG,nj=function(n,e,t){if(typeof n!="string")throw new TypeError("expected a string");typeof e=="function"&&(t=e,e=null),typeof e=="string"&&(e={sep:e});var i=tj({sep:"."},e),r=i.quotes||['"',"'","`"],s;i.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:i.brackets&&(s=i.brackets);var o=[],a=[],l=[""],f=i.sep,d=n.length,h=-1,p;function m(){if(s&&a.length)return s[a[a.length-1]]}for(;++h<d;){var v=n[h],y=n[h+1],_={val:v,idx:h,arr:l,str:n};if(o.push(_),v==="\\"){_.val=rj(i,n,h)===!0?v+y:y,_.escaped=!0,typeof t=="function"&&t(_),l[l.length-1]+=_.val,h++;continue}if(s&&s[v]){a.push(v);var x=m(),w=h+1;if(n.indexOf(x,w+1)!==-1)for(;a.length&&w<d;){var b=n[++w];if(b==="\\"){b++;continue}if(r.indexOf(b)!==-1){w=Vx(n,b,w+1);continue}if(x=m(),a.length&&n.indexOf(x,w+1)===-1)break;if(s[b]){a.push(b);continue}x===b&&a.pop()}if(p=w,p===-1){l[l.length-1]+=v;continue}v=n.slice(h,p+1),_.val=v,_.idx=h=p}if(r.indexOf(v)!==-1){if(p=Vx(n,v,h+1),p===-1){l[l.length-1]+=v;continue}ij(v,i)===!0?v=n.slice(h,p+1):v=n.slice(h+1,p),_.val=v,_.idx=h=p}if(typeof t=="function"&&(t(_,o),v=_.val,h=_.idx),_.val===f&&_.split!==!1){l.push("");continue}l[l.length-1]+=_.val}return l};function Vx(n,e,t,i){var r=n.indexOf(e,t);return n.charAt(r-1)==="\\"?Vx(n,e,r+1):r}function ij(n,e){return e.keepDoubleQuotes===!0&&n==='"'||e.keepSingleQuotes===!0&&n==="'"?!0:e.keepQuotes}function rj(n,e,t){return typeof n.keepEscaping=="function"?n.keepEscaping(e,t):n.keepEscaping===!0||e[t+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var sj=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},NE=sj,oj=function(e){NE(e)||(e={});for(var t=arguments.length,i=1;i<t;i++){var r=arguments[i];NE(r)&&aj(e,r)}return e};function aj(n,e){for(var t in e)lj(e,t)&&(n[t]=e[t])}function lj(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var cj=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var uj=nj,fj=oj,zE=yR,FE=cj,dj=function(n,e,t){if(!FE(n)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return n;for(var i=uj(e,{sep:".",brackets:!0}).filter(hj),r=i.length,s=-1,o=n;++s<r;){var a=i[s];if(s!==r-1){FE(o[a])||(o[a]={}),o=o[a];continue}zE(o[a])&&zE(t)?o[a]=fj({},o[a],t):o[a]=t}return n};function hj(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var Ov=Xw,BE=$G,pj=GG,UE=dj,mj=function(e,t,i){if(!Ov(e))throw new TypeError("expected an object");if(typeof t!="string"||i==null)return BE.apply(null,arguments);if(typeof i=="string")return UE(e,t,i),e;var r=pj(e,t);return Ov(i)&&Ov(r)&&(i=BE({},r,i)),UE(e,t,i),e};const gj=Kc(mj),Yw=(...n)=>n.filter(Boolean).join(".");function vj(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function yj(n,e){return Object.entries(qV(n,e)).reduce((t,[,{value:i,disabled:r,key:s}])=>(t[s]=r?void 0:i,t),{})}function xj(n,e){const t=R.useRef();return(e?md:jd)(n,t.current)||(t.current=n),t.current}function _R(n,e){return R.useMemo(n,xj(e,!0))}function _j(n){const e=R.useRef(null),t=R.useRef(null),i=R.useRef(!0);return R.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),R.useEffect(()=>{if(i.current){i.current=!1;return}let r;const s=e.current,o=()=>{n&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=t.current.getBoundingClientRect();return s.style.height=a+"px",n||(s.style.overflow="hidden",r=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(r)}},[n]),{wrapperRef:e,contentRef:t}}const wj=n=>{const[e,t]=R.useState(n.getVisiblePaths());return R.useEffect(()=>{t(n.getVisiblePaths());const i=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:jd});return()=>i()},[n]),e};function Sj(n,e,t){return n.useStore(r=>{const s=lt(lt({},t),r.data);return yj(s,e)},jd)}function wR(n=3){const e=R.useRef(null),t=R.useRef(null),[i,r]=R.useState(!1),s=R.useCallback(()=>r(!0),[]),o=R.useCallback(()=>r(!1),[]);return R.useLayoutEffect(()=>{if(i){const{bottom:a,top:l,left:f}=e.current.getBoundingClientRect(),{height:d}=t.current.getBoundingClientRect(),h=a+d>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=f+"px",h==="down"?t.current.style.top=a+n+"px":t.current.style.bottom=window.innerHeight-l+n+"px"}},[n,i]),{popinRef:e,wrapperRef:t,shown:i,show:s,hide:o}}D$([k$]);const bj={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};Ui.extend({color:()=>n=>Mi(n).isValid()});const Mj=n=>Ui().color().test(n);function SR(n,{format:e,hasAlpha:t,isString:i}){const r=bj[e]+(i&&e!=="hex"?"String":""),s=n[r]();return typeof s=="object"&&!t?KV(s,["a"]):s}const bR=(n,e)=>{const t=Mi(n);if(!t.isValid())throw Error("Invalid color");return SR(t,e)},Ej=(n,e)=>SR(Mi(n),lt(lt({},e),{},{isString:!0,format:"hex"})),Cj=({value:n})=>{const e=I$(n),t=e==="name"?"hex":e,i=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),r={format:t,hasAlpha:i,isString:typeof n=="string"};return{value:bR(n,r),settings:r}};var Tj=Object.freeze({__proto__:null,schema:Mj,sanitize:bR,format:Ej,normalize:Cj});const Aj=at("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),Pj=at("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),Rj=at("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function HE(n,e){return e!=="rgb"?Mi(n).toRgb():n}function Lj({value:n,displayValue:e,settings:t,onUpdate:i}){const{emitOnEditStart:r,emitOnEditEnd:s}=gi(),{format:o,hasAlpha:a}=t,{popinRef:l,wrapperRef:f,shown:d,show:h,hide:p}=wR(),m=R.useRef(0),[v,y]=R.useState(()=>HE(n,o)),_=a?H$:W$,x=()=>{y(HE(n,o)),h(),r()},w=()=>{p(),s(),window.clearTimeout(m.current)},b=()=>{m.current=window.setTimeout(w,500)};return R.useEffect(()=>()=>window.clearTimeout(m.current),[]),V.createElement(V.Fragment,null,V.createElement(Aj,{ref:l,active:d,onClick:()=>x(),style:{color:e}}),d&&V.createElement(Bw,null,V.createElement($P,{onPointerUp:w}),V.createElement(Rj,{ref:f,onMouseEnter:()=>window.clearTimeout(m.current),onMouseLeave:M=>M.buttons===0&&b()},V.createElement(_,{color:v,onChange:i}))))}function Ij(){const{value:n,displayValue:e,label:t,onChange:i,onUpdate:r,settings:s}=gi();return V.createElement(kr,{input:!0},V.createElement(ts,null,t),V.createElement(Pj,null,V.createElement(Lj,{value:n,displayValue:e,onChange:i,onUpdate:r,settings:s}),V.createElement(Fw,{value:e,onChange:i,onUpdate:r})))}var Dj=lt({component:Ij},Tj);function kj(){const{label:n,displayValue:e,onUpdate:t,settings:i}=gi();return V.createElement(kr,{input:!0},V.createElement(ts,null,n),V.createElement(Hw,{value:e,settings:i,onUpdate:t}))}var Oj=lt({component:kj},JP(["x","y","z"]));const Nj=at("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),zj=at("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function Fj({value:n,settings:e,onUpdate:t}){const i=R.useRef(),r=R.useRef(0),s=R.useRef(0),o=R.useRef(1),[a,l]=R.useState(!1),[f,d]=R.useState(!1),[h,p]=jP(),m=R.useRef(null),v=R.useRef(null);R.useLayoutEffect(()=>{if(a){const{top:$,left:W,width:H,height:q}=m.current.getBoundingClientRect();v.current.style.left=W+H/2+"px",v.current.style.top=$+q/2+"px"}},[a]);const{keys:[y,_],joystick:x}=e,w=x==="invertY"?1:-1,{[y]:{step:b},[_]:{step:M}}=e,T=eo("sizes","joystickWidth"),A=eo("sizes","joystickHeight"),L=parseFloat(T)*.8/2,C=parseFloat(A)*.8/2,k=R.useCallback(()=>{i.current||(d(!0),r.current&&p({x:r.current*L}),s.current&&p({y:s.current*-C}),i.current=window.setInterval(()=>{t($=>{const W=b*r.current*o.current,H=w*M*s.current*o.current;return Array.isArray($)?{[y]:$[0]+W,[_]:$[1]+H}:{[y]:$[y]+W,[_]:$[_]+H}})},16))},[L,C,t,p,b,M,y,_,w]),D=R.useCallback(()=>{window.clearTimeout(i.current),i.current=void 0,d(!1)},[]);R.useEffect(()=>{function $(W){o.current=RP(W)}return window.addEventListener("keydown",$),window.addEventListener("keyup",$),()=>{window.clearTimeout(i.current),window.removeEventListener("keydown",$),window.removeEventListener("keyup",$)}},[]);const O=Zd(({first:$,active:W,delta:[H,q],movement:[te,se]})=>{$&&l(!0);const N=ra(te,-L,L),Y=ra(se,-C,C);r.current=Math.abs(te)>Math.abs(N)?Math.sign(te-N):0,s.current=Math.abs(se)>Math.abs(Y)?Math.sign(Y-se):0;let G=n[y],X=n[_];W?(r.current||(G+=H*b*o.current,p({x:N})),s.current||(X-=w*q*M*o.current,p({y:Y})),r.current||s.current?k():D(),t({[y]:G,[_]:X})):(l(!1),r.current=0,s.current=0,p({x:0,y:0}),D())});return V.createElement(Nj,_n({ref:m},O()),a&&V.createElement(Bw,null,V.createElement(zj,{ref:v,isOutOfBounds:f},V.createElement("div",null),V.createElement("span",{ref:h}))))}const Bj=at("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Uj(){const{label:n,displayValue:e,onUpdate:t,settings:i}=gi();return V.createElement(kr,{input:!0},V.createElement(ts,null,n),V.createElement(Bj,{withJoystick:!!i.joystick},i.joystick&&V.createElement(Fj,{value:e,settings:i,onUpdate:t}),V.createElement(Hw,{value:e,settings:i,onUpdate:t})))}const Hj=["joystick"],MR=JP(["x","y"]),Vj=n=>{let{joystick:e=!0}=n,t=Wt(n,Hj);const{value:i,settings:r}=MR.normalize(t);return{value:i,settings:lt(lt({},r),{},{joystick:e})}};var Wj=lt(lt({component:Uj},MR),{},{normalize:Vj});const $j=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob | File].")}},Gj=(n,e)=>typeof e=="object"&&"image"in e,jj=({image:n})=>({value:n});var Xj=Object.freeze({__proto__:null,sanitize:$j,schema:Gj,normalize:jj});const Yj=at("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),Zj=at("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),qj=at("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),Kj=at("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Jj=at("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Qj=at("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function eX(){const{label:n,value:e,onUpdate:t,disabled:i}=gi(),{popinRef:r,wrapperRef:s,shown:o,show:a,hide:l}=wR(),f=R.useCallback(v=>{v.length&&t(v[0])},[t]),d=R.useCallback(v=>{v.stopPropagation(),t(void 0)},[t]),{getRootProps:h,getInputProps:p,isDragAccept:m}=vR({maxFiles:1,accept:"image/*",onDrop:f,disabled:i});return V.createElement(kr,{input:!0},V.createElement(ts,null,n),V.createElement(Yj,null,V.createElement(qj,{ref:r,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&V.createElement(Bw,null,V.createElement($P,{onPointerUp:l,style:{cursor:"pointer"}}),V.createElement(Kj,{ref:s,style:{backgroundImage:`url(${e})`}})),V.createElement(Zj,h({isDragAccept:m}),V.createElement("input",p()),V.createElement(Jj,null,m?"drop image":"click or drop")),V.createElement(Qj,{onClick:d,disabled:!e})))}var tX=lt({component:eX},Xj);const VE=Ui().number(),nX=(n,e)=>Ui().array().length(2).every.number().test(n)&&Ui().schema({min:VE,max:VE}).test(e),vg=n=>({min:n[0],max:n[1]}),ER=(n,{bounds:[e,t]},i)=>{const r=Array.isArray(n)?vg(n):n,s={min:i[0],max:i[1]},{min:o,max:a}=lt(lt({},s),r);return[ra(Number(o),e,Math.max(e,a)),ra(Number(a),Math.min(t,o),t)]},iX=({value:n,min:e,max:t})=>{const i={min:e,max:t},r=KP(vg(n),{min:i,max:i}),s=[e,t],o=lt(lt({},r),{},{bounds:s});return{value:ER(vg(n),o,n),settings:o}};var rX=Object.freeze({__proto__:null,schema:nX,format:vg,sanitize:ER,normalize:iX});const sX=["value","bounds","onDrag"],oX=["bounds"],aX=at("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function lX(n){let{value:e,bounds:[t,i],onDrag:r}=n,s=Wt(n,sX);const o=R.useRef(null),a=R.useRef(null),l=R.useRef(null),f=R.useRef(0),d=eo("sizes","scrubberWidth"),h=Zd(({event:v,first:y,xy:[_],movement:[x],memo:w={}})=>{if(y){const{width:M,left:T}=o.current.getBoundingClientRect();f.current=M-parseFloat(d);const A=(v==null?void 0:v.target)===a.current||(v==null?void 0:v.target)===l.current;w.pos=dg((_-T)/M,t,i);const L=Math.abs(w.pos-e.min)-Math.abs(w.pos-e.max);w.key=L<0||L===0&&w.pos<=e.min?"min":"max",A&&(w.pos=e[w.key])}const b=w.pos+dg(x/f.current,0,i-t);return r({[w.key]:BW(b,s[w.key])}),w}),p=`calc(${fg(e.min,t,i)} * (100% - ${d} - 8px) + 4px)`,m=`calc(${1-fg(e.max,t,i)} * (100% - ${d} - 8px) + 4px)`;return V.createElement(YP,_n({ref:o},h()),V.createElement(XP,null,V.createElement(ZP,{style:{left:p,right:m}})),V.createElement(Rx,{position:"left",ref:a,style:{left:p}}),V.createElement(Rx,{position:"right",ref:l,style:{right:m}}))}function cX(){const{label:n,displayValue:e,onUpdate:t,settings:i}=gi(),r=Wt(i,oX);return V.createElement(V.Fragment,null,V.createElement(kr,{input:!0},V.createElement(ts,null,n),V.createElement(aX,null,V.createElement(lX,_n({value:e},i,{onDrag:t})),V.createElement(Hw,{value:e,settings:r,onUpdate:t,innerLabelTrim:0}))))}var uX=lt({component:cX},rX);const fX=()=>{const n=new Map;return{on:(e,t)=>{let i=n.get(e);i===void 0&&(i=new Set,n.set(e,i)),i.add(t)},off:(e,t)=>{const i=n.get(e);i!==void 0&&(i.delete(t),i.size===0&&n.delete(e))},emit:(e,...t)=>{const i=n.get(e);if(i!==void 0)for(const r of i)r(...t)}}},dX=["type","value"],hX=["onChange","transient","onEditStart","onEditEnd"],pX=function(){const e=bw(GB(()=>({data:{}}))),t=fX();this.storeId=ZV(),this.useStore=e;const i={},r=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(i).forEach(([d,h])=>{h.render&&a.some(p=>p.indexOf(d)===0)&&!h.render(this.get)&&l.push(d+".")});const f=[];return r.forEach(d=>{d in o&&o[d].__refCount>0&&l.every(h=>d.indexOf(h)===-1)&&(!o[d].render||o[d].render(this.get))&&f.push(d)}),f},this.setOrderedPaths=o=>{o.forEach(a=>r.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(f=>{if(f in l){const d=l[f];d.__refCount--,d.__refCount===0&&d.type in Pr&&delete l[f]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>i[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const f=l.data;return Object.entries(o).forEach(([d,h])=>{let p=f[d];if(p){const{type:m,value:v}=h,y=Wt(h,dX);m!==p.type?js(on.INPUT_TYPE_OVERRIDE,m):((p.__refCount===0||a)&&Object.assign(p,y),p.__refCount++)}else f[d]=lt(lt({},h),{},{__refCount:1})}),{data:f}})},this.setValueAtPath=(o,a,l)=>{e.setState(f=>{const d=f.data;return dE(d[o],a,o,this,l),{data:d}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const f=l.data;return f[o].settings=lt(lt({},f[o].settings),a),{data:f}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const f=l.data;return f[o].disabled=a,{data:f}})},this.set=(o,a)=>{e.setState(l=>{const f=l.data;return Object.entries(o).forEach(([d,h])=>{try{dE(f[d],h,void 0,void 0,a)}catch{}}),{data:f}})},this.getInput=o=>{try{return this.getData()[o]}catch{js(on.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{t.emit(`onEditStart:${o}`,this.get(o),o,lt(lt({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{t.emit(`onEditEnd:${o}`,this.get(o),o,lt(lt({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return t.on(l,a),()=>t.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return t.on(l,a),()=>t.off(l,a)};const s=(o,a,l)=>{const f={};return Object.entries(o).forEach(([d,h])=>{if(d==="")return js(on.EMPTY_KEY);let p=Yw(a,d);if(h.type===Pr.FOLDER){const m=s(h.schema,p,l);Object.assign(f,m),p in i||(i[p]=h.settings)}else if(d in l)js(on.DUPLICATE_KEYS,d,p,l[d].path);else{const m=iW(h,d,p,f);if(m){const{type:v,options:y,input:_}=m,{onChange:x,transient:w,onEditStart:b,onEditEnd:M}=y,T=Wt(y,hX);f[p]=lt(lt(lt({type:v},T),_),{},{fromPanel:!0}),l[d]={path:p,onChange:x,transient:w,onEditStart:b,onEditEnd:M}}else js(on.UNKNOWN_INPUT,p,h)}}),f};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}},CR=new pX,mX={collapsed:!1};function gX(n,e){return{type:Pr.FOLDER,schema:n,settings:lt(lt({},mX),e)}}const vX={disabled:!1};function yX(n,e){return{type:Pr.BUTTON,onClick:n,settings:lt(lt({},vX),e)}}const WE=n=>"__levaInput"in n,xX=(n,e)=>{const t={},i=e?e.toLowerCase():null;return n.forEach(r=>{const[s,o]=vj(r);(!i||s.toLowerCase().indexOf(i)>-1)&&gj(t,o,{[s]:{__levaInput:!0,path:r}})}),t},_X=["type","label","path","valueKey","value","settings","setValue","disabled"];function wX(n){let{type:e,label:t,path:i,valueKey:r,value:s,settings:o,setValue:a,disabled:l}=n,f=Wt(n,_X);const{displayValue:d,onChange:h,onUpdate:p}=GP({type:e,value:s,settings:o,setValue:a}),m=dl[e].component;return m?V.createElement(OP.Provider,{value:lt({key:r,path:i,id:""+i,label:t,displayValue:d,value:s,onChange:h,onUpdate:p,settings:o,setValue:a,disabled:l},f)},V.createElement(bW,{disabled:l},V.createElement(m,null))):(js(on.NO_COMPONENT_FOR_TYPE,e,i),null)}const SX=at("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function bX({onClick:n,settings:e,label:t}){const i=Yd();return V.createElement(kr,null,V.createElement(SX,{disabled:e.disabled,onClick:()=>n(i.get)},t))}const MX=at("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),EX=at("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),CX=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,i=e;return typeof e.opts=="object"&&(i.label!==void 0&&(t=e.label),i=e.opts),{label:t,opts:i}};function TX(n){const{label:e,opts:t}=CX(n),i=Yd();return V.createElement(kr,{input:!!e},e&&V.createElement(ts,null,e),V.createElement(MX,null,Object.entries(t).map(([r,s])=>V.createElement(EX,{key:r,onClick:()=>s(i.get)},r))))}const AX=at("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),TR=100;function PX(n,e){n.push(e),n.length>TR&&n.shift()}const RX=R.forwardRef(function({initialValue:n},e){const t=eo("colors","highlight3"),i=eo("colors","elevation2"),r=eo("colors","highlight1"),[s,o]=R.useMemo(()=>[Mi(r).alpha(.4).toRgbString(),Mi(r).alpha(.1).toRgbString()],[r]),a=R.useRef([n]),l=R.useRef(n),f=R.useRef(n),d=R.useRef(),h=R.useCallback((v,y)=>{if(!v)return;const{width:_,height:x}=v,w=new Path2D,b=_/TR,M=x*.05;for(let L=0;L<a.current.length;L++){const C=fg(a.current[L],l.current,f.current),k=b*L,D=x-C*(x-M*2)-M;w.lineTo(k,D)}y.clearRect(0,0,_,x);const T=new Path2D(w);T.lineTo(b*(a.current.length+1),x),T.lineTo(0,x),T.lineTo(0,0);const A=y.createLinearGradient(0,0,0,x);A.addColorStop(0,s),A.addColorStop(1,o),y.fillStyle=A,y.fill(T),y.strokeStyle=i,y.lineJoin="round",y.lineWidth=14,y.stroke(w),y.strokeStyle=t,y.lineWidth=2,y.stroke(w)},[t,i,s,o]),[p,m]=IW(h);return R.useImperativeHandle(e,()=>({frame:v=>{(l.current===void 0||v<l.current)&&(l.current=v),(f.current===void 0||v>f.current)&&(f.current=v),PX(a.current,v),d.current=requestAnimationFrame(()=>h(p.current,m.current))}}),[p,m,h]),R.useEffect(()=>()=>cancelAnimationFrame(d.current),[]),V.createElement(AX,{ref:p})}),$E=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),LX=R.forwardRef(function({initialValue:n},e){const[t,i]=R.useState($E(n));return R.useImperativeHandle(e,()=>({frame:r=>i($E(r))}),[]),V.createElement("div",null,t)});function GE(n){return typeof n=="function"?n():n.current}function IX({label:n,objectOrFn:e,settings:t}){const i=R.useRef(),r=R.useRef(GE(e));return R.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=i.current)===null||o===void 0||o.frame(GE(e))},t.interval);return()=>window.clearInterval(s)},[e,t.interval]),V.createElement(kr,{input:!0},V.createElement(ts,{align:"top"},n),t.graph?V.createElement(RX,{ref:i,initialValue:r.current}):V.createElement(LX,{ref:i,initialValue:r.current}))}const DX=["type","label","key"],kX={[Pr.BUTTON]:bX,[Pr.BUTTON_GROUP]:TX,[Pr.MONITOR]:IX},OX=V.memo(({path:n})=>{const[e,{set:t,setSettings:i,disable:r,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=kW(n);if(!e)return null;const{type:l,label:f,key:d}=e,h=Wt(e,DX);if(l in Pr){const p=kX[l];return V.createElement(p,_n({label:f,path:n},h))}return l in dl?V.createElement(wX,_n({key:s+n,type:l,label:f,storeId:s,path:n,valueKey:d,setValue:t,setSettings:i,disable:r,emitOnEditStart:o,emitOnEditEnd:a},h)):(HV(on.UNSUPPORTED_INPUT,l,n),null)});function NX({toggle:n,toggled:e,name:t}){return V.createElement(_W,{onClick:()=>n()},V.createElement(Uw,{toggled:e}),V.createElement("div",null,t))}const zX=({name:n,path:e,tree:t})=>{const i=Yd(),r=Yw(e,n),{collapsed:s,color:o}=i.getFolderSettings(r),[a,l]=R.useState(!s),f=R.useRef(null),d=eo("colors","folderWidgetColor"),h=eo("colors","folderTextColor");return R.useLayoutEffect(()=>{f.current.style.setProperty("--leva-colors-folderWidgetColor",o||d),f.current.style.setProperty("--leva-colors-folderTextColor",o||h)},[o,d,h]),V.createElement(hg,{ref:f},V.createElement(NX,{name:n,toggled:a,toggle:()=>l(p=>!p)}),V.createElement(AR,{parent:r,tree:t,toggled:a}))},AR=V.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:i,tree:r,toggled:s})=>{const{wrapperRef:o,contentRef:a}=_j(s),l=Yd(),f=([h,p])=>{var m;return(WE(p)?(m=l.getInput(p.path))===null||m===void 0?void 0:m.order:l.getFolderSettings(Yw(i,h)).order)||0},d=Object.entries(r).sort((h,p)=>f(h)-f(p));return V.createElement(Ax,{ref:o,isRoot:n,fill:e,flat:t},V.createElement(HP,{ref:a,isRoot:n,toggled:s},d.map(([h,p])=>WE(p)?V.createElement(OX,{key:p.path,valueKey:p.valueKey,path:p.path}):V.createElement(zX,{key:h,name:h,path:i,tree:p}))))}),FX=at("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${WP}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),PR=40,yg=at("i",{$flexCenter:"",width:PR,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),BX=at("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),UX=at("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${yg}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),HX=at("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),VX=at("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:PR}}}}),WX=V.forwardRef(({setFilter:n,toggle:e},t)=>{const[i,r]=R.useState(""),s=R.useMemo(()=>PP(n,250),[n]),o=()=>{n(""),r("")},a=l=>{const f=l.currentTarget.value;e(!0),r(f)};return R.useEffect(()=>{s(i)},[i,s]),V.createElement(V.Fragment,null,V.createElement(HX,{ref:t,value:i,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),V.createElement(yg,{onClick:()=>o(),style:{visibility:i?"visible":"hidden"}},V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function $X({setFilter:n,onDrag:e,onDragStart:t,onDragEnd:i,toggle:r,toggled:s,title:o,drag:a,filterEnabled:l,from:f}){const[d,h]=R.useState(!1),p=R.useRef(null);R.useEffect(()=>{var v,y;d?(v=p.current)===null||v===void 0||v.focus():(y=p.current)===null||y===void 0||y.blur()},[d]);const m=Zd(({offset:[v,y],first:_,last:x})=>{e({x:v,y}),_&&t({x:v,y}),x&&i({x:v,y})},{filterTaps:!0,from:({offset:[v,y]})=>[(f==null?void 0:f.x)||v,(f==null?void 0:f.y)||y]});return R.useEffect(()=>{const v=y=>{y.key==="L"&&y.shiftKey&&y.metaKey&&h(_=>!_)};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[]),V.createElement(V.Fragment,null,V.createElement(BX,{mode:a?"drag":void 0},V.createElement(yg,{active:!s,onClick:()=>r()},V.createElement(Uw,{toggled:s,width:12,height:8})),V.createElement(VX,_n({},a?m():{},{drag:a,filterEnabled:l}),o===void 0&&a?V.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},V.createElement("circle",{cx:"2",cy:"2",r:"2"}),V.createElement("circle",{cx:"14",cy:"2",r:"2"}),V.createElement("circle",{cx:"26",cy:"2",r:"2"}),V.createElement("circle",{cx:"2",cy:"12",r:"2"}),V.createElement("circle",{cx:"14",cy:"12",r:"2"}),V.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&V.createElement(yg,{active:d,onClick:()=>h(v=>!v)},V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},V.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),V.createElement(UX,{toggled:d},V.createElement(WX,{ref:p,setFilter:n,toggle:r})))}const GX=["store","hidden","theme","collapsed"];function jX(n){let{store:e,hidden:t=!1,theme:i,collapsed:r=!1}=n,s=Wt(n,GX);const o=_R(()=>pW(i),[i]),[a,l]=R.useState(!r),f=typeof r=="object"?!r.collapsed:a,d=R.useMemo(()=>typeof r=="object"?h=>{typeof h=="function"?r.onChange(!h(!r.collapsed)):r.onChange(!h)}:l,[r]);return!e||t?null:V.createElement(zw.Provider,{value:o},V.createElement(XX,_n({store:e},s,{toggled:f,setToggle:d,rootClass:o.className})))}const XX=V.memo(({store:n,rootClass:e,fill:t=!1,flat:i=!1,neverHide:r=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:f})=>{var d,h;const p=wj(n),[m,v]=R.useState(""),y=R.useMemo(()=>xX(p,m),[p,m]),[_,x]=jP(),w=r||p.length>0,b=typeof o=="object"&&o.title||void 0,M=typeof o=="object"&&(d=o.drag)!==null&&d!==void 0?d:!0,T=typeof o=="object"&&(h=o.filter)!==null&&h!==void 0?h:!0,A=typeof o=="object"&&o.position||void 0,L=typeof o=="object"&&o.onDrag||void 0,C=typeof o=="object"&&o.onDragStart||void 0,k=typeof o=="object"&&o.onDragEnd||void 0;return V.useEffect(()=>{x({x:A==null?void 0:A.x,y:A==null?void 0:A.y})},[A,x]),hW(),V.createElement(zP.Provider,{value:{hideCopyButton:a}},V.createElement(FX,{ref:_,className:e,fill:t,flat:i,oneLineLabels:s,hideTitleBar:!o,style:{display:w?"block":"none"}},o&&V.createElement($X,{onDrag:D=>{x(D),L==null||L(D)},onDragStart:D=>C==null?void 0:C(D),onDragEnd:D=>k==null?void 0:k(D),setFilter:v,toggle:D=>f(O=>D??!O),toggled:l,title:b,drag:M,filterEnabled:T,from:A}),w&&V.createElement(NP.Provider,{value:n},V.createElement(AR,{isRoot:!0,fill:t,flat:i,tree:y,toggled:l}))))}),YX=["isRoot"];let xg=!1,Ga=null;function RR(n){let{isRoot:e=!1}=n,t=Wt(n,YX);return R.useEffect(()=>(xg=!0,!e&&Ga&&(Ga.remove(),Ga=null),()=>{e||(xg=!1)}),[e]),V.createElement(jX,_n({store:CR},t))}function ZX(n){R.useEffect(()=>{n&&!xg&&(Ga||(Ga=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(Ga),sW(V.createElement(RR,{isRoot:!0}),Ga))),xg=!0)},[n])}function qX(n,e,t,i,r){let s,o,a,l,f;return typeof n=="string"?(o=n,s=e,Array.isArray(t)?f=t:t&&("store"in t?(l=t,f=i):(a=t,Array.isArray(i)?f=i:(l=i,f=r)))):(s=n,Array.isArray(e)?f=e:(l=e,f=t)),{schema:s,folderName:o,folderSettings:a,hookSettings:l,deps:f||[]}}function Nv(n,e,t,i,r){const{folderName:s,schema:o,folderSettings:a,hookSettings:l,deps:f}=qX(n,e,t,i,r),d=typeof o=="function",h=R.useRef(!1),p=R.useRef(!0),m=_R(()=>{h.current=!0;const O=typeof o=="function"?o():o;return s?{[s]:gX(O,a)}:O},f),v=!(l!=null&&l.store);ZX(v);const[y]=R.useState(()=>(l==null?void 0:l.store)||CR),[_,x]=R.useMemo(()=>y.getDataFromSchema(m),[y,m]),[w,b,M,T,A]=R.useMemo(()=>{const O=[],$=[],W={},H={},q={};return Object.values(x).forEach(({path:te,onChange:se,onEditStart:N,onEditEnd:Y,transient:G})=>{O.push(te),se?(W[te]=se,G||$.push(te)):$.push(te),N&&(H[te]=N),Y&&(q[te]=Y)}),[O,$,W,H,q]},[x]),L=R.useMemo(()=>y.orderPaths(w),[w,y]),C=Sj(y,b,_),k=R.useCallback(O=>{const $=Object.entries(O).reduce((W,[H,q])=>Object.assign(W,{[x[H].path]:q}),{});y.set($,!1)},[y,x]),D=R.useCallback(O=>y.get(x[O].path),[y,x]);return R.useEffect(()=>{const O=!p.current&&h.current;return y.addData(_,O),p.current=!1,h.current=!1,()=>y.disposePaths(L)},[y,L,_]),R.useEffect(()=>{const O=[];return Object.entries(M).forEach(([$,W])=>{W(y.get($),$,lt({initial:!0,get:y.get},y.getInput($)));const H=y.useStore.subscribe(q=>{const te=q.data[$];return[te.disabled?void 0:te.value,te]},([q,te])=>W(q,$,lt({initial:!1,get:y.get},te)),{equalityFn:jd});O.push(H)}),()=>O.forEach($=>$())},[y,M]),R.useEffect(()=>{const O=[];return Object.entries(T).forEach(([$,W])=>O.push(y.subscribeToEditStart($,W))),Object.entries(A).forEach(([$,W])=>O.push(y.subscribeToEditEnd($,W))),()=>O.forEach($=>$())},[T,A,y]),d?[C,k,D]:C}mo(Jr.SELECT,KW);mo(Jr.IMAGE,tX);mo(Jr.NUMBER,HW);mo(Jr.COLOR,Dj);mo(Jr.STRING,o$);mo(Jr.BOOLEAN,h$);mo(Jr.INTERVAL,uX);mo(Jr.VECTOR3D,Oj);mo(Jr.VECTOR2D,Wj);function Tn(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var KX=["color"],LR=R.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Tn(n,KX);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),R.createElement("path",{d:"M0 1.5C0 1.22386 0.223858 1 0.5 1H2.5C2.77614 1 3 1.22386 3 1.5C3 1.77614 2.77614 2 2.5 2H0.5C0.223858 2 0 1.77614 0 1.5ZM4 1.5C4 1.22386 4.22386 1 4.5 1H14.5C14.7761 1 15 1.22386 15 1.5C15 1.77614 14.7761 2 14.5 2H4.5C4.22386 2 4 1.77614 4 1.5ZM4 4.5C4 4.22386 4.22386 4 4.5 4H11.5C11.7761 4 12 4.22386 12 4.5C12 4.77614 11.7761 5 11.5 5H4.5C4.22386 5 4 4.77614 4 4.5ZM0 7.5C0 7.22386 0.223858 7 0.5 7H2.5C2.77614 7 3 7.22386 3 7.5C3 7.77614 2.77614 8 2.5 8H0.5C0.223858 8 0 7.77614 0 7.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H14.5C14.7761 7 15 7.22386 15 7.5C15 7.77614 14.7761 8 14.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H4.5C4.22386 11 4 10.7761 4 10.5ZM0 13.5C0 13.2239 0.223858 13 0.5 13H2.5C2.77614 13 3 13.2239 3 13.5C3 13.7761 2.77614 14 2.5 14H0.5C0.223858 14 0 13.7761 0 13.5ZM4 13.5C4 13.2239 4.22386 13 4.5 13H14.5C14.7761 13 15 13.2239 15 13.5C15 13.7761 14.7761 14 14.5 14H4.5C4.22386 14 4 13.7761 4 13.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),JX=["color"],QX=R.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Tn(n,JX);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),R.createElement("path",{d:"M11.5 1C11.7761 1 12 1.22386 12 1.5V13.5C12 13.7761 11.7761 14 11.5 14C11.2239 14 11 13.7761 11 13.5V1.5C11 1.22386 11.2239 1 11.5 1ZM9.5 3C9.77614 3 10 3.22386 10 3.5V13.5C10 13.7761 9.77614 14 9.5 14C9.22386 14 9 13.7761 9 13.5V3.5C9 3.22386 9.22386 3 9.5 3ZM13.5 3C13.7761 3 14 3.22386 14 3.5V13.5C14 13.7761 13.7761 14 13.5 14C13.2239 14 13 13.7761 13 13.5V3.5C13 3.22386 13.2239 3 13.5 3ZM5.5 4C5.77614 4 6 4.22386 6 4.5V13.5C6 13.7761 5.77614 14 5.5 14C5.22386 14 5 13.7761 5 13.5V4.5C5 4.22386 5.22386 4 5.5 4ZM1.5 5C1.77614 5 2 5.22386 2 5.5V13.5C2 13.7761 1.77614 14 1.5 14C1.22386 14 1 13.7761 1 13.5V5.5C1 5.22386 1.22386 5 1.5 5ZM7.5 5C7.77614 5 8 5.22386 8 5.5V13.5C8 13.7761 7.77614 14 7.5 14C7.22386 14 7 13.7761 7 13.5V5.5C7 5.22386 7.22386 5 7.5 5ZM3.5 7C3.77614 7 4 7.22386 4 7.5V13.5C4 13.7761 3.77614 14 3.5 14C3.22386 14 3 13.7761 3 13.5V7.5C3 7.22386 3.22386 7 3.5 7Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),eY=["color"],tY=R.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Tn(n,eY);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),R.createElement("path",{d:"M2 5H13C13.5523 5 14 5.44772 14 6V9C14 9.55228 13.5523 10 13 10H2C1.44772 10 1 9.55228 1 9V6C1 5.44772 1.44772 5 2 5ZM0 6C0 4.89543 0.895431 4 2 4H13C14.1046 4 15 4.89543 15 6V9C15 10.1046 14.1046 11 13 11H2C0.89543 11 0 10.1046 0 9V6ZM4.5 6.75C4.08579 6.75 3.75 7.08579 3.75 7.5C3.75 7.91421 4.08579 8.25 4.5 8.25C4.91421 8.25 5.25 7.91421 5.25 7.5C5.25 7.08579 4.91421 6.75 4.5 6.75ZM6.75 7.5C6.75 7.08579 7.08579 6.75 7.5 6.75C7.91421 6.75 8.25 7.08579 8.25 7.5C8.25 7.91421 7.91421 8.25 7.5 8.25C7.08579 8.25 6.75 7.91421 6.75 7.5ZM10.5 6.75C10.0858 6.75 9.75 7.08579 9.75 7.5C9.75 7.91421 10.0858 8.25 10.5 8.25C10.9142 8.25 11.25 7.91421 11.25 7.5C11.25 7.08579 10.9142 6.75 10.5 6.75Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),nY=["color"],iY=R.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Tn(n,nY);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),R.createElement("path",{d:"M7.28856 0.796908C7.42258 0.734364 7.57742 0.734364 7.71144 0.796908L13.7114 3.59691C13.8875 3.67906 14 3.85574 14 4.05V10.95C14 11.1443 13.8875 11.3209 13.7114 11.4031L7.71144 14.2031C7.57742 14.2656 7.42258 14.2656 7.28856 14.2031L1.28856 11.4031C1.11252 11.3209 1 11.1443 1 10.95V4.05C1 3.85574 1.11252 3.67906 1.28856 3.59691L7.28856 0.796908ZM2 4.80578L7 6.93078V12.9649L2 10.6316V4.80578ZM8 12.9649L13 10.6316V4.80578L8 6.93078V12.9649ZM7.5 6.05672L12.2719 4.02866L7.5 1.80176L2.72809 4.02866L7.5 6.05672Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),rY=["color"],sY=R.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Tn(n,rY);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),R.createElement("path",{d:"M7.5 9.125C8.39746 9.125 9.125 8.39746 9.125 7.5C9.125 6.60254 8.39746 5.875 7.5 5.875C6.60254 5.875 5.875 6.60254 5.875 7.5C5.875 8.39746 6.60254 9.125 7.5 9.125ZM7.5 10.125C8.94975 10.125 10.125 8.94975 10.125 7.5C10.125 6.05025 8.94975 4.875 7.5 4.875C6.05025 4.875 4.875 6.05025 4.875 7.5C4.875 8.94975 6.05025 10.125 7.5 10.125Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),oY=["color"],aY=R.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Tn(n,oY);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),R.createElement("path",{d:"M7.49999 3.09998C7.27907 3.09998 7.09999 3.27906 7.09999 3.49998C7.09999 3.72089 7.27907 3.89998 7.49999 3.89998H14.5C14.7209 3.89998 14.9 3.72089 14.9 3.49998C14.9 3.27906 14.7209 3.09998 14.5 3.09998H7.49999ZM7.49998 5.1C7.27907 5.1 7.09998 5.27908 7.09998 5.5C7.09998 5.72091 7.27907 5.9 7.49998 5.9H14.5C14.7209 5.9 14.9 5.72091 14.9 5.5C14.9 5.27908 14.7209 5.1 14.5 5.1H7.49998ZM7.1 7.5C7.1 7.27908 7.27909 7.1 7.5 7.1H14.5C14.7209 7.1 14.9 7.27908 14.9 7.5C14.9 7.72091 14.7209 7.9 14.5 7.9H7.5C7.27909 7.9 7.1 7.72091 7.1 7.5ZM7.49998 9.1C7.27907 9.1 7.09998 9.27908 7.09998 9.5C7.09998 9.72091 7.27907 9.9 7.49998 9.9H14.5C14.7209 9.9 14.9 9.72091 14.9 9.5C14.9 9.27908 14.7209 9.1 14.5 9.1H7.49998ZM7.09998 11.5C7.09998 11.2791 7.27907 11.1 7.49998 11.1H14.5C14.7209 11.1 14.9 11.2791 14.9 11.5C14.9 11.7209 14.7209 11.9 14.5 11.9H7.49998C7.27907 11.9 7.09998 11.7209 7.09998 11.5ZM2.5 9.25003L5 6.00003H0L2.5 9.25003Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),lY=["color"],cY=R.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Tn(n,lY);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),R.createElement("path",{d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),uY=["color"],fY=R.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Tn(n,uY);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),R.createElement("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),dY=["color"],Wx=R.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Tn(n,dY);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),R.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),hY=["color"],pY=R.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Tn(n,hY);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),R.createElement("path",{d:"M5.49998 0.5C5.49998 0.223858 5.72383 0 5.99998 0H7.49998H8.99998C9.27612 0 9.49998 0.223858 9.49998 0.5C9.49998 0.776142 9.27612 1 8.99998 1H7.99998V2.11922C9.09832 2.20409 10.119 2.56622 10.992 3.13572C11.0116 3.10851 11.0336 3.08252 11.058 3.05806L12.058 2.05806C12.3021 1.81398 12.6978 1.81398 12.9419 2.05806C13.186 2.30214 13.186 2.69786 12.9419 2.94194L11.967 3.91682C13.1595 5.07925 13.9 6.70314 13.9 8.49998C13.9 12.0346 11.0346 14.9 7.49998 14.9C3.96535 14.9 1.09998 12.0346 1.09998 8.49998C1.09998 5.13361 3.69904 2.3743 6.99998 2.11922V1H5.99998C5.72383 1 5.49998 0.776142 5.49998 0.5ZM2.09998 8.49998C2.09998 5.51764 4.51764 3.09998 7.49998 3.09998C10.4823 3.09998 12.9 5.51764 12.9 8.49998C12.9 11.4823 10.4823 13.9 7.49998 13.9C4.51764 13.9 2.09998 11.4823 2.09998 8.49998ZM7.49998 8.49998V4.09998C5.06992 4.09998 3.09998 6.06992 3.09998 8.49998C3.09998 10.93 5.06992 12.9 7.49998 12.9C8.715 12.9 9.815 12.4075 10.6112 11.6112L7.49998 8.49998Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),mY=["color"],gY=R.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Tn(n,mY);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),R.createElement("path",{d:"M7.75432 0.819537C7.59742 0.726821 7.4025 0.726821 7.24559 0.819537L1.74559 4.06954C1.59336 4.15949 1.49996 4.32317 1.49996 4.5C1.49996 4.67683 1.59336 4.84051 1.74559 4.93046L7.24559 8.18046C7.4025 8.27318 7.59742 8.27318 7.75432 8.18046L13.2543 4.93046C13.4066 4.84051 13.5 4.67683 13.5 4.5C13.5 4.32317 13.4066 4.15949 13.2543 4.06954L7.75432 0.819537ZM7.49996 7.16923L2.9828 4.5L7.49996 1.83077L12.0171 4.5L7.49996 7.16923ZM1.5695 7.49564C1.70998 7.2579 2.01659 7.17906 2.25432 7.31954L7.49996 10.4192L12.7456 7.31954C12.9833 7.17906 13.2899 7.2579 13.4304 7.49564C13.5709 7.73337 13.4921 8.03998 13.2543 8.18046L7.75432 11.4305C7.59742 11.5232 7.4025 11.5232 7.24559 11.4305L1.74559 8.18046C1.50786 8.03998 1.42901 7.73337 1.5695 7.49564ZM1.56949 10.4956C1.70998 10.2579 2.01658 10.1791 2.25432 10.3195L7.49996 13.4192L12.7456 10.3195C12.9833 10.1791 13.2899 10.2579 13.4304 10.4956C13.5709 10.7334 13.4921 11.04 13.2543 11.1805L7.75432 14.4305C7.59742 14.5232 7.4025 14.5232 7.24559 14.4305L1.74559 11.1805C1.50785 11.04 1.42901 10.7334 1.56949 10.4956Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),vY=["color"],yY=R.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Tn(n,vY);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),R.createElement("path",{d:"M8.69667 0.0403541C8.90859 0.131038 9.03106 0.354857 8.99316 0.582235L8.0902 6.00001H12.5C12.6893 6.00001 12.8625 6.10701 12.9472 6.27641C13.0319 6.4458 13.0136 6.6485 12.8999 6.80001L6.89997 14.8C6.76167 14.9844 6.51521 15.0503 6.30328 14.9597C6.09135 14.869 5.96888 14.6452 6.00678 14.4178L6.90974 9H2.49999C2.31061 9 2.13748 8.893 2.05278 8.72361C1.96809 8.55422 1.98636 8.35151 2.09999 8.2L8.09997 0.200038C8.23828 0.0156255 8.48474 -0.0503301 8.69667 0.0403541ZM3.49999 8.00001H7.49997C7.64695 8.00001 7.78648 8.06467 7.88148 8.17682C7.97648 8.28896 8.01733 8.43723 7.99317 8.5822L7.33027 12.5596L11.5 7.00001H7.49997C7.353 7.00001 7.21347 6.93534 7.11846 6.8232C7.02346 6.71105 6.98261 6.56279 7.00678 6.41781L7.66968 2.44042L3.49999 8.00001Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),xY=["color"],_Y=R.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Tn(n,xY);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),R.createElement("path",{d:"M1.49988 2.00012C1.77602 2.00012 1.99988 1.77626 1.99988 1.50012C1.99988 1.22398 1.77602 1.00012 1.49988 1.00012C1.22374 1.00012 0.999878 1.22398 0.999878 1.50012C0.999878 1.77626 1.22374 2.00012 1.49988 2.00012ZM4.49988 2.00012C4.77602 2.00012 4.99988 1.77626 4.99988 1.50012C4.99988 1.22398 4.77602 1.00012 4.49988 1.00012C4.22374 1.00012 3.99988 1.22398 3.99988 1.50012C3.99988 1.77626 4.22374 2.00012 4.49988 2.00012ZM7.99988 1.50012C7.99988 1.77626 7.77602 2.00012 7.49988 2.00012C7.22374 2.00012 6.99988 1.77626 6.99988 1.50012C6.99988 1.22398 7.22374 1.00012 7.49988 1.00012C7.77602 1.00012 7.99988 1.22398 7.99988 1.50012ZM10.4999 2.00012C10.776 2.00012 10.9999 1.77626 10.9999 1.50012C10.9999 1.22398 10.776 1.00012 10.4999 1.00012C10.2237 1.00012 9.99988 1.22398 9.99988 1.50012C9.99988 1.77626 10.2237 2.00012 10.4999 2.00012ZM13.9999 1.50012C13.9999 1.77626 13.776 2.00012 13.4999 2.00012C13.2237 2.00012 12.9999 1.77626 12.9999 1.50012C12.9999 1.22398 13.2237 1.00012 13.4999 1.00012C13.776 1.00012 13.9999 1.22398 13.9999 1.50012ZM1.49988 14.0001C1.77602 14.0001 1.99988 13.7763 1.99988 13.5001C1.99988 13.224 1.77602 13.0001 1.49988 13.0001C1.22374 13.0001 0.999878 13.224 0.999878 13.5001C0.999878 13.7763 1.22374 14.0001 1.49988 14.0001ZM1.99988 10.5001C1.99988 10.7763 1.77602 11.0001 1.49988 11.0001C1.22374 11.0001 0.999878 10.7763 0.999878 10.5001C0.999878 10.224 1.22374 10.0001 1.49988 10.0001C1.77602 10.0001 1.99988 10.224 1.99988 10.5001ZM1.49988 8.00012C1.77602 8.00012 1.99988 7.77626 1.99988 7.50012C1.99988 7.22398 1.77602 7.00012 1.49988 7.00012C1.22374 7.00012 0.999878 7.22398 0.999878 7.50012C0.999878 7.77626 1.22374 8.00012 1.49988 8.00012ZM1.99988 4.50012C1.99988 4.77626 1.77602 5.00012 1.49988 5.00012C1.22374 5.00012 0.999878 4.77626 0.999878 4.50012C0.999878 4.22398 1.22374 4.00012 1.49988 4.00012C1.77602 4.00012 1.99988 4.22398 1.99988 4.50012ZM13.4999 11.0001C13.776 11.0001 13.9999 10.7763 13.9999 10.5001C13.9999 10.224 13.776 10.0001 13.4999 10.0001C13.2237 10.0001 12.9999 10.224 12.9999 10.5001C12.9999 10.7763 13.2237 11.0001 13.4999 11.0001ZM13.9999 7.50012C13.9999 7.77626 13.776 8.00012 13.4999 8.00012C13.2237 8.00012 12.9999 7.77626 12.9999 7.50012C12.9999 7.22398 13.2237 7.00012 13.4999 7.00012C13.776 7.00012 13.9999 7.22398 13.9999 7.50012ZM13.4999 5.00012C13.776 5.00012 13.9999 4.77626 13.9999 4.50012C13.9999 4.22398 13.776 4.00012 13.4999 4.00012C13.2237 4.00012 12.9999 4.22398 12.9999 4.50012C12.9999 4.77626 13.2237 5.00012 13.4999 5.00012ZM4.99988 13.5001C4.99988 13.7763 4.77602 14.0001 4.49988 14.0001C4.22374 14.0001 3.99988 13.7763 3.99988 13.5001C3.99988 13.224 4.22374 13.0001 4.49988 13.0001C4.77602 13.0001 4.99988 13.224 4.99988 13.5001ZM7.49988 14.0001C7.77602 14.0001 7.99988 13.7763 7.99988 13.5001C7.99988 13.224 7.77602 13.0001 7.49988 13.0001C7.22374 13.0001 6.99988 13.224 6.99988 13.5001C6.99988 13.7763 7.22374 14.0001 7.49988 14.0001ZM10.9999 13.5001C10.9999 13.7763 10.776 14.0001 10.4999 14.0001C10.2237 14.0001 9.99988 13.7763 9.99988 13.5001C9.99988 13.224 10.2237 13.0001 10.4999 13.0001C10.776 13.0001 10.9999 13.224 10.9999 13.5001ZM13.4999 14.0001C13.776 14.0001 13.9999 13.7763 13.9999 13.5001C13.9999 13.224 13.776 13.0001 13.4999 13.0001C13.2237 13.0001 12.9999 13.224 12.9999 13.5001C12.9999 13.7763 13.2237 14.0001 13.4999 14.0001ZM3.99988 5.00012C3.99988 4.44784 4.44759 4.00012 4.99988 4.00012H9.99988C10.5522 4.00012 10.9999 4.44784 10.9999 5.00012V10.0001C10.9999 10.5524 10.5522 11.0001 9.99988 11.0001H4.99988C4.44759 11.0001 3.99988 10.5524 3.99988 10.0001V5.00012ZM4.99988 5.00012H9.99988V10.0001H4.99988V5.00012Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),wY=["color"],SY=R.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Tn(n,wY);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),R.createElement("path",{d:"M2.25 7.5C2.25 7.22386 2.47386 7 2.75 7H12.25C12.5261 7 12.75 7.22386 12.75 7.5C12.75 7.77614 12.5261 8 12.25 8H2.75C2.47386 8 2.25 7.77614 2.25 7.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),bY=["color"],MY=R.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Tn(n,bY);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),R.createElement("path",{d:"M6.04995 2.74998C6.04995 2.44623 5.80371 2.19998 5.49995 2.19998C5.19619 2.19998 4.94995 2.44623 4.94995 2.74998V12.25C4.94995 12.5537 5.19619 12.8 5.49995 12.8C5.80371 12.8 6.04995 12.5537 6.04995 12.25V2.74998ZM10.05 2.74998C10.05 2.44623 9.80371 2.19998 9.49995 2.19998C9.19619 2.19998 8.94995 2.44623 8.94995 2.74998V12.25C8.94995 12.5537 9.19619 12.8 9.49995 12.8C9.80371 12.8 10.05 12.5537 10.05 12.25V2.74998Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),EY=["color"],CY=R.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Tn(n,EY);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),R.createElement("path",{d:"M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),TY=["color"],AY=R.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Tn(n,TY);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),R.createElement("path",{d:"M0.5 4C0.223858 4 0 4.22386 0 4.5V10.5C0 10.7761 0.223858 11 0.5 11H14.5C14.7761 11 15 10.7761 15 10.5V4.5C15 4.22386 14.7761 4 14.5 4H0.5ZM1 10V5H2.075V7.5C2.075 7.73472 2.26528 7.925 2.5 7.925C2.73472 7.925 2.925 7.73472 2.925 7.5V5H4.075V6.5C4.075 6.73472 4.26528 6.925 4.5 6.925C4.73472 6.925 4.925 6.73472 4.925 6.5V5H6.075V6.5C6.075 6.73472 6.26528 6.925 6.5 6.925C6.73472 6.925 6.925 6.73472 6.925 6.5V5H8.075V7.5C8.075 7.73472 8.26528 7.925 8.5 7.925C8.73472 7.925 8.925 7.73472 8.925 7.5V5H10.075V6.5C10.075 6.73472 10.2653 6.925 10.5 6.925C10.7347 6.925 10.925 6.73472 10.925 6.5V5H12.075V6.5C12.075 6.73472 12.2653 6.925 12.5 6.925C12.7347 6.925 12.925 6.73472 12.925 6.5V5H14V10H1Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),PY=["color"],RY=R.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Tn(n,PY);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),R.createElement("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),LY=["color"],IR=R.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Tn(n,LY);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),R.createElement("path",{d:"M4 6H11L7.5 10.5L4 6Z",fill:i}))}),IY=["color"],DR=R.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Tn(n,IY);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),R.createElement("path",{d:"M4 9H11L7.5 4.5L4 9Z",fill:i}))}),DY=["color"],kR=R.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Tn(n,DY);return R.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),R.createElement("path",{d:"M7.49998 1L6.92321 2.00307L1.17498 12L0.599976 13H1.7535H13.2464H14.4L13.825 12L8.07674 2.00307L7.49998 1ZM7.49998 3.00613L2.3285 12H12.6714L7.49998 3.00613Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))});function kY(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function $x(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jE(Object(t),!0).forEach(function(i){kY(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}class OY{constructor(e={}){this.names=[""],this.finished=[],this.gl=void 0,this.extension=void 0,this.query=void 0,this.paused=!1,this.queryHasResult=!1,this.queryCreated=!1,this.isWebGL2=!0,this.memAccums=[],this.gpuAccums=[],this.activeAccums=[],this.chart=[],this.gpuChart=[],this.memChart=[],this.paramLogger=()=>{},this.glFinish=()=>{},this.chartLogger=()=>{},this.chartLen=60,this.maxMemory=1500,this.chartHz=10,this.chartFrame=0,this.gpuTimeProcess=0,this.chartTime=0,this.activeQueries=0,this.circularId=0,this.detected=0,this.frameId=0,this.rafId=0,this.checkQueryId=0,this.uuid=void 0,this.currentMem=0,this.paramFrame=0,this.paramTime=0,this.now=()=>{},this.t0=0,window.GLPerf=window.GLPerf||{},Object.assign(this,e),this.chart=new Array(this.chartLen).fill(0),this.gpuChart=new Array(this.chartLen).fill(0),this.memChart=new Array(this.chartLen).fill(0),this.now=()=>window.performance&&window.performance.now?window.performance.now():Date.now(),this.initGpu(),this.is120hz()}initGpu(){this.uuid=uA.generateUUID(),this.gl&&(this.isWebGL2=!0,this.extension||(this.extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")),this.extension===null&&(this.isWebGL2=!1))}is120hz(){let e=0;const t=i=>{++e<20?this.rafId=window.requestAnimationFrame(t):(this.detected=Math.ceil(1e3*e/(i-this.t0)/70),window.cancelAnimationFrame(this.rafId)),this.t0||(this.t0=i)};this.rafId=window.requestAnimationFrame(t)}addUI(e){this.names.indexOf(e)===-1&&(this.names.push(e),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFrame(e){this.frameId++;const t=e||this.now(),i=t-this.paramTime;let r=0;if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=t;else if(t>=this.paramTime+200){this.maxMemory=window.performance.memory?window.performance.memory.jsHeapSizeLimit/1048576:0;const s=this.frameId-this.paramFrame,o=s*1e3/i;for(let a=0;a<this.names.length;a++)r=this.isWebGL2?this.gpuAccums[a]:this.gpuAccums[a]/i,this.currentMem=Math.round(window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize/1048576:0),this.paramLogger({gpu:r,i:a,mem:this.currentMem,maxMemory:this.maxMemory,fps:o,duration:Math.round(i),frameCount:s}),this.isWebGL2?this.gpuAccums[a]=0:Promise.all(this.finished).then(()=>{this.gpuAccums[a]=0,this.finished=[]});this.paramFrame=this.frameId,this.paramTime=t}if(!this.detected||!this.chartFrame)this.chartFrame=this.frameId,this.chartTime=t,this.circularId=0;else{const s=t-this.chartTime;let o=this.chartHz*s/1e3;for(;--o>0&&this.detected;){const l=(this.frameId-this.chartFrame)/s*1e3;this.chart[this.circularId%this.chartLen]=l;const f=1e3/this.currentMem,d=(this.isWebGL2?this.gpuAccums[1]*2:Math.round(this.gpuAccums[1]/i*100))+4;d>0&&(this.gpuChart[this.circularId%this.chartLen]=d),f>0&&(this.memChart[this.circularId%this.chartLen]=f);for(let h=0;h<this.names.length;h++)this.chartLogger({i:h,data:{fps:this.chart,gpu:this.gpuChart,mem:this.memChart},circularId:this.circularId});this.circularId++,this.chartFrame=this.frameId,this.chartTime=t}}}startGpu(){const e=this.gl,t=this.extension;if(!(!e||!t)&&this.isWebGL2){let i=!1,r,s;if(this.query){this.queryHasResult=!1;let o=this.query;if(i=e.getQueryParameter(o,e.QUERY_RESULT_AVAILABLE),r=e.getParameter(t.GPU_DISJOINT_EXT),i&&!r){s=e.getQueryParameter(this.query,e.QUERY_RESULT);const a=s*1e-6;i&&a>0&&(r||this.activeAccums.forEach((l,f)=>{this.gpuAccums[f]=a}))}}(i||!this.query)&&(this.queryCreated=!0,this.query=e.createQuery(),e.beginQuery(t.TIME_ELAPSED_EXT,this.query))}}endGpu(){const e=this.extension,t=this.gl;this.isWebGL2&&this.queryCreated&&t.getQuery(e.TIME_ELAPSED_EXT,t.CURRENT_QUERY)&&t.endQuery(e.TIME_ELAPSED_EXT)}begin(e){this.startGpu(),this.updateAccums(e)}end(e){this.endGpu(),this.updateAccums(e)}updateAccums(e){let t=this.names.indexOf(e);t===-1&&(t=this.names.length,this.addUI(e));const i=this.now();this.activeAccums[t]=!this.activeAccums[t],this.t0=i}}const NY=n=>{n.forEach((e,t)=>{const{meshes:i}=e;if(!i)return;let r={total:0,type:"Triangle",data:[]};Object.keys(i).forEach(s=>{const o=i[s],{geometry:a,material:l}=o;let f=a.index;const d=a.attributes.position;if(!d)return;let h=1;l.wireframe===!0&&(h=0);const p=f!==null?f.count:d.count,m=a.drawRange.start*h,v=a.drawRange.count*h,y=m,_=Math.min(p,m+v)-1;let x=1;const w=o.count||1;let b="Triangle",M=0;o.isMesh?l.wireframe===!0?(b="Line",x=x/2):(b="Triangle",x=x/3):o.isLine?(b="Line",o.isLineSegments?x=x/2:o.isLineLoop?x=x:x=x-1):o.isPoints?(b="Point",x=x):o.isSprite&&(b="Triangle",x=x/3);const T=Math.round(Math.max(0,_-y+1)*(x*w));T>M&&(M=T,r.type=b),r.total+=T,r.data.push({drawCount:T,type:b}),o.userData.drawCount={type:b,count:T}}),e.drawCounts=r})},zY=bt.prototype.updateMatrixWorld,FY=bt.prototype.updateWorldMatrix,XE=bt.prototype.updateMatrix;let Ec={value:0},hs={value:0};const BY=n=>{let e=""+n;return e=e.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"),e!==null},YE=(n,e)=>{n.defines||(n.defines={}),n.defines&&!n.defines.muiPerf&&(n.defines=Object.assign(n.defines||{},{muiPerf:n.uuid}));const t=n.uuid;return e[t]||(e[t]={meshes:{},material:n},n.needsUpdate=!0),n.needsUpdate=!1,t},UY=n=>n==="muiPerf",tn=bw(n=>({log:null,paused:!1,triggerProgramsUpdate:0,customData:0,chart:{data:{fps:[],gpu:[],mem:[]},circularId:0},gl:void 0,objectWithMaterials:null,scene:void 0,programs:new Map,sceneLength:void 0,tab:"infos"})),OR=({trackCPU:n,chart:e,deepAnalyze:t,matrixUpdate:i})=>{const{gl:r,scene:s}=wr();tn.setState({gl:r,scene:s});const o=R.useMemo(()=>{const a=new OY({trackGPU:!0,chartLen:e?e.length:120,chartHz:e?e.hz:60,gl:r.getContext(),chartLogger:d=>{tn.setState({chart:d})},paramLogger:d=>{tn.setState({log:{maxMemory:d.maxMemory,gpu:d.gpu,mem:d.mem,fps:d.fps,totalTime:d.duration,frameCount:d.frameCount}})}}),l=new Map,f=new Map;return Object.defineProperty(Gc.prototype,"onBeforeRender",{get(){return(...d)=>{var h;a&&a.begin("profiler"),(h=l.get(this))===null||h===void 0||h(...d)}},set(d){l.set(this,d)},configurable:!0}),Object.defineProperty(Gc.prototype,"onAfterRender",{get(){return(...d)=>{var h;a&&a.end("profiler"),(h=f.get(this))===null||h===void 0||h(...d)}},set(d){f.set(this,d)},configurable:!0}),a},[]);return R.useEffect(()=>{i&&(bt.prototype.updateMatrixWorld=function(){(this.matrixWorldNeedsUpdate||arguments[0])&&Ec.value++,zY.apply(this,arguments)},bt.prototype.updateWorldMatrix=function(){Ec.value++,FY.apply(this,arguments)},bt.prototype.updateMatrix=function(){hs.value++,XE.apply(this,arguments)}),r.info.autoReset=!1;let a=null,l=null;if(r.info)return a=TF(function(){tn.getState().paused&&tn.setState({paused:!1}),hs.value-=1,Ec.value=0,hs.value=0,r.info&&r.info.reset()}),l=AF(function(){if(o&&!o.paused&&o.nextFrame(window.performance.now()),t){var d,h;const p={},m=new Map;s.traverse(function(y){if((y instanceof Yn||y instanceof iw)&&y.material){let _=y.material.uuid;Array.isArray(y.material)&&y.material.length>1?_=YE(y.material[1],p):_=YE(y.material,p),p[_].meshes[y.uuid]=y}}),r==null||(d=r.info)===null||d===void 0||(h=d.programs)===null||h===void 0||h.forEach(v=>{const y=v.cacheKey.split(","),_=y[y.findIndex(UY)+1];if(BY(_)&&p[_]){const{material:x,meshes:w}=p[_];m.set(_,{program:v,material:x,meshes:w,drawCounts:{total:0,type:"triangle",data:[]},expand:!1,visible:!0})}}),m.size!==tn.getState().programs.size&&(NY(m),tn.setState({programs:m,triggerProgramsUpdate:tn.getState().triggerProgramsUpdate++}))}}),()=>{o&&(window.cancelAnimationFrame(o.rafId),window.cancelAnimationFrame(o.checkQueryId)),i&&(bt.prototype.updateMatrixWorld=XE),a(),l()}},[o,r,n,e,i]),R.useEffect(()=>{const a=PF(function(){return o&&(o.paused=!0,hs.value=0,Ec.value=0,tn.setState({paused:!0,log:{maxMemory:0,gpu:0,mem:0,fps:0,totalTime:0,frameCount:0}})),!1});return()=>{a()}},[]),null},HY=Bn("div",{position:"fixed",top:0,right:0,zIndex:9999,fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif`,backgroundColor:"rgba(36, 36, 36, .9)",color:"#fff",margin:0,minHeight:"100px",padding:"4px 0","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",userSelect:"none","&.top-left":{right:"initial",left:0},"&.bottom-left":{right:"initial",top:"initial",bottom:0,left:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.bottom-right":{top:"initial",bottom:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.minimal":{backgroundColor:"rgba(36, 36, 36, .75)"},"*":{margin:"0",padding:"0",border:"0",fontSize:"100%",lineHeight:"1",verticalAlign:"baseline"}}),zv=Bn("small",{position:"absolute",right:0,fontSize:"10px"}),fi=Bn("div",{display:"inline-flex",fontStyle:"normal",padding:0,lineHeight:"13px",fontSize:"14px",width:"62px",position:"relative",pointerEvents:"auto",cursor:"default",fontWeight:500,letterSpacing:"0px",textAlign:"left",height:"29px",whiteSpace:"nowrap",justifyContent:"space-evenly",fontVariantNumeric:"tabular-nums",small:{paddingLeft:"12px"},svg:{padding:0,color:"rgba(145, 145, 145, 0.3)",fontSize:"40px",position:"absolute",zIndex:1,maxHeight:"20px",left:" 50%",marginLeft:"-23px",top:"4px"}}),zi=Bn("span",{verticalAlign:"bottom",position:"absolute",bottom:"5px",color:"rgba(101, 197, 188, 1)",textAlign:"right",letterSpacing:"1px",fontSize:"8px",fontWeight:"500",width:"60px"}),VY=Bn("div",{display:"flex"}),WY=Bn("div",{backgroundColor:"#404040",padding:"6px",display:"block",fontSize:"12px",marginBottom:"6px",cursor:"pointer","*":{cursor:"pointer !important"},"> span":{},small:{fontSize:"9px"},"> b":{marginRight:"4px",cursor:"pointer"}}),$Y=Bn("div",{height:"66px",overflow:"hidden",position:"absolute",pointerEvents:"none",display:"flex",top:"0px",justifyContent:"center",width:"100%",minWidth:"310px",margin:"0 auto",canvas:{background:"transparent !important",position:"absolute !important"}}),GY=Bn("div",{textAlign:"center",fontWeight:700,fontSize:"12px",lineHeight:"12px",display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"middle",color:"#f1f1f1",padding:"7px",width:"100%",backgroundColor:"rgba(36, 36, 37, 0.8)",zIndex:1,position:"absolute",height:"100%"}),Zw=Bn("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),jY=Bn("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",float:"right",backgroundColor:"rgb(41, 43, 45)",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),XY=Bn("div",{padding:"4px 6px",fontSize:"12px",pointerEvents:"auto"}),YY=Bn("span",{fontWeight:"bold",letterSpacing:"0.08em",maxWidth:"145px",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",verticalAlign:"middle",fontSize:"11px",marginRight:"10px"}),ZY=Bn("div",{maxHeight:"50vh",overflowY:"auto",marginTop:"38px"}),qY=Bn("div",{marginTop:"0"}),ZE=Bn("div",{display:"flex",position:"relative",fontWeight:"bold",color:"#fff",lineHeight:"14px",svg:{marginRight:"4px",display:"inline-block"}}),NR=Bn("ul",{display:"block",position:"relative",paddingLeft:"10px",margin:"6px 6px",img:{maxHeight:"60px",maxWidth:"100%",margin:"6px auto",display:"block"},"&:after":{content:"",position:"absolute",left:"0px",top:"0px",width:"1px",height:"100%",backgroundColor:"grey",transform:"translateX(-50%)",maxHeight:"50vh",overflowY:"auto"},li:{borderBottom:"1px solid #313131",display:"block",padding:"4px",margin:0,lineHeight:1,verticalAlign:"middle",height:"24px"},b:{fontWeight:"bold"},small:{textAlign:"revert",letterSpacing:"1px",fontSize:"10px",fontWeight:"500",marginLeft:"2px",color:"rgb(101, 197, 188)"}}),zR=Bn("button",{fontWeight:"bold",letterSpacing:"0.02em",backgroundColor:"rgb(41, 43, 45)",color:"rgb(211, 211, 211)",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",display:"block",verticalAlign:"middle",fontSize:"11px",padding:"5px",margin:"4px auto"}),KY=Bn("div",{display:"flex",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0 auto",color:"rgba(145, 145, 145, 1)",textAlign:"center",position:"absolute",right:0,bottom:" -20px",svg:{width:"12px",height:"12px",float:"left"}}),JY=Bn("li",{display:"flex !important",height:"auto !important",span:{height:"40px",display:"block",position:"relative"},b:{paddingLeft:"12px"}}),qi=R.memo(({isPerf:n,color:e,customData:t,isMemory:i,isShadersInfo:r,metric:s,fontSize:o,offsetY:a=0,offsetX:l,round:f,hasInstance:d})=>{const{width:h,height:p}=wr(y=>y.viewport),m=R.useRef(null),v=R.useRef(null);return Qg(function(){const _=tn.getState().gl,x=tn.getState().log;if(!x||!m.current||(t&&(m.current.text=tn.getState().customData),!s))return;let w=x[s];if(r){var b;w=(b=_.info.programs)===null||b===void 0?void 0:b.length}else s==="matriceCount"?w=hs.value:!n&&_.info.render&&(w=(i?_.info.memory:_.info.render)[s]);if(m.current.text=(s==="maxMemory"?"/":"")+(Math.round(w*Math.pow(10,f))/Math.pow(10,f)).toFixed(f),d){const M=_.info.instance;if(typeof M>"u"&&s!=="matriceCount")return;let T;s==="matriceCount"?T=Ec.value:T=M[s],T>0?(m.current.fontSize=o/1.15,v.current.fontSize=w>0?o/1.4:o,m.current.position.y=p/2-a-o/1.9,v.current.text=" ±	"+(Math.round(T*Math.pow(10,f))/Math.pow(10,f)).toFixed(f)):(m.current.position.y=p/2-a-o,m.current.fontSize=o)}hs.value-=1,m.current.updateMatrix(),m.current.matrixWorld.copy(m.current.matrix)}),$e(R.Suspense,{fallback:null,children:[fe(D3,{textAlign:"justify",matrixAutoUpdate:!1,ref:m,fontSize:o,position:[-h/2+l+o,p/2-a-o,0],color:e,characters:"0123456789",onUpdate:y=>{y.updateMatrix(),hs.value-=1,y.matrixWorld.copy(y.matrix)},children:"0"}),d&&fe(D3,{textAlign:"justify",matrixAutoUpdate:!1,ref:v,fontSize:8,position:[-h/2+l+o,p/2-a-o*1.15,0],color:"lightgrey",characters:"0123456789",onUpdate:y=>{y.updateMatrix(),hs.value-=1,y.matrixWorld.copy(y.matrix)}})]})}),QY=({colorBlind:n,customData:e,minimal:t,matrixUpdate:i})=>$e(ys,{children:[fe(qi,{color:`rgb(${ps(n).fps.toString()})`,isPerf:!0,metric:"fps",fontSize:14,offsetX:140,round:0}),fe(qi,{color:"",isPerf:!0,metric:"mem",fontSize:14,offsetX:80,round:0}),fe(qi,{color:"",isPerf:!0,metric:"maxMemory",fontSize:8,offsetX:112,offsetY:10,round:0}),fe(qi,{color:`rgb(${ps(n).gpu.toString()})`,isPerf:!0,metric:"gpu",fontSize:14,offsetX:10,round:3}),t?null:$e(ys,{children:[fe(qi,{metric:"calls",fontSize:14,offsetX:200,round:0,hasInstance:!0}),fe(qi,{metric:"triangles",fontSize:14,offsetX:260,round:0,hasInstance:!0}),fe(qi,{isMemory:!0,metric:"geometries",fontSize:14,offsetY:30,offsetX:0,round:0}),fe(qi,{isMemory:!0,metric:"textures",fontSize:14,offsetY:30,offsetX:80,round:0}),fe(qi,{isShadersInfo:!0,metric:"programs",fontSize:14,offsetY:30,offsetX:140,round:0}),fe(qi,{metric:"lines",fontSize:14,offsetY:30,offsetX:200,round:0,hasInstance:!0}),fe(qi,{metric:"points",fontSize:14,offsetY:30,offsetX:260,round:0,hasInstance:!0}),i&&fe(qi,{isPerf:!0,metric:"matriceCount",fontSize:14,offsetY:30,offsetX:320,round:0,hasInstance:!0})]}),e&&fe(qi,{color:`rgb(${ps(n).custom.toString()})`,customData:e,fontSize:14,offsetY:0,offsetX:t?200:320,round:0})]}),eZ=({colorBlind:n,minimal:e,chart:t={length:30,hz:15}})=>{const i=R.useMemo(()=>({fps:new Float32Array(t.length*3),mem:new Float32Array(t.length*3),gpu:new Float32Array(t.length*3)}),[t]),r=R.useRef(null),s=R.useRef(null),o=R.useRef(null),a=R.useMemo(()=>new z(0,0,0),[]),l=(d,h=1,p,m)=>{let v=0;const{width:y,height:_}=m,x=tn.getState().chart.data[d];if(!x||x.length===0)return;const w=e?2:6,b=e?12:50;let M=x.length;for(let T=0;T<M;T++){let A=(tn.getState().chart.circularId+T+1)%M;x[A]!==void 0&&(x[A]>v&&(v=x[A]*h),a.set(w+T/(M-1)*(y-w*2)-y/2,Math.min(100,x[A])*h/100*(_-w*2-b)-_/2,0),a.toArray(p.attributes.position.array,T*3))}p.attributes.position.needsUpdate=!0},[f]=R.useState(window.performance.memory);return Qg(function({viewport:h}){l("fps",1,r.current,h),l("gpu",5,s.current,h),f&&l("mem",1,o.current,h)}),$e(ys,{children:[$e("line",{children:[fe("bufferGeometry",{ref:r,children:fe("bufferAttribute",{attach:"attributes-position",count:t.length,array:i.fps,itemSize:3,needsUpdate:!0})}),fe("lineBasicMaterial",{color:`rgb(${ps(n).fps.toString()})`,transparent:!0,opacity:.5})]}),$e("line",{children:[fe("bufferGeometry",{ref:s,children:fe("bufferAttribute",{attach:"attributes-position",count:t.length,array:i.gpu,itemSize:3,needsUpdate:!0})}),fe("lineBasicMaterial",{color:`rgb(${ps(n).gpu.toString()})`,transparent:!0,opacity:.5})]}),f&&$e("line",{children:[fe("bufferGeometry",{ref:o,children:fe("bufferAttribute",{attach:"attributes-position",count:t.length,array:i.mem,itemSize:3,needsUpdate:!0})}),fe("lineBasicMaterial",{color:`rgb(${ps(n).mem.toString()})`,transparent:!0,opacity:.5})]})]})},tZ=({colorBlind:n,chart:e,customData:t,matrixUpdate:i,showGraph:r=!0,antialias:s=!0,minimal:o})=>{const a=R.useRef(void 0),l=tn(f=>f.paused);return $e($Y,{style:{display:"flex",position:"absolute",height:`${o?37:r?100:60}px`,minWidth:`${o?"100px":t?"370px":"310px"}`},children:[fe(F4,{ref:a,orthographic:!0,dpr:s?[1,2]:1,gl:{antialias:!0,alpha:!0,stencil:!1,depth:!1},onCreated:({scene:f})=>{f.traverse(d=>{d.matrixWorldAutoUpdate=!1,d.matrixAutoUpdate=!1})},flat:!0,style:{marginBottom:"-42px",position:"relative",pointerEvents:"none",background:"transparent !important",height:`${o?37:r?100:60}px`},children:l?null:$e(ys,{children:[fe(nZ,{}),fe(QY,{customData:t,minimal:o,matrixUpdate:i}),r&&fe(eZ,{colorBlind:n,minimal:o,chart:e})]})}),l&&$e(GY,{children:[fe(MY,{})," PAUSED"]})]})},nZ=()=>(Qg(function({gl:e,scene:t,camera:i}){i.updateMatrix(),hs.value-=1,i.matrixWorld.copy(i.matrix),i.matrixWorldInverse.copy(i.matrixWorld).invert(),e.render(t,i),Ec.value=0,hs.value=0},1/0),null);function iZ(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function rZ(n,e){if(n==null)return{};var t=iZ(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}const sZ=["portal","className","children"],oZ=R.forwardRef((n,e)=>{let{portal:t,className:i,children:r}=n,s=rZ(n,sZ);const o=wr(d=>d.gl),a=R.useRef(null),l=R.useRef(null),f=(t==null?void 0:t.current)!=null?t.current:o.domElement.parentNode;return R.useLayoutEffect(()=>{if(!a.current||!f)return;const d=document.createElement("div"),h=l.current=d5(d);return f.appendChild(d),()=>{h.unmount(),l.current=null,f.removeChild(d)}},[f]),R.useLayoutEffect(()=>{const d=l.current;d&&d.render(fe("div",{ref:e,className:i,children:r}))}),fe("group",$x($x({},s),{},{ref:a}))}),qE=(n,e)=>{const t=r=>{switch(r){case 1e3:return"RepeatWrapping";case 1001:return"ClampToEdgeWrapping";case 1002:return"MirroredRepeatWrapping";default:return"ClampToEdgeWrapping"}},i=r=>{switch(r){case 3e3:return"LinearEncoding";case 3001:return"sRGBEncoding";case 3002:return"RGBEEncoding";case 3003:return"LogLuvEncoding";case 3004:return"RGBM7Encoding";case 3005:return"RGBM16Encoding";case 3006:return"RGBDEncoding";case 3007:return"GammaEncoding";default:return"ClampToEdgeWrapping"}};return{name:n,url:e.image.currentSrc,encoding:i(e.encoding),wrapT:t(e.image.wrapT),flipY:e.flipY.toString()}},aZ=({program:n,material:e,setTexNumber:t})=>{const i=tn(o=>o.gl),[r,s]=R.useState(null);return R.useEffect(()=>{if(i){const o=n==null?void 0:n.getUniforms();let a=0;const l=new Map;o.seq.forEach(f=>{if(!f.id.includes("uTroika")&&f.id!=="isOrthographic"&&f.id!=="uvTransform"&&f.id!=="lightProbe"&&f.id!=="projectionMatrix"&&f.id!=="viewMatrix"&&f.id!=="normalMatrix"&&f.id!=="modelMatrix"&&f.id!=="modelViewMatrix"){let d=[],h={name:f.id};f.cache&&(f.cache.forEach(p=>{typeof p<"u"&&d.push(p.toString().substring(0,4))}),h.value=d.join(),e[f.id]&&e[f.id].image&&e[f.id].image&&(a++,h.value=qE(f.id,e[f.id])),h.value||(h.value="empty"),l.set(f.id,h))}}),e.uniforms&&Object.keys(e.uniforms).forEach(f=>{const d=e.uniforms[f];if(d.value){const{value:h}=d;let p={name:f};if(f.includes("uTroika"))return;if(h instanceof fn)a++,p.value=qE(f,h);else{let m=JSON.stringify(h);try{m=JSON.stringify(h)}catch{m=h.toString()}p.value=m}l.set(f,p)}}),a>0&&t(a),s(l)}},[]),fe(NR,{children:r&&Array.from(r.values()).map(o=>fe("span",{children:typeof o.value=="string"?fe("li",{children:$e("span",{children:[o.name," :"," ",$e("b",{children:[o.value.substring(0,30),o.value.length>30?"...":""]})]})}):$e(ys,{children:[fe("li",{children:$e("b",{children:[o.value.name,":"]})}),$e("div",{children:[Object.keys(o.value).map(a=>a!=="name"?fe("div",{children:a==="url"?fe("a",{href:o.value[a],target:"_blank",children:fe("img",{src:o.value[a]})}):$e("li",{children:[a,": ",fe("b",{children:o.value[a]})]})},a):null),$e(zR,{onClick:()=>{var a;console.info(e[o.value.name]||(e==null||(a=e.uniforms[o.value.name])===null||a===void 0?void 0:a.value))},children:["console.info(",o.value.name,");"]})]})]})},o.name))})},lZ=({el:n})=>{tn(i=>i.log);const e=tn(i=>i.gl),t=i=>{if(!e)return 0;const r=Math.round(i.drawCounts.total/(e.info.render.triangles+e.info.render.lines+e.info.render.points)*100*10)/10;return isFinite(r)&&r||0};return fe(ys,{children:n.drawCounts.total>0&&$e(fi,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[n.drawCounts.type==="Triangle"?fe(kR,{style:{top:"-1px"}}):fe(LR,{style:{top:"-1px"}}),n.drawCounts.total,$e("small",{children:[n.drawCounts.type,"s"]}),e&&$e(zi,{style:{bottom:"-10px",width:"40px",fontWeight:"bold"},children:[n.visible&&!n.material.wireframe?t(n):0,"%"]})]})})},cZ=({el:n})=>{const[e,t]=R.useState(n.visible),[i,r]=R.useState(n.expand),[s,o]=R.useState(0),{meshes:a,program:l,material:f}=n;return $e(XY,{children:[$e(WY,{onClick:()=>{n.expand=!i,Object.keys(a).forEach(d=>{const h=a[d];h.material.wireframe=!1}),r(!i)},children:[fe(Zw,{style:{marginRight:"6px"},children:i?fe("span",{children:fe(IR,{})}):fe("span",{children:fe(DR,{})})}),l&&$e("span",{children:[fe(YY,{children:l.name}),$e(fi,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[fe(gY,{style:{top:"-1px"}}),Object.keys(a).length,fe("small",{children:Object.keys(a).length>1?"users":"user"})]}),s>0&&$e(fi,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[s>1?fe(Wx,{style:{top:"-1px"}}):fe(Wx,{style:{top:"-1px"}}),s,fe("small",{children:"tex"})]}),fe(lZ,{el:n}),f.glslVersion==="300 es"&&$e(fi,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[fe(CY,{style:{top:"-1px"}}),"300",fe("small",{children:"es"}),fe(zi,{style:{bottom:"-10px",width:"40px"},children:"glsl"})]})]}),fe(jY,{onPointerEnter:()=>{Object.keys(a).forEach(d=>{const h=a[d];h.material.wireframe=!0})},onPointerLeave:()=>{Object.keys(a).forEach(d=>{const h=a[d];h.material.wireframe=!1})},onClick:d=>{d.stopPropagation(),Object.keys(a).forEach(h=>{const p=a[h],m=!e;p.visible=m,n.visible=m,t(m)})},children:e?fe(fY,{}):fe(cY,{})})]}),$e("div",{style:{maxHeight:i?"9999px":0,overflow:"hidden"},children:[$e(ZE,{children:[fe(tY,{})," Uniforms:"]}),fe(aZ,{program:l,material:f,setTexNumber:o}),$e(ZE,{children:[fe(iY,{})," Geometries:"]}),fe(NR,{children:a&&Object.keys(a).map(d=>a[d]&&a[d].geometry&&$e(JY,{children:[$e("span",{children:[a[d].geometry.type,": "]}),a[d].userData&&a[d].userData.drawCount&&$e("b",{children:[$e("div",{children:[a[d].userData.drawCount.count,$e("small",{children:[" ",a[d].userData.drawCount.type,"s"]})]}),fe("br",{}),$e("div",{children:[Math.round(jB(a[d].geometry)/1024*1e3)/1e3,"Kb",fe("small",{children:" memory used"})]})]})]},d))}),$e(zR,{onClick:()=>{console.info(f)},children:["console.info(",f.type,")"]})]})]})},uZ=()=>{tn(e=>e.triggerProgramsUpdate);const n=tn(e=>e.programs);return fe(qY,{children:n&&Array.from(n.values()).map(e=>e&&e?fe(cZ,{el:e},e.material.uuid):null)})},ps=n=>({fps:n?"100, 143, 255":"238,38,110",mem:n?"254, 254, 98":"66,226,46",gpu:n?"254,254,254":"253,151,31",custom:n?"86,180,233":"40,255,255"}),fZ=({showGraph:n,colorBlind:e,customData:t,minimal:i})=>{const r=tn(s=>s.gl);return r?$e(VY,{children:[$e(fi,{children:[fe(yY,{}),fe(zi,{style:n?{color:`rgb(${ps(e).gpu.toString()})`}:{},children:"GPU"}),fe(zv,{children:"ms"})]}),$e(fi,{children:[fe(AY,{}),fe(zi,{style:n?{color:`rgb(${ps(e).mem.toString()})`}:{},children:"Memory"}),fe(zv,{children:"mb"})]}),$e(fi,{children:[fe(pY,{}),fe(zi,{style:n?{color:`rgb(${ps(e).fps})`}:{},children:"FPS"})]}),!i&&r&&$e(fi,{children:[fe(RY,{}),fe(zi,{children:r.info.render.calls===1?"call":"calls"})]}),!i&&r&&$e(fi,{children:[fe(kR,{}),fe(zi,{children:"Triangles"})]}),t&&$e(fi,{children:[fe(QX,{}),fe(zi,{style:n?{color:`rgb(${ps(e).custom})`}:{},children:t.name}),t.info&&fe(zv,{children:t.info})]})]}):null},dZ=({showGraph:n,colorBlind:e,deepAnalyze:t,customData:i,matrixUpdate:r,openByDefault:s,minimal:o})=>$e(ys,{children:[fe(fZ,{showGraph:n,colorBlind:e,customData:i,minimal:o}),!o&&fe(pZ,{matrixUpdate:r,openByDefault:s,deepAnalyze:t,showGraph:n})]}),hZ=({matrixUpdate:n})=>$e("div",{children:[$e(fi,{children:[fe(_Y,{}),fe(zi,{children:"Geometries"})]}),$e(fi,{children:[fe(Wx,{}),fe(zi,{children:"Textures"})]}),$e(fi,{children:[fe(LR,{}),fe(zi,{children:"shaders"})]}),$e(fi,{children:[fe(SY,{}),fe(zi,{children:"Lines"})]}),$e(fi,{children:[fe(sY,{}),fe(zi,{children:"Points"})]}),n&&$e(fi,{children:[fe(aY,{}),fe(zi,{children:"Matrices"})]})]}),KE=({tab:n,title:e,set:t})=>{const i=tn(r=>r.tab);return fe(Zw,{className:`${i===n?" __perf_toggle_tab_active":""}`,onClick:()=>{t(!0),tn.setState({tab:n})},children:fe("span",{children:e})})},pZ=({openByDefault:n,showGraph:e,deepAnalyze:t,matrixUpdate:i})=>{const[r,s]=V.useState(n);return $e("span",{children:[fe(mZ,{show:r,showGraph:e,matrixUpdate:i}),n&&!t?null:$e(KY,{className:"__perf_toggle",children:[t&&fe(KE,{tab:"programs",title:"Programs",set:s}),t&&fe(KE,{tab:"infos",title:"Infos",set:s}),fe(Zw,{onClick:()=>{s(!r)},children:r?$e("span",{children:[fe(IR,{})," Minimize"]}):$e("span",{children:[fe(DR,{})," More"]})})]})]})},mZ=({show:n,showGraph:e,matrixUpdate:t})=>{const i=tn(r=>r.tab);return $e(ys,{children:[fe(hZ,{matrixUpdate:t}),n&&fe("div",{children:fe(ZY,{style:{marginTop:e?"38px":0},children:i==="programs"&&fe(uZ,{})})})]})},gZ=({showGraph:n,colorBlind:e,openByDefault:t,className:i,style:r,position:s,chart:o,deepAnalyze:a,antialias:l,customData:f,matrixUpdate:d,minimal:h})=>{const p=R.useRef(null);return $e(ys,{children:[fe(OR,{chart:o,deepAnalyze:a,matrixUpdate:d}),fe(oZ,{transform:!1,children:$e(HY,{className:(i?" ".concat(i):" ")+` ${s||""} ${h?"minimal":""}`,style:$x({minHeight:h?"37px":n?"100px":"60px"},r),ref:p,children:[fe(tZ,{perfContainerRef:p,colorBlind:e,chart:o,showGraph:n,antialias:l,customData:f,minimal:h,matrixUpdate:d}),fe(dZ,{colorBlind:e,showGraph:n,deepAnalyze:a,openByDefault:t,customData:f,matrixUpdate:d,minimal:h})]})})]})},vZ=({headless:n=!1,colorBlind:e=!1,showGraph:t=!0,trackCPU:i=!1,deepAnalyze:r=!1,antialias:s=!0,openByDefault:o=!0,customData:a,matrixUpdate:l=!1,position:f="top-right",chart:d={length:30,hz:15},className:h,style:p,minimal:m=!1})=>n?fe(OR,{chart:d,deepAnalyze:r,matrixUpdate:l}):fe(gZ,{colorBlind:e,showGraph:t,trackCPU:i,openByDefault:o,className:h,style:p,position:f,antialias:s,chart:d,deepAnalyze:r,minimal:m,customData:a,matrixUpdate:l});function yZ(){const{perfVisible:n}=Nv({perfVisible:!0}),{position:e,color:t,visible:i}=Nv("sphere",{position:{value:{x:-2,y:0},min:-4,max:4,step:.01,joystick:"invertY"},color:"#ff0000",visible:!0,myInterval:{min:0,max:10,value:[4,5]},clickMe:yX(()=>{console.log("hey")}),choice:{options:["a","b","c"]}}),{scale:r}=Nv("cube",{scale:{value:"1.5",step:"0.01",min:0,max:5}});return $e(ys,{children:[n?fe(vZ,{position:"top-left"}):null,fe(eU,{makeDefault:!0}),fe("directionalLight",{position:[1,2,3],intensity:1.5}),fe("ambientLight",{intensity:.5}),$e("mesh",{position:[e.x,e.y,0],visible:i,children:[fe("sphereGeometry",{}),fe("meshStandardMaterial",{color:t})]}),$e("mesh",{"position-x":2,scale:r,children:[fe("boxGeometry",{}),fe("meshStandardMaterial",{color:"mediumpurple"})]}),$e("mesh",{"position-y":-1,"rotation-x":-Math.PI*.5,scale:10,children:[fe("planeGeometry",{}),fe("meshStandardMaterial",{color:"greenyellow"})]})]})}const xZ=Fv.createRoot(document.querySelector("#root"));xZ.render($e(R.StrictMode,{children:[fe(RR,{collapsed:!0}),fe(F4,{camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:fe(yZ,{})})]}));export{ml as B,Be as C,Fg as D,Zo as F,c4 as I,En as L,K_ as M,ru as P,oA as R,xt as S,fn as T,pA as U,ve as V,J_ as a,gl as b,tr as c,jc as d,Bt as e,Ei as f,Yn as g,_t as h,Xe as i,ca as j,pt as k,z as l};
//# sourceMappingURL=index-46b1c928.js.map
